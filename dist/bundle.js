/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 33);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/* unknown exports provided */
/* all exports used */
/*!******************************!*\
  !*** ./~/axios/lib/utils.js ***!
  \******************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar bind = __webpack_require__(/*! ./helpers/bind */ 8);\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  typeof document.createElement -> undefined\n */\nfunction isStandardBrowserEnv() {\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined' &&\n    typeof document.createElement === 'function'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object' && !isArray(obj)) {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vYXhpb3MvbGliL3V0aWxzLmpzPzk0MzAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG5cbi8qZ2xvYmFsIHRvU3RyaW5nOnRydWUqL1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsKSB7XG4gIHJldHVybiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJykgJiYgKHZhbCBpbnN0YW5jZW9mIEZvcm1EYXRhKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAodmFsLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRmlsZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQmxvYih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJlYW0odmFsKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zO1xufVxuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJykucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgLT4gdW5kZWZpbmVkXG4gKi9cbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50ID09PSAnZnVuY3Rpb24nXG4gICk7XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyAmJiAhaXNBcnJheShvYmopKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGEsIGIsIHRoaXNBcmcpIHtcbiAgZm9yRWFjaChiLCBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0aGlzQXJnICYmIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNBcnJheTogaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcjogaXNBcnJheUJ1ZmZlcixcbiAgaXNGb3JtRGF0YTogaXNGb3JtRGF0YSxcbiAgaXNBcnJheUJ1ZmZlclZpZXc6IGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZzogaXNTdHJpbmcsXG4gIGlzTnVtYmVyOiBpc051bWJlcixcbiAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG4gIGlzRGF0ZTogaXNEYXRlLFxuICBpc0ZpbGU6IGlzRmlsZSxcbiAgaXNCbG9iOiBpc0Jsb2IsXG4gIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtOiBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXM6IGlzVVJMU2VhcmNoUGFyYW1zLFxuICBpc1N0YW5kYXJkQnJvd3NlckVudjogaXNTdGFuZGFyZEJyb3dzZXJFbnYsXG4gIGZvckVhY2g6IGZvckVhY2gsXG4gIG1lcmdlOiBtZXJnZSxcbiAgZXh0ZW5kOiBleHRlbmQsXG4gIHRyaW06IHRyaW1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL3V0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 1 */
/* unknown exports provided */
/* all exports used */
/*!************************!*\
  !*** external "React" ***!
  \************************/
/***/ (function(module, exports) {

eval("module.exports = React;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcIlJlYWN0XCI/OWRlOSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiUmVhY3RcIlxuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 2 */
/* unknown exports provided */
/* all exports used */
/*!*********************************!*\
  !*** ./~/axios/lib/defaults.js ***!
  \*********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(process) {\n\nvar utils = __webpack_require__(/*! ./utils */ 0);\nvar normalizeHeaderName = __webpack_require__(/*! ./helpers/normalizeHeaderName */ 29);\n\nvar PROTECTION_PREFIX = /^\\)\\]\\}',?\\n/;\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = __webpack_require__(/*! ./adapters/xhr */ 4);\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = __webpack_require__(/*! ./adapters/http */ 4);\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      data = data.replace(PROTECTION_PREFIX, '');\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMehtodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../../process/browser.js */ 9)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vYXhpb3MvbGliL2RlZmF1bHRzLmpzP2QyYTUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBQUk9URUNUSU9OX1BSRUZJWCA9IC9eXFwpXFxdXFx9Jyw/XFxuLztcbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMveGhyJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxudmFyIGRlZmF1bHRzID0ge1xuICBhZGFwdGVyOiBnZXREZWZhdWx0QWRhcHRlcigpLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdDb250ZW50LVR5cGUnKTtcbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZShQUk9URUNUSU9OX1BSRUZJWCwgJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7IC8qIElnbm9yZSAqLyB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9XG59O1xuXG5kZWZhdWx0cy5oZWFkZXJzID0ge1xuICBjb21tb246IHtcbiAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWVodG9kTm9EYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvZGVmYXVsdHMuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 3 */
/* unknown exports provided */
/* all exports used */
/*!************************************!*\
  !*** ./~/underscore/underscore.js ***!
  \************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind,\n    nativeCreate       = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (true) {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.8.3';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result — either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys =  _.keys(obj),\n          length = keys.length,\n          results = {},\n          currentKey;\n      for (var index = 0; index < length; index++) {\n        currentKey = keys[index];\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n      }\n      return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {}, obj = object, iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) { return key in obj; };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = property;\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function(){} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return '' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {\n      return _;\n    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  }\n}.call(this));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vdW5kZXJzY29yZS91bmRlcnNjb3JlLmpzPzRlNGEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gICAgIFVuZGVyc2NvcmUuanMgMS44LjNcbi8vICAgICBodHRwOi8vdW5kZXJzY29yZWpzLm9yZ1xuLy8gICAgIChjKSAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbi8vICAgICBVbmRlcnNjb3JlIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLy8gQmFzZWxpbmUgc2V0dXBcbiAgLy8gLS0tLS0tLS0tLS0tLS1cblxuICAvLyBFc3RhYmxpc2ggdGhlIHJvb3Qgb2JqZWN0LCBgd2luZG93YCBpbiB0aGUgYnJvd3Nlciwgb3IgYGV4cG9ydHNgIG9uIHRoZSBzZXJ2ZXIuXG4gIHZhciByb290ID0gdGhpcztcblxuICAvLyBTYXZlIHRoZSBwcmV2aW91cyB2YWx1ZSBvZiB0aGUgYF9gIHZhcmlhYmxlLlxuICB2YXIgcHJldmlvdXNVbmRlcnNjb3JlID0gcm9vdC5fO1xuXG4gIC8vIFNhdmUgYnl0ZXMgaW4gdGhlIG1pbmlmaWVkIChidXQgbm90IGd6aXBwZWQpIHZlcnNpb246XG4gIHZhciBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLCBPYmpQcm90byA9IE9iamVjdC5wcm90b3R5cGUsIEZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuICAvLyBDcmVhdGUgcXVpY2sgcmVmZXJlbmNlIHZhcmlhYmxlcyBmb3Igc3BlZWQgYWNjZXNzIHRvIGNvcmUgcHJvdG90eXBlcy5cbiAgdmFyXG4gICAgcHVzaCAgICAgICAgICAgICA9IEFycmF5UHJvdG8ucHVzaCxcbiAgICBzbGljZSAgICAgICAgICAgID0gQXJyYXlQcm90by5zbGljZSxcbiAgICB0b1N0cmluZyAgICAgICAgID0gT2JqUHJvdG8udG9TdHJpbmcsXG4gICAgaGFzT3duUHJvcGVydHkgICA9IE9ialByb3RvLmhhc093blByb3BlcnR5O1xuXG4gIC8vIEFsbCAqKkVDTUFTY3JpcHQgNSoqIG5hdGl2ZSBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbnMgdGhhdCB3ZSBob3BlIHRvIHVzZVxuICAvLyBhcmUgZGVjbGFyZWQgaGVyZS5cbiAgdmFyXG4gICAgbmF0aXZlSXNBcnJheSAgICAgID0gQXJyYXkuaXNBcnJheSxcbiAgICBuYXRpdmVLZXlzICAgICAgICAgPSBPYmplY3Qua2V5cyxcbiAgICBuYXRpdmVCaW5kICAgICAgICAgPSBGdW5jUHJvdG8uYmluZCxcbiAgICBuYXRpdmVDcmVhdGUgICAgICAgPSBPYmplY3QuY3JlYXRlO1xuXG4gIC8vIE5ha2VkIGZ1bmN0aW9uIHJlZmVyZW5jZSBmb3Igc3Vycm9nYXRlLXByb3RvdHlwZS1zd2FwcGluZy5cbiAgdmFyIEN0b3IgPSBmdW5jdGlvbigpe307XG5cbiAgLy8gQ3JlYXRlIGEgc2FmZSByZWZlcmVuY2UgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0IGZvciB1c2UgYmVsb3cuXG4gIHZhciBfID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIF8pIHJldHVybiBvYmo7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIF8pKSByZXR1cm4gbmV3IF8ob2JqKTtcbiAgICB0aGlzLl93cmFwcGVkID0gb2JqO1xuICB9O1xuXG4gIC8vIEV4cG9ydCB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yICoqTm9kZS5qcyoqLCB3aXRoXG4gIC8vIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5IGZvciB0aGUgb2xkIGByZXF1aXJlKClgIEFQSS4gSWYgd2UncmUgaW5cbiAgLy8gdGhlIGJyb3dzZXIsIGFkZCBgX2AgYXMgYSBnbG9iYWwgb2JqZWN0LlxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfO1xuICAgIH1cbiAgICBleHBvcnRzLl8gPSBfO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuXyA9IF87XG4gIH1cblxuICAvLyBDdXJyZW50IHZlcnNpb24uXG4gIF8uVkVSU0lPTiA9ICcxLjguMyc7XG5cbiAgLy8gSW50ZXJuYWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGVmZmljaWVudCAoZm9yIGN1cnJlbnQgZW5naW5lcykgdmVyc2lvblxuICAvLyBvZiB0aGUgcGFzc2VkLWluIGNhbGxiYWNrLCB0byBiZSByZXBlYXRlZGx5IGFwcGxpZWQgaW4gb3RoZXIgVW5kZXJzY29yZVxuICAvLyBmdW5jdGlvbnMuXG4gIHZhciBvcHRpbWl6ZUNiID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSByZXR1cm4gZnVuYztcbiAgICBzd2l0Y2ggKGFyZ0NvdW50ID09IG51bGwgPyAzIDogYXJnQ291bnQpIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDQ6IHJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gQSBtb3N0bHktaW50ZXJuYWwgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgY2FsbGJhY2tzIHRoYXQgY2FuIGJlIGFwcGxpZWRcbiAgLy8gdG8gZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiwgcmV0dXJuaW5nIHRoZSBkZXNpcmVkIHJlc3VsdCDigJQgZWl0aGVyXG4gIC8vIGlkZW50aXR5LCBhbiBhcmJpdHJhcnkgY2FsbGJhY2ssIGEgcHJvcGVydHkgbWF0Y2hlciwgb3IgYSBwcm9wZXJ0eSBhY2Nlc3Nvci5cbiAgdmFyIGNiID0gZnVuY3Rpb24odmFsdWUsIGNvbnRleHQsIGFyZ0NvdW50KSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBfLmlkZW50aXR5O1xuICAgIGlmIChfLmlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm4gb3B0aW1pemVDYih2YWx1ZSwgY29udGV4dCwgYXJnQ291bnQpO1xuICAgIGlmIChfLmlzT2JqZWN0KHZhbHVlKSkgcmV0dXJuIF8ubWF0Y2hlcih2YWx1ZSk7XG4gICAgcmV0dXJuIF8ucHJvcGVydHkodmFsdWUpO1xuICB9O1xuICBfLml0ZXJhdGVlID0gZnVuY3Rpb24odmFsdWUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gY2IodmFsdWUsIGNvbnRleHQsIEluZmluaXR5KTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYXNzaWduZXIgZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlQXNzaWduZXIgPSBmdW5jdGlvbihrZXlzRnVuYywgdW5kZWZpbmVkT25seSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA8IDIgfHwgb2JqID09IG51bGwpIHJldHVybiBvYmo7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdLFxuICAgICAgICAgICAga2V5cyA9IGtleXNGdW5jKHNvdXJjZSksXG4gICAgICAgICAgICBsID0ga2V5cy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKCF1bmRlZmluZWRPbmx5IHx8IG9ialtrZXldID09PSB2b2lkIDApIG9ialtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYSBuZXcgb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSBhbm90aGVyLlxuICB2YXIgYmFzZUNyZWF0ZSA9IGZ1bmN0aW9uKHByb3RvdHlwZSkge1xuICAgIGlmICghXy5pc09iamVjdChwcm90b3R5cGUpKSByZXR1cm4ge307XG4gICAgaWYgKG5hdGl2ZUNyZWF0ZSkgcmV0dXJuIG5hdGl2ZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgIEN0b3IucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICAgIHZhciByZXN1bHQgPSBuZXcgQ3RvcjtcbiAgICBDdG9yLnByb3RvdHlwZSA9IG51bGw7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB2YXIgcHJvcGVydHkgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09IG51bGwgPyB2b2lkIDAgOiBvYmpba2V5XTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEhlbHBlciBmb3IgY29sbGVjdGlvbiBtZXRob2RzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgY29sbGVjdGlvblxuICAvLyBzaG91bGQgYmUgaXRlcmF0ZWQgYXMgYW4gYXJyYXkgb3IgYXMgYW4gb2JqZWN0XG4gIC8vIFJlbGF0ZWQ6IGh0dHA6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLXRvbGVuZ3RoXG4gIC8vIEF2b2lkcyBhIHZlcnkgbmFzdHkgaU9TIDggSklUIGJ1ZyBvbiBBUk0tNjQuICMyMDk0XG4gIHZhciBNQVhfQVJSQVlfSU5ERVggPSBNYXRoLnBvdygyLCA1MykgLSAxO1xuICB2YXIgZ2V0TGVuZ3RoID0gcHJvcGVydHkoJ2xlbmd0aCcpO1xuICB2YXIgaXNBcnJheUxpa2UgPSBmdW5jdGlvbihjb2xsZWN0aW9uKSB7XG4gICAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChjb2xsZWN0aW9uKTtcbiAgICByZXR1cm4gdHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyAmJiBsZW5ndGggPj0gMCAmJiBsZW5ndGggPD0gTUFYX0FSUkFZX0lOREVYO1xuICB9O1xuXG4gIC8vIENvbGxlY3Rpb24gRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gVGhlIGNvcm5lcnN0b25lLCBhbiBgZWFjaGAgaW1wbGVtZW50YXRpb24sIGFrYSBgZm9yRWFjaGAuXG4gIC8vIEhhbmRsZXMgcmF3IG9iamVjdHMgaW4gYWRkaXRpb24gdG8gYXJyYXktbGlrZXMuIFRyZWF0cyBhbGxcbiAgLy8gc3BhcnNlIGFycmF5LWxpa2VzIGFzIGlmIHRoZXkgd2VyZSBkZW5zZS5cbiAgXy5lYWNoID0gXy5mb3JFYWNoID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGksIGxlbmd0aDtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZXJhdGVlKG9ialtpXSwgaSwgb2JqKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlcmF0ZWUob2JqW2tleXNbaV1dLCBrZXlzW2ldLCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgcmVzdWx0cyBvZiBhcHBseWluZyB0aGUgaXRlcmF0ZWUgdG8gZWFjaCBlbGVtZW50LlxuICBfLm1hcCA9IF8uY29sbGVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgICAgcmVzdWx0cyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIHJlc3VsdHNbaW5kZXhdID0gaXRlcmF0ZWUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBDcmVhdGUgYSByZWR1Y2luZyBmdW5jdGlvbiBpdGVyYXRpbmcgbGVmdCBvciByaWdodC5cbiAgZnVuY3Rpb24gY3JlYXRlUmVkdWNlKGRpcikge1xuICAgIC8vIE9wdGltaXplZCBpdGVyYXRvciBmdW5jdGlvbiBhcyB1c2luZyBhcmd1bWVudHMubGVuZ3RoXG4gICAgLy8gaW4gdGhlIG1haW4gZnVuY3Rpb24gd2lsbCBkZW9wdGltaXplIHRoZSwgc2VlICMxOTkxLlxuICAgIGZ1bmN0aW9uIGl0ZXJhdG9yKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGtleXMsIGluZGV4LCBsZW5ndGgpIHtcbiAgICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgICAgbWVtbyA9IGl0ZXJhdGVlKG1lbW8sIG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBtZW1vLCBjb250ZXh0KSB7XG4gICAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQsIDQpO1xuICAgICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgICAgICBpbmRleCA9IGRpciA+IDAgPyAwIDogbGVuZ3RoIC0gMTtcbiAgICAgIC8vIERldGVybWluZSB0aGUgaW5pdGlhbCB2YWx1ZSBpZiBub25lIGlzIHByb3ZpZGVkLlxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKSB7XG4gICAgICAgIG1lbW8gPSBvYmpba2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXhdO1xuICAgICAgICBpbmRleCArPSBkaXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3Iob2JqLCBpdGVyYXRlZSwgbWVtbywga2V5cywgaW5kZXgsIGxlbmd0aCk7XG4gICAgfTtcbiAgfVxuXG4gIC8vICoqUmVkdWNlKiogYnVpbGRzIHVwIGEgc2luZ2xlIHJlc3VsdCBmcm9tIGEgbGlzdCBvZiB2YWx1ZXMsIGFrYSBgaW5qZWN0YCxcbiAgLy8gb3IgYGZvbGRsYC5cbiAgXy5yZWR1Y2UgPSBfLmZvbGRsID0gXy5pbmplY3QgPSBjcmVhdGVSZWR1Y2UoMSk7XG5cbiAgLy8gVGhlIHJpZ2h0LWFzc29jaWF0aXZlIHZlcnNpb24gb2YgcmVkdWNlLCBhbHNvIGtub3duIGFzIGBmb2xkcmAuXG4gIF8ucmVkdWNlUmlnaHQgPSBfLmZvbGRyID0gY3JlYXRlUmVkdWNlKC0xKTtcblxuICAvLyBSZXR1cm4gdGhlIGZpcnN0IHZhbHVlIHdoaWNoIHBhc3NlcyBhIHRydXRoIHRlc3QuIEFsaWFzZWQgYXMgYGRldGVjdGAuXG4gIF8uZmluZCA9IF8uZGV0ZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIga2V5O1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopKSB7XG4gICAgICBrZXkgPSBfLmZpbmRJbmRleChvYmosIHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleSA9IF8uZmluZEtleShvYmosIHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChrZXkgIT09IHZvaWQgMCAmJiBrZXkgIT09IC0xKSByZXR1cm4gb2JqW2tleV07XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgc2VsZWN0YC5cbiAgXy5maWx0ZXIgPSBfLnNlbGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGxpc3QpKSByZXN1bHRzLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGZvciB3aGljaCBhIHRydXRoIHRlc3QgZmFpbHMuXG4gIF8ucmVqZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm5lZ2F0ZShjYihwcmVkaWNhdGUpKSwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgYWxsIG9mIHRoZSBlbGVtZW50cyBtYXRjaCBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYGFsbGAuXG4gIF8uZXZlcnkgPSBfLmFsbCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKCFwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiBhdCBsZWFzdCBvbmUgZWxlbWVudCBpbiB0aGUgb2JqZWN0IG1hdGNoZXMgYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbnlgLlxuICBfLnNvbWUgPSBfLmFueSA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaikpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIGlmIHRoZSBhcnJheSBvciBvYmplY3QgY29udGFpbnMgYSBnaXZlbiBpdGVtICh1c2luZyBgPT09YCkuXG4gIC8vIEFsaWFzZWQgYXMgYGluY2x1ZGVzYCBhbmQgYGluY2x1ZGVgLlxuICBfLmNvbnRhaW5zID0gXy5pbmNsdWRlcyA9IF8uaW5jbHVkZSA9IGZ1bmN0aW9uKG9iaiwgaXRlbSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICBpZiAodHlwZW9mIGZyb21JbmRleCAhPSAnbnVtYmVyJyB8fCBndWFyZCkgZnJvbUluZGV4ID0gMDtcbiAgICByZXR1cm4gXy5pbmRleE9mKG9iaiwgaXRlbSwgZnJvbUluZGV4KSA+PSAwO1xuICB9O1xuXG4gIC8vIEludm9rZSBhIG1ldGhvZCAod2l0aCBhcmd1bWVudHMpIG9uIGV2ZXJ5IGl0ZW0gaW4gYSBjb2xsZWN0aW9uLlxuICBfLmludm9rZSA9IGZ1bmN0aW9uKG9iaiwgbWV0aG9kKSB7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgdmFyIGlzRnVuYyA9IF8uaXNGdW5jdGlvbihtZXRob2QpO1xuICAgIHJldHVybiBfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzRnVuYyA/IG1ldGhvZCA6IHZhbHVlW21ldGhvZF07XG4gICAgICByZXR1cm4gZnVuYyA9PSBudWxsID8gZnVuYyA6IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYG1hcGA6IGZldGNoaW5nIGEgcHJvcGVydHkuXG4gIF8ucGx1Y2sgPSBmdW5jdGlvbihvYmosIGtleSkge1xuICAgIHJldHVybiBfLm1hcChvYmosIF8ucHJvcGVydHkoa2V5KSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmlsdGVyYDogc2VsZWN0aW5nIG9ubHkgb2JqZWN0c1xuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLndoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbHRlcihvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbmRgOiBnZXR0aW5nIHRoZSBmaXJzdCBvYmplY3RcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5maW5kV2hlcmUgPSBmdW5jdGlvbihvYmosIGF0dHJzKSB7XG4gICAgcmV0dXJuIF8uZmluZChvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWF4aW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5tYXggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IC1JbmZpbml0eSwgbGFzdENvbXB1dGVkID0gLUluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHZhbHVlID4gcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPiBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IC1JbmZpbml0eSAmJiByZXN1bHQgPT09IC1JbmZpbml0eSkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG1pbmltdW0gZWxlbWVudCAob3IgZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG4gIF8ubWluID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSBJbmZpbml0eSwgbGFzdENvbXB1dGVkID0gSW5maW5pdHksXG4gICAgICAgIHZhbHVlLCBjb21wdXRlZDtcbiAgICBpZiAoaXRlcmF0ZWUgPT0gbnVsbCAmJiBvYmogIT0gbnVsbCkge1xuICAgICAgb2JqID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IF8udmFsdWVzKG9iaik7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gb2JqW2ldO1xuICAgICAgICBpZiAodmFsdWUgPCByZXN1bHQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgbGlzdCk7XG4gICAgICAgIGlmIChjb21wdXRlZCA8IGxhc3RDb21wdXRlZCB8fCBjb21wdXRlZCA9PT0gSW5maW5pdHkgJiYgcmVzdWx0ID09PSBJbmZpbml0eSkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBTaHVmZmxlIGEgY29sbGVjdGlvbiwgdXNpbmcgdGhlIG1vZGVybiB2ZXJzaW9uIG9mIHRoZVxuICAvLyBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVy4oCTWWF0ZXNfc2h1ZmZsZSkuXG4gIF8uc2h1ZmZsZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBzZXQgPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0gc2V0Lmxlbmd0aDtcbiAgICB2YXIgc2h1ZmZsZWQgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMCwgcmFuZDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHJhbmQgPSBfLnJhbmRvbSgwLCBpbmRleCk7XG4gICAgICBpZiAocmFuZCAhPT0gaW5kZXgpIHNodWZmbGVkW2luZGV4XSA9IHNodWZmbGVkW3JhbmRdO1xuICAgICAgc2h1ZmZsZWRbcmFuZF0gPSBzZXRbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gc2h1ZmZsZWQ7XG4gIH07XG5cbiAgLy8gU2FtcGxlICoqbioqIHJhbmRvbSB2YWx1ZXMgZnJvbSBhIGNvbGxlY3Rpb24uXG4gIC8vIElmICoqbioqIGlzIG5vdCBzcGVjaWZpZWQsIHJldHVybnMgYSBzaW5nbGUgcmFuZG9tIGVsZW1lbnQuXG4gIC8vIFRoZSBpbnRlcm5hbCBgZ3VhcmRgIGFyZ3VtZW50IGFsbG93cyBpdCB0byB3b3JrIHdpdGggYG1hcGAuXG4gIF8uc2FtcGxlID0gZnVuY3Rpb24ob2JqLCBuLCBndWFyZCkge1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHtcbiAgICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICAgIHJldHVybiBvYmpbXy5yYW5kb20ob2JqLmxlbmd0aCAtIDEpXTtcbiAgICB9XG4gICAgcmV0dXJuIF8uc2h1ZmZsZShvYmopLnNsaWNlKDAsIE1hdGgubWF4KDAsIG4pKTtcbiAgfTtcblxuICAvLyBTb3J0IHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24gcHJvZHVjZWQgYnkgYW4gaXRlcmF0ZWUuXG4gIF8uc29ydEJ5ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHJldHVybiBfLnBsdWNrKF8ubWFwKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgY3JpdGVyaWE6IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgbGlzdClcbiAgICAgIH07XG4gICAgfSkuc29ydChmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICAgICAgdmFyIGEgPSBsZWZ0LmNyaXRlcmlhO1xuICAgICAgdmFyIGIgPSByaWdodC5jcml0ZXJpYTtcbiAgICAgIGlmIChhICE9PSBiKSB7XG4gICAgICAgIGlmIChhID4gYiB8fCBhID09PSB2b2lkIDApIHJldHVybiAxO1xuICAgICAgICBpZiAoYSA8IGIgfHwgYiA9PT0gdm9pZCAwKSByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGVmdC5pbmRleCAtIHJpZ2h0LmluZGV4O1xuICAgIH0pLCAndmFsdWUnKTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB1c2VkIGZvciBhZ2dyZWdhdGUgXCJncm91cCBieVwiIG9wZXJhdGlvbnMuXG4gIHZhciBncm91cCA9IGZ1bmN0aW9uKGJlaGF2aW9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG4gICAgICAgIHZhciBrZXkgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIG9iaik7XG4gICAgICAgIGJlaGF2aW9yKHJlc3VsdCwgdmFsdWUsIGtleSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBHcm91cHMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbi4gUGFzcyBlaXRoZXIgYSBzdHJpbmcgYXR0cmlidXRlXG4gIC8vIHRvIGdyb3VwIGJ5LCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgY3JpdGVyaW9uLlxuICBfLmdyb3VwQnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICBpZiAoXy5oYXMocmVzdWx0LCBrZXkpKSByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTsgZWxzZSByZXN1bHRba2V5XSA9IFt2YWx1ZV07XG4gIH0pO1xuXG4gIC8vIEluZGV4ZXMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbiwgc2ltaWxhciB0byBgZ3JvdXBCeWAsIGJ1dCBmb3JcbiAgLy8gd2hlbiB5b3Uga25vdyB0aGF0IHlvdXIgaW5kZXggdmFsdWVzIHdpbGwgYmUgdW5pcXVlLlxuICBfLmluZGV4QnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9KTtcblxuICAvLyBDb3VudHMgaW5zdGFuY2VzIG9mIGFuIG9iamVjdCB0aGF0IGdyb3VwIGJ5IGEgY2VydGFpbiBjcml0ZXJpb24uIFBhc3NcbiAgLy8gZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZSB0byBjb3VudCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG4gIC8vIGNyaXRlcmlvbi5cbiAgXy5jb3VudEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKF8uaGFzKHJlc3VsdCwga2V5KSkgcmVzdWx0W2tleV0rKzsgZWxzZSByZXN1bHRba2V5XSA9IDE7XG4gIH0pO1xuXG4gIC8vIFNhZmVseSBjcmVhdGUgYSByZWFsLCBsaXZlIGFycmF5IGZyb20gYW55dGhpbmcgaXRlcmFibGUuXG4gIF8udG9BcnJheSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghb2JqKSByZXR1cm4gW107XG4gICAgaWYgKF8uaXNBcnJheShvYmopKSByZXR1cm4gc2xpY2UuY2FsbChvYmopO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopKSByZXR1cm4gXy5tYXAob2JqLCBfLmlkZW50aXR5KTtcbiAgICByZXR1cm4gXy52YWx1ZXMob2JqKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBhbiBvYmplY3QuXG4gIF8uc2l6ZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIDA7XG4gICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iaikgPyBvYmoubGVuZ3RoIDogXy5rZXlzKG9iaikubGVuZ3RoO1xuICB9O1xuXG4gIC8vIFNwbGl0IGEgY29sbGVjdGlvbiBpbnRvIHR3byBhcnJheXM6IG9uZSB3aG9zZSBlbGVtZW50cyBhbGwgc2F0aXNmeSB0aGUgZ2l2ZW5cbiAgLy8gcHJlZGljYXRlLCBhbmQgb25lIHdob3NlIGVsZW1lbnRzIGFsbCBkbyBub3Qgc2F0aXNmeSB0aGUgcHJlZGljYXRlLlxuICBfLnBhcnRpdGlvbiA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIgcGFzcyA9IFtdLCBmYWlsID0gW107XG4gICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqKSB7XG4gICAgICAocHJlZGljYXRlKHZhbHVlLCBrZXksIG9iaikgPyBwYXNzIDogZmFpbCkucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtwYXNzLCBmYWlsXTtcbiAgfTtcblxuICAvLyBBcnJheSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYGhlYWRgIGFuZCBgdGFrZWAuIFRoZSAqKmd1YXJkKiogY2hlY2tcbiAgLy8gYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLlxuICBfLmZpcnN0ID0gXy5oZWFkID0gXy50YWtlID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkgcmV0dXJuIGFycmF5WzBdO1xuICAgIHJldHVybiBfLmluaXRpYWwoYXJyYXksIGFycmF5Lmxlbmd0aCAtIG4pO1xuICB9O1xuXG4gIC8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGxhc3QgZW50cnkgb2YgdGhlIGFycmF5LiBFc3BlY2lhbGx5IHVzZWZ1bCBvblxuICAvLyB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiBhbGwgdGhlIHZhbHVlcyBpblxuICAvLyB0aGUgYXJyYXksIGV4Y2x1ZGluZyB0aGUgbGFzdCBOLlxuICBfLmluaXRpYWwgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgMCwgTWF0aC5tYXgoMCwgYXJyYXkubGVuZ3RoIC0gKG4gPT0gbnVsbCB8fCBndWFyZCA/IDEgOiBuKSkpO1xuICB9O1xuXG4gIC8vIEdldCB0aGUgbGFzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBsYXN0IE5cbiAgLy8gdmFsdWVzIGluIHRoZSBhcnJheS5cbiAgXy5sYXN0ID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiBfLnJlc3QoYXJyYXksIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIG4pKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBmaXJzdCBlbnRyeSBvZiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYHRhaWxgIGFuZCBgZHJvcGAuXG4gIC8vIEVzcGVjaWFsbHkgdXNlZnVsIG9uIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBQYXNzaW5nIGFuICoqbioqIHdpbGwgcmV0dXJuXG4gIC8vIHRoZSByZXN0IE4gdmFsdWVzIGluIHRoZSBhcnJheS5cbiAgXy5yZXN0ID0gXy50YWlsID0gXy5kcm9wID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIG4gPT0gbnVsbCB8fCBndWFyZCA/IDEgOiBuKTtcbiAgfTtcblxuICAvLyBUcmltIG91dCBhbGwgZmFsc3kgdmFsdWVzIGZyb20gYW4gYXJyYXkuXG4gIF8uY29tcGFjdCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKGFycmF5LCBfLmlkZW50aXR5KTtcbiAgfTtcblxuICAvLyBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiBhIHJlY3Vyc2l2ZSBgZmxhdHRlbmAgZnVuY3Rpb24uXG4gIHZhciBmbGF0dGVuID0gZnVuY3Rpb24oaW5wdXQsIHNoYWxsb3csIHN0cmljdCwgc3RhcnRJbmRleCkge1xuICAgIHZhciBvdXRwdXQgPSBbXSwgaWR4ID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleCB8fCAwLCBsZW5ndGggPSBnZXRMZW5ndGgoaW5wdXQpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGlucHV0W2ldO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJiAoXy5pc0FycmF5KHZhbHVlKSB8fCBfLmlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgLy9mbGF0dGVuIGN1cnJlbnQgbGV2ZWwgb2YgYXJyYXkgb3IgYXJndW1lbnRzIG9iamVjdFxuICAgICAgICBpZiAoIXNoYWxsb3cpIHZhbHVlID0gZmxhdHRlbih2YWx1ZSwgc2hhbGxvdywgc3RyaWN0KTtcbiAgICAgICAgdmFyIGogPSAwLCBsZW4gPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIG91dHB1dC5sZW5ndGggKz0gbGVuO1xuICAgICAgICB3aGlsZSAoaiA8IGxlbikge1xuICAgICAgICAgIG91dHB1dFtpZHgrK10gPSB2YWx1ZVtqKytdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFzdHJpY3QpIHtcbiAgICAgICAgb3V0cHV0W2lkeCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIC8vIEZsYXR0ZW4gb3V0IGFuIGFycmF5LCBlaXRoZXIgcmVjdXJzaXZlbHkgKGJ5IGRlZmF1bHQpLCBvciBqdXN0IG9uZSBsZXZlbC5cbiAgXy5mbGF0dGVuID0gZnVuY3Rpb24oYXJyYXksIHNoYWxsb3cpIHtcbiAgICByZXR1cm4gZmxhdHRlbihhcnJheSwgc2hhbGxvdywgZmFsc2UpO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHZlcnNpb24gb2YgdGhlIGFycmF5IHRoYXQgZG9lcyBub3QgY29udGFpbiB0aGUgc3BlY2lmaWVkIHZhbHVlKHMpLlxuICBfLndpdGhvdXQgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHJldHVybiBfLmRpZmZlcmVuY2UoYXJyYXksIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgdGhlIGFycmF5LiBJZiB0aGUgYXJyYXkgaGFzIGFscmVhZHlcbiAgLy8gYmVlbiBzb3J0ZWQsIHlvdSBoYXZlIHRoZSBvcHRpb24gb2YgdXNpbmcgYSBmYXN0ZXIgYWxnb3JpdGhtLlxuICAvLyBBbGlhc2VkIGFzIGB1bmlxdWVgLlxuICBfLnVuaXEgPSBfLnVuaXF1ZSA9IGZ1bmN0aW9uKGFycmF5LCBpc1NvcnRlZCwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpZiAoIV8uaXNCb29sZWFuKGlzU29ydGVkKSkge1xuICAgICAgY29udGV4dCA9IGl0ZXJhdGVlO1xuICAgICAgaXRlcmF0ZWUgPSBpc1NvcnRlZDtcbiAgICAgIGlzU29ydGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpdGVyYXRlZSAhPSBudWxsKSBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIHNlZW4gPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpXSxcbiAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUsIGksIGFycmF5KSA6IHZhbHVlO1xuICAgICAgaWYgKGlzU29ydGVkKSB7XG4gICAgICAgIGlmICghaSB8fCBzZWVuICE9PSBjb21wdXRlZCkgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICBzZWVuID0gY29tcHV0ZWQ7XG4gICAgICB9IGVsc2UgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIGlmICghXy5jb250YWlucyhzZWVuLCBjb21wdXRlZCkpIHtcbiAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghXy5jb250YWlucyhyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIHRoZSB1bmlvbjogZWFjaCBkaXN0aW5jdCBlbGVtZW50IGZyb20gYWxsIG9mXG4gIC8vIHRoZSBwYXNzZWQtaW4gYXJyYXlzLlxuICBfLnVuaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIF8udW5pcShmbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgdHJ1ZSkpO1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYW4gYXJyYXkgdGhhdCBjb250YWlucyBldmVyeSBpdGVtIHNoYXJlZCBiZXR3ZWVuIGFsbCB0aGVcbiAgLy8gcGFzc2VkLWluIGFycmF5cy5cbiAgXy5pbnRlcnNlY3Rpb24gPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBhcnJheVtpXTtcbiAgICAgIGlmIChfLmNvbnRhaW5zKHJlc3VsdCwgaXRlbSkpIGNvbnRpbnVlO1xuICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBhcmdzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKCFfLmNvbnRhaW5zKGFyZ3VtZW50c1tqXSwgaXRlbSkpIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGogPT09IGFyZ3NMZW5ndGgpIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFRha2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBvbmUgYXJyYXkgYW5kIGEgbnVtYmVyIG9mIG90aGVyIGFycmF5cy5cbiAgLy8gT25seSB0aGUgZWxlbWVudHMgcHJlc2VudCBpbiBqdXN0IHRoZSBmaXJzdCBhcnJheSB3aWxsIHJlbWFpbi5cbiAgXy5kaWZmZXJlbmNlID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgcmVzdCA9IGZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCB0cnVlLCAxKTtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIHJldHVybiAhXy5jb250YWlucyhyZXN0LCB2YWx1ZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gWmlwIHRvZ2V0aGVyIG11bHRpcGxlIGxpc3RzIGludG8gYSBzaW5nbGUgYXJyYXkgLS0gZWxlbWVudHMgdGhhdCBzaGFyZVxuICAvLyBhbiBpbmRleCBnbyB0b2dldGhlci5cbiAgXy56aXAgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXy51bnppcChhcmd1bWVudHMpO1xuICB9O1xuXG4gIC8vIENvbXBsZW1lbnQgb2YgXy56aXAuIFVuemlwIGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIGFuZCBncm91cHNcbiAgLy8gZWFjaCBhcnJheSdzIGVsZW1lbnRzIG9uIHNoYXJlZCBpbmRpY2VzXG4gIF8udW56aXAgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSAmJiBfLm1heChhcnJheSwgZ2V0TGVuZ3RoKS5sZW5ndGggfHwgMDtcbiAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBfLnBsdWNrKGFycmF5LCBpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gQ29udmVydHMgbGlzdHMgaW50byBvYmplY3RzLiBQYXNzIGVpdGhlciBhIHNpbmdsZSBhcnJheSBvZiBgW2tleSwgdmFsdWVdYFxuICAvLyBwYWlycywgb3IgdHdvIHBhcmFsbGVsIGFycmF5cyBvZiB0aGUgc2FtZSBsZW5ndGggLS0gb25lIG9mIGtleXMsIGFuZCBvbmUgb2ZcbiAgLy8gdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICBfLm9iamVjdCA9IGZ1bmN0aW9uKGxpc3QsIHZhbHVlcykge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGxpc3QpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1dID0gdmFsdWVzW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1bMF1dID0gbGlzdFtpXVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBHZW5lcmF0b3IgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBmaW5kSW5kZXggYW5kIGZpbmRMYXN0SW5kZXggZnVuY3Rpb25zXG4gIGZ1bmN0aW9uIGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKGRpcikge1xuICAgIHJldHVybiBmdW5jdGlvbihhcnJheSwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgICAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7XG4gICAgICB2YXIgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgICBmb3IgKDsgaW5kZXggPj0gMCAmJiBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gZGlyKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgfVxuXG4gIC8vIFJldHVybnMgdGhlIGZpcnN0IGluZGV4IG9uIGFuIGFycmF5LWxpa2UgdGhhdCBwYXNzZXMgYSBwcmVkaWNhdGUgdGVzdFxuICBfLmZpbmRJbmRleCA9IGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKDEpO1xuICBfLmZpbmRMYXN0SW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigtMSk7XG5cbiAgLy8gVXNlIGEgY29tcGFyYXRvciBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IHRoZSBzbWFsbGVzdCBpbmRleCBhdCB3aGljaFxuICAvLyBhbiBvYmplY3Qgc2hvdWxkIGJlIGluc2VydGVkIHNvIGFzIHRvIG1haW50YWluIG9yZGVyLiBVc2VzIGJpbmFyeSBzZWFyY2guXG4gIF8uc29ydGVkSW5kZXggPSBmdW5jdGlvbihhcnJheSwgb2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQsIDEpO1xuICAgIHZhciB2YWx1ZSA9IGl0ZXJhdGVlKG9iaik7XG4gICAgdmFyIGxvdyA9IDAsIGhpZ2ggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICB2YXIgbWlkID0gTWF0aC5mbG9vcigobG93ICsgaGlnaCkgLyAyKTtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVttaWRdKSA8IHZhbHVlKSBsb3cgPSBtaWQgKyAxOyBlbHNlIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICAgIHJldHVybiBsb3c7XG4gIH07XG5cbiAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgaW5kZXhPZiBhbmQgbGFzdEluZGV4T2YgZnVuY3Rpb25zXG4gIGZ1bmN0aW9uIGNyZWF0ZUluZGV4RmluZGVyKGRpciwgcHJlZGljYXRlRmluZCwgc29ydGVkSW5kZXgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIGl0ZW0sIGlkeCkge1xuICAgICAgdmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgICAgaWYgKHR5cGVvZiBpZHggPT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKGRpciA+IDApIHtcbiAgICAgICAgICAgIGkgPSBpZHggPj0gMCA/IGlkeCA6IE1hdGgubWF4KGlkeCArIGxlbmd0aCwgaSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZW5ndGggPSBpZHggPj0gMCA/IE1hdGgubWluKGlkeCArIDEsIGxlbmd0aCkgOiBpZHggKyBsZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNvcnRlZEluZGV4ICYmIGlkeCAmJiBsZW5ndGgpIHtcbiAgICAgICAgaWR4ID0gc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pO1xuICAgICAgICByZXR1cm4gYXJyYXlbaWR4XSA9PT0gaXRlbSA/IGlkeCA6IC0xO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW0gIT09IGl0ZW0pIHtcbiAgICAgICAgaWR4ID0gcHJlZGljYXRlRmluZChzbGljZS5jYWxsKGFycmF5LCBpLCBsZW5ndGgpLCBfLmlzTmFOKTtcbiAgICAgICAgcmV0dXJuIGlkeCA+PSAwID8gaWR4ICsgaSA6IC0xO1xuICAgICAgfVxuICAgICAgZm9yIChpZHggPSBkaXIgPiAwID8gaSA6IGxlbmd0aCAtIDE7IGlkeCA+PSAwICYmIGlkeCA8IGxlbmd0aDsgaWR4ICs9IGRpcikge1xuICAgICAgICBpZiAoYXJyYXlbaWR4XSA9PT0gaXRlbSkgcmV0dXJuIGlkeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICB9XG5cbiAgLy8gUmV0dXJuIHRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBhbiBpdGVtIGluIGFuIGFycmF5LFxuICAvLyBvciAtMSBpZiB0aGUgaXRlbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIGFycmF5LlxuICAvLyBJZiB0aGUgYXJyYXkgaXMgbGFyZ2UgYW5kIGFscmVhZHkgaW4gc29ydCBvcmRlciwgcGFzcyBgdHJ1ZWBcbiAgLy8gZm9yICoqaXNTb3J0ZWQqKiB0byB1c2UgYmluYXJ5IHNlYXJjaC5cbiAgXy5pbmRleE9mID0gY3JlYXRlSW5kZXhGaW5kZXIoMSwgXy5maW5kSW5kZXgsIF8uc29ydGVkSW5kZXgpO1xuICBfLmxhc3RJbmRleE9mID0gY3JlYXRlSW5kZXhGaW5kZXIoLTEsIF8uZmluZExhc3RJbmRleCk7XG5cbiAgLy8gR2VuZXJhdGUgYW4gaW50ZWdlciBBcnJheSBjb250YWluaW5nIGFuIGFyaXRobWV0aWMgcHJvZ3Jlc3Npb24uIEEgcG9ydCBvZlxuICAvLyB0aGUgbmF0aXZlIFB5dGhvbiBgcmFuZ2UoKWAgZnVuY3Rpb24uIFNlZVxuICAvLyBbdGhlIFB5dGhvbiBkb2N1bWVudGF0aW9uXShodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvZnVuY3Rpb25zLmh0bWwjcmFuZ2UpLlxuICBfLnJhbmdlID0gZnVuY3Rpb24oc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgICBpZiAoc3RvcCA9PSBudWxsKSB7XG4gICAgICBzdG9wID0gc3RhcnQgfHwgMDtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgc3RlcCA9IHN0ZXAgfHwgMTtcblxuICAgIHZhciBsZW5ndGggPSBNYXRoLm1heChNYXRoLmNlaWwoKHN0b3AgLSBzdGFydCkgLyBzdGVwKSwgMCk7XG4gICAgdmFyIHJhbmdlID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyssIHN0YXJ0ICs9IHN0ZXApIHtcbiAgICAgIHJhbmdlW2lkeF0gPSBzdGFydDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmFuZ2U7XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gKGFoZW0pIEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gZXhlY3V0ZSBhIGZ1bmN0aW9uIGFzIGEgY29uc3RydWN0b3JcbiAgLy8gb3IgYSBub3JtYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJvdmlkZWQgYXJndW1lbnRzXG4gIHZhciBleGVjdXRlQm91bmQgPSBmdW5jdGlvbihzb3VyY2VGdW5jLCBib3VuZEZ1bmMsIGNvbnRleHQsIGNhbGxpbmdDb250ZXh0LCBhcmdzKSB7XG4gICAgaWYgKCEoY2FsbGluZ0NvbnRleHQgaW5zdGFuY2VvZiBib3VuZEZ1bmMpKSByZXR1cm4gc291cmNlRnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB2YXIgc2VsZiA9IGJhc2VDcmVhdGUoc291cmNlRnVuYy5wcm90b3R5cGUpO1xuICAgIHZhciByZXN1bHQgPSBzb3VyY2VGdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIGlmIChfLmlzT2JqZWN0KHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgZnVuY3Rpb24gYm91bmQgdG8gYSBnaXZlbiBvYmplY3QgKGFzc2lnbmluZyBgdGhpc2AsIGFuZCBhcmd1bWVudHMsXG4gIC8vIG9wdGlvbmFsbHkpLiBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgRnVuY3Rpb24uYmluZGAgaWZcbiAgLy8gYXZhaWxhYmxlLlxuICBfLmJpbmQgPSBmdW5jdGlvbihmdW5jLCBjb250ZXh0KSB7XG4gICAgaWYgKG5hdGl2ZUJpbmQgJiYgZnVuYy5iaW5kID09PSBuYXRpdmVCaW5kKSByZXR1cm4gbmF0aXZlQmluZC5hcHBseShmdW5jLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIGlmICghXy5pc0Z1bmN0aW9uKGZ1bmMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdCaW5kIG11c3QgYmUgY2FsbGVkIG9uIGEgZnVuY3Rpb24nKTtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleGVjdXRlQm91bmQoZnVuYywgYm91bmQsIGNvbnRleHQsIHRoaXMsIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgIH07XG4gICAgcmV0dXJuIGJvdW5kO1xuICB9O1xuXG4gIC8vIFBhcnRpYWxseSBhcHBseSBhIGZ1bmN0aW9uIGJ5IGNyZWF0aW5nIGEgdmVyc2lvbiB0aGF0IGhhcyBoYWQgc29tZSBvZiBpdHNcbiAgLy8gYXJndW1lbnRzIHByZS1maWxsZWQsIHdpdGhvdXQgY2hhbmdpbmcgaXRzIGR5bmFtaWMgYHRoaXNgIGNvbnRleHQuIF8gYWN0c1xuICAvLyBhcyBhIHBsYWNlaG9sZGVyLCBhbGxvd2luZyBhbnkgY29tYmluYXRpb24gb2YgYXJndW1lbnRzIHRvIGJlIHByZS1maWxsZWQuXG4gIF8ucGFydGlhbCA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICB2YXIgYm91bmRBcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHZhciBib3VuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBvc2l0aW9uID0gMCwgbGVuZ3RoID0gYm91bmRBcmdzLmxlbmd0aDtcbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJnc1tpXSA9IGJvdW5kQXJnc1tpXSA9PT0gXyA/IGFyZ3VtZW50c1twb3NpdGlvbisrXSA6IGJvdW5kQXJnc1tpXTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChwb3NpdGlvbiA8IGFyZ3VtZW50cy5sZW5ndGgpIGFyZ3MucHVzaChhcmd1bWVudHNbcG9zaXRpb24rK10pO1xuICAgICAgcmV0dXJuIGV4ZWN1dGVCb3VuZChmdW5jLCBib3VuZCwgdGhpcywgdGhpcywgYXJncyk7XG4gICAgfTtcbiAgICByZXR1cm4gYm91bmQ7XG4gIH07XG5cbiAgLy8gQmluZCBhIG51bWJlciBvZiBhbiBvYmplY3QncyBtZXRob2RzIHRvIHRoYXQgb2JqZWN0LiBSZW1haW5pbmcgYXJndW1lbnRzXG4gIC8vIGFyZSB0aGUgbWV0aG9kIG5hbWVzIHRvIGJlIGJvdW5kLiBVc2VmdWwgZm9yIGVuc3VyaW5nIHRoYXQgYWxsIGNhbGxiYWNrc1xuICAvLyBkZWZpbmVkIG9uIGFuIG9iamVjdCBiZWxvbmcgdG8gaXQuXG4gIF8uYmluZEFsbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBpLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLCBrZXk7XG4gICAgaWYgKGxlbmd0aCA8PSAxKSB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBbGwgbXVzdCBiZSBwYXNzZWQgZnVuY3Rpb24gbmFtZXMnKTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIG9ialtrZXldID0gXy5iaW5kKG9ialtrZXldLCBvYmopO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIE1lbW9pemUgYW4gZXhwZW5zaXZlIGZ1bmN0aW9uIGJ5IHN0b3JpbmcgaXRzIHJlc3VsdHMuXG4gIF8ubWVtb2l6ZSA9IGZ1bmN0aW9uKGZ1bmMsIGhhc2hlcikge1xuICAgIHZhciBtZW1vaXplID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YXIgY2FjaGUgPSBtZW1vaXplLmNhY2hlO1xuICAgICAgdmFyIGFkZHJlc3MgPSAnJyArIChoYXNoZXIgPyBoYXNoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleSk7XG4gICAgICBpZiAoIV8uaGFzKGNhY2hlLCBhZGRyZXNzKSkgY2FjaGVbYWRkcmVzc10gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gY2FjaGVbYWRkcmVzc107XG4gICAgfTtcbiAgICBtZW1vaXplLmNhY2hlID0ge307XG4gICAgcmV0dXJuIG1lbW9pemU7XG4gIH07XG5cbiAgLy8gRGVsYXlzIGEgZnVuY3Rpb24gZm9yIHRoZSBnaXZlbiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLCBhbmQgdGhlbiBjYWxsc1xuICAvLyBpdCB3aXRoIHRoZSBhcmd1bWVudHMgc3VwcGxpZWQuXG4gIF8uZGVsYXkgPSBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH0sIHdhaXQpO1xuICB9O1xuXG4gIC8vIERlZmVycyBhIGZ1bmN0aW9uLCBzY2hlZHVsaW5nIGl0IHRvIHJ1biBhZnRlciB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhc1xuICAvLyBjbGVhcmVkLlxuICBfLmRlZmVyID0gXy5wYXJ0aWFsKF8uZGVsYXksIF8sIDEpO1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3Qgb25jZVxuICAvLyBkdXJpbmcgYSBnaXZlbiB3aW5kb3cgb2YgdGltZS4gTm9ybWFsbHksIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gd2lsbCBydW5cbiAgLy8gYXMgbXVjaCBhcyBpdCBjYW4sIHdpdGhvdXQgZXZlciBnb2luZyBtb3JlIHRoYW4gb25jZSBwZXIgYHdhaXRgIGR1cmF0aW9uO1xuICAvLyBidXQgaWYgeW91J2QgbGlrZSB0byBkaXNhYmxlIHRoZSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSwgcGFzc1xuICAvLyBge2xlYWRpbmc6IGZhbHNlfWAuIFRvIGRpc2FibGUgZXhlY3V0aW9uIG9uIHRoZSB0cmFpbGluZyBlZGdlLCBkaXR0by5cbiAgXy50aHJvdHRsZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICB2YXIgY29udGV4dCwgYXJncywgcmVzdWx0O1xuICAgIHZhciB0aW1lb3V0ID0gbnVsbDtcbiAgICB2YXIgcHJldmlvdXMgPSAwO1xuICAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IF8ubm93KCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBub3cgPSBfLm5vdygpO1xuICAgICAgaWYgKCFwcmV2aW91cyAmJiBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlKSBwcmV2aW91cyA9IG5vdztcbiAgICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGlmIChyZW1haW5pbmcgPD0gMCB8fCByZW1haW5pbmcgPiB3YWl0KSB7XG4gICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQgJiYgb3B0aW9ucy50cmFpbGluZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gIC8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuICAvLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuICBfLmRlYm91bmNlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgdmFyIHRpbWVvdXQsIGFyZ3MsIGNvbnRleHQsIHRpbWVzdGFtcCwgcmVzdWx0O1xuXG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGFzdCA9IF8ubm93KCkgLSB0aW1lc3RhbXA7XG5cbiAgICAgIGlmIChsYXN0IDwgd2FpdCAmJiBsYXN0ID49IDApIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQgLSBsYXN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICBpZiAoIWltbWVkaWF0ZSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdGltZXN0YW1wID0gXy5ub3coKTtcbiAgICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgICAgaWYgKCF0aW1lb3V0KSB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICBpZiAoY2FsbE5vdykge1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBmdW5jdGlvbiBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIHNlY29uZCxcbiAgLy8gYWxsb3dpbmcgeW91IHRvIGFkanVzdCBhcmd1bWVudHMsIHJ1biBjb2RlIGJlZm9yZSBhbmQgYWZ0ZXIsIGFuZFxuICAvLyBjb25kaXRpb25hbGx5IGV4ZWN1dGUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICBfLndyYXAgPSBmdW5jdGlvbihmdW5jLCB3cmFwcGVyKSB7XG4gICAgcmV0dXJuIF8ucGFydGlhbCh3cmFwcGVyLCBmdW5jKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgbmVnYXRlZCB2ZXJzaW9uIG9mIHRoZSBwYXNzZWQtaW4gcHJlZGljYXRlLlxuICBfLm5lZ2F0ZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgYSBsaXN0IG9mIGZ1bmN0aW9ucywgZWFjaFxuICAvLyBjb25zdW1pbmcgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBmb2xsb3dzLlxuICBfLmNvbXBvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgc3RhcnQgPSBhcmdzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGkgPSBzdGFydDtcbiAgICAgIHZhciByZXN1bHQgPSBhcmdzW3N0YXJ0XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgd2hpbGUgKGktLSkgcmVzdWx0ID0gYXJnc1tpXS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIG9uIGFuZCBhZnRlciB0aGUgTnRoIGNhbGwuXG4gIF8uYWZ0ZXIgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIHVwIHRvIChidXQgbm90IGluY2x1ZGluZykgdGhlIE50aCBjYWxsLlxuICBfLmJlZm9yZSA9IGZ1bmN0aW9uKHRpbWVzLCBmdW5jKSB7XG4gICAgdmFyIG1lbW87XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0tdGltZXMgPiAwKSB7XG4gICAgICAgIG1lbW8gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICBpZiAodGltZXMgPD0gMSkgZnVuYyA9IG51bGw7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgYXQgbW9zdCBvbmUgdGltZSwgbm8gbWF0dGVyIGhvd1xuICAvLyBvZnRlbiB5b3UgY2FsbCBpdC4gVXNlZnVsIGZvciBsYXp5IGluaXRpYWxpemF0aW9uLlxuICBfLm9uY2UgPSBfLnBhcnRpYWwoXy5iZWZvcmUsIDIpO1xuXG4gIC8vIE9iamVjdCBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEtleXMgaW4gSUUgPCA5IHRoYXQgd29uJ3QgYmUgaXRlcmF0ZWQgYnkgYGZvciBrZXkgaW4gLi4uYCBhbmQgdGh1cyBtaXNzZWQuXG4gIHZhciBoYXNFbnVtQnVnID0gIXt0b1N0cmluZzogbnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoJ3RvU3RyaW5nJyk7XG4gIHZhciBub25FbnVtZXJhYmxlUHJvcHMgPSBbJ3ZhbHVlT2YnLCAnaXNQcm90b3R5cGVPZicsICd0b1N0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJ2hhc093blByb3BlcnR5JywgJ3RvTG9jYWxlU3RyaW5nJ107XG5cbiAgZnVuY3Rpb24gY29sbGVjdE5vbkVudW1Qcm9wcyhvYmosIGtleXMpIHtcbiAgICB2YXIgbm9uRW51bUlkeCA9IG5vbkVudW1lcmFibGVQcm9wcy5sZW5ndGg7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gb2JqLmNvbnN0cnVjdG9yO1xuICAgIHZhciBwcm90byA9IChfLmlzRnVuY3Rpb24oY29uc3RydWN0b3IpICYmIGNvbnN0cnVjdG9yLnByb3RvdHlwZSkgfHwgT2JqUHJvdG87XG5cbiAgICAvLyBDb25zdHJ1Y3RvciBpcyBhIHNwZWNpYWwgY2FzZS5cbiAgICB2YXIgcHJvcCA9ICdjb25zdHJ1Y3Rvcic7XG4gICAgaWYgKF8uaGFzKG9iaiwgcHJvcCkgJiYgIV8uY29udGFpbnMoa2V5cywgcHJvcCkpIGtleXMucHVzaChwcm9wKTtcblxuICAgIHdoaWxlIChub25FbnVtSWR4LS0pIHtcbiAgICAgIHByb3AgPSBub25FbnVtZXJhYmxlUHJvcHNbbm9uRW51bUlkeF07XG4gICAgICBpZiAocHJvcCBpbiBvYmogJiYgb2JqW3Byb3BdICE9PSBwcm90b1twcm9wXSAmJiAhXy5jb250YWlucyhrZXlzLCBwcm9wKSkge1xuICAgICAgICBrZXlzLnB1c2gocHJvcCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0cmlldmUgdGhlIG5hbWVzIG9mIGFuIG9iamVjdCdzIG93biBwcm9wZXJ0aWVzLlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgT2JqZWN0LmtleXNgXG4gIF8ua2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgaWYgKG5hdGl2ZUtleXMpIHJldHVybiBuYXRpdmVLZXlzKG9iaik7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAoXy5oYXMob2JqLCBrZXkpKSBrZXlzLnB1c2goa2V5KTtcbiAgICAvLyBBaGVtLCBJRSA8IDkuXG4gICAgaWYgKGhhc0VudW1CdWcpIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSBhbGwgdGhlIHByb3BlcnR5IG5hbWVzIG9mIGFuIG9iamVjdC5cbiAgXy5hbGxLZXlzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBbXTtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGtleXMucHVzaChrZXkpO1xuICAgIC8vIEFoZW0sIElFIDwgOS5cbiAgICBpZiAoaGFzRW51bUJ1ZykgY29sbGVjdE5vbkVudW1Qcm9wcyhvYmosIGtleXMpO1xuICAgIHJldHVybiBrZXlzO1xuICB9O1xuXG4gIC8vIFJldHJpZXZlIHRoZSB2YWx1ZXMgb2YgYW4gb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgXy52YWx1ZXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgdmFsdWVzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZXNbaV0gPSBvYmpba2V5c1tpXV07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgcmVzdWx0cyBvZiBhcHBseWluZyB0aGUgaXRlcmF0ZWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBvYmplY3RcbiAgLy8gSW4gY29udHJhc3QgdG8gXy5tYXAgaXQgcmV0dXJucyBhbiBvYmplY3RcbiAgXy5tYXBPYmplY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0cyA9IHt9LFxuICAgICAgICAgIGN1cnJlbnRLZXk7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGN1cnJlbnRLZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0c1tjdXJyZW50S2V5XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIENvbnZlcnQgYW4gb2JqZWN0IGludG8gYSBsaXN0IG9mIGBba2V5LCB2YWx1ZV1gIHBhaXJzLlxuICBfLnBhaXJzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHBhaXJzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBwYWlyc1tpXSA9IFtrZXlzW2ldLCBvYmpba2V5c1tpXV1dO1xuICAgIH1cbiAgICByZXR1cm4gcGFpcnM7XG4gIH07XG5cbiAgLy8gSW52ZXJ0IHRoZSBrZXlzIGFuZCB2YWx1ZXMgb2YgYW4gb2JqZWN0LiBUaGUgdmFsdWVzIG11c3QgYmUgc2VyaWFsaXphYmxlLlxuICBfLmludmVydCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHRbb2JqW2tleXNbaV1dXSA9IGtleXNbaV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgc29ydGVkIGxpc3Qgb2YgdGhlIGZ1bmN0aW9uIG5hbWVzIGF2YWlsYWJsZSBvbiB0aGUgb2JqZWN0LlxuICAvLyBBbGlhc2VkIGFzIGBtZXRob2RzYFxuICBfLmZ1bmN0aW9ucyA9IF8ubWV0aG9kcyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBuYW1lcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChfLmlzRnVuY3Rpb24ob2JqW2tleV0pKSBuYW1lcy5wdXNoKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lcy5zb3J0KCk7XG4gIH07XG5cbiAgLy8gRXh0ZW5kIGEgZ2l2ZW4gb2JqZWN0IHdpdGggYWxsIHRoZSBwcm9wZXJ0aWVzIGluIHBhc3NlZC1pbiBvYmplY3QocykuXG4gIF8uZXh0ZW5kID0gY3JlYXRlQXNzaWduZXIoXy5hbGxLZXlzKTtcblxuICAvLyBBc3NpZ25zIGEgZ2l2ZW4gb2JqZWN0IHdpdGggYWxsIHRoZSBvd24gcHJvcGVydGllcyBpbiB0aGUgcGFzc2VkLWluIG9iamVjdChzKVxuICAvLyAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbilcbiAgXy5leHRlbmRPd24gPSBfLmFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKF8ua2V5cyk7XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3Qga2V5IG9uIGFuIG9iamVjdCB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0XG4gIF8uZmluZEtleSA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopLCBrZXk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAocHJlZGljYXRlKG9ialtrZXldLCBrZXksIG9iaikpIHJldHVybiBrZXk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbmx5IGNvbnRhaW5pbmcgdGhlIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ucGljayA9IGZ1bmN0aW9uKG9iamVjdCwgb2l0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9LCBvYmogPSBvYmplY3QsIGl0ZXJhdGVlLCBrZXlzO1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdDtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKG9pdGVyYXRlZSkpIHtcbiAgICAgIGtleXMgPSBfLmFsbEtleXMob2JqKTtcbiAgICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihvaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXlzID0gZmxhdHRlbihhcmd1bWVudHMsIGZhbHNlLCBmYWxzZSwgMSk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iaikgeyByZXR1cm4ga2V5IGluIG9iajsgfTtcbiAgICAgIG9iaiA9IE9iamVjdChvYmopO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgIGlmIChpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmopKSByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgd2l0aG91dCB0aGUgYmxhY2tsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5vbWl0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGlmIChfLmlzRnVuY3Rpb24oaXRlcmF0ZWUpKSB7XG4gICAgICBpdGVyYXRlZSA9IF8ubmVnYXRlKGl0ZXJhdGVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGtleXMgPSBfLm1hcChmbGF0dGVuKGFyZ3VtZW50cywgZmFsc2UsIGZhbHNlLCAxKSwgU3RyaW5nKTtcbiAgICAgIGl0ZXJhdGVlID0gZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICByZXR1cm4gIV8uY29udGFpbnMoa2V5cywga2V5KTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBfLnBpY2sob2JqLCBpdGVyYXRlZSwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gRmlsbCBpbiBhIGdpdmVuIG9iamVjdCB3aXRoIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgXy5kZWZhdWx0cyA9IGNyZWF0ZUFzc2lnbmVyKF8uYWxsS2V5cywgdHJ1ZSk7XG5cbiAgLy8gQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBnaXZlbiBwcm90b3R5cGUgb2JqZWN0LlxuICAvLyBJZiBhZGRpdGlvbmFsIHByb3BlcnRpZXMgYXJlIHByb3ZpZGVkIHRoZW4gdGhleSB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuICAvLyBjcmVhdGVkIG9iamVjdC5cbiAgXy5jcmVhdGUgPSBmdW5jdGlvbihwcm90b3R5cGUsIHByb3BzKSB7XG4gICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICBpZiAocHJvcHMpIF8uZXh0ZW5kT3duKHJlc3VsdCwgcHJvcHMpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgKHNoYWxsb3ctY2xvbmVkKSBkdXBsaWNhdGUgb2YgYW4gb2JqZWN0LlxuICBfLmNsb25lID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gICAgcmV0dXJuIF8uaXNBcnJheShvYmopID8gb2JqLnNsaWNlKCkgOiBfLmV4dGVuZCh7fSwgb2JqKTtcbiAgfTtcblxuICAvLyBJbnZva2VzIGludGVyY2VwdG9yIHdpdGggdGhlIG9iaiwgYW5kIHRoZW4gcmV0dXJucyBvYmouXG4gIC8vIFRoZSBwcmltYXJ5IHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluLCBpblxuICAvLyBvcmRlciB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gaW50ZXJtZWRpYXRlIHJlc3VsdHMgd2l0aGluIHRoZSBjaGFpbi5cbiAgXy50YXAgPSBmdW5jdGlvbihvYmosIGludGVyY2VwdG9yKSB7XG4gICAgaW50ZXJjZXB0b3Iob2JqKTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIFJldHVybnMgd2hldGhlciBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gc2V0IG9mIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLmlzTWF0Y2ggPSBmdW5jdGlvbihvYmplY3QsIGF0dHJzKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMoYXR0cnMpLCBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiAhbGVuZ3RoO1xuICAgIHZhciBvYmogPSBPYmplY3Qob2JqZWN0KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmIChhdHRyc1trZXldICE9PSBvYmpba2V5XSB8fCAhKGtleSBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG5cbiAgLy8gSW50ZXJuYWwgcmVjdXJzaXZlIGNvbXBhcmlzb24gZnVuY3Rpb24gZm9yIGBpc0VxdWFsYC5cbiAgdmFyIGVxID0gZnVuY3Rpb24oYSwgYiwgYVN0YWNrLCBiU3RhY2spIHtcbiAgICAvLyBJZGVudGljYWwgb2JqZWN0cyBhcmUgZXF1YWwuIGAwID09PSAtMGAsIGJ1dCB0aGV5IGFyZW4ndCBpZGVudGljYWwuXG4gICAgLy8gU2VlIHRoZSBbSGFybW9ueSBgZWdhbGAgcHJvcG9zYWxdKGh0dHA6Ly93aWtpLmVjbWFzY3JpcHQub3JnL2Rva3UucGhwP2lkPWhhcm1vbnk6ZWdhbCkuXG4gICAgaWYgKGEgPT09IGIpIHJldHVybiBhICE9PSAwIHx8IDEgLyBhID09PSAxIC8gYjtcbiAgICAvLyBBIHN0cmljdCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIGBudWxsID09IHVuZGVmaW5lZGAuXG4gICAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBhID09PSBiO1xuICAgIC8vIFVud3JhcCBhbnkgd3JhcHBlZCBvYmplY3RzLlxuICAgIGlmIChhIGluc3RhbmNlb2YgXykgYSA9IGEuX3dyYXBwZWQ7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBfKSBiID0gYi5fd3JhcHBlZDtcbiAgICAvLyBDb21wYXJlIGBbW0NsYXNzXV1gIG5hbWVzLlxuICAgIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKGEpO1xuICAgIGlmIChjbGFzc05hbWUgIT09IHRvU3RyaW5nLmNhbGwoYikpIHJldHVybiBmYWxzZTtcbiAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgICAgLy8gU3RyaW5ncywgbnVtYmVycywgcmVndWxhciBleHByZXNzaW9ucywgZGF0ZXMsIGFuZCBib29sZWFucyBhcmUgY29tcGFyZWQgYnkgdmFsdWUuXG4gICAgICBjYXNlICdbb2JqZWN0IFJlZ0V4cF0nOlxuICAgICAgLy8gUmVnRXhwcyBhcmUgY29lcmNlZCB0byBzdHJpbmdzIGZvciBjb21wYXJpc29uIChOb3RlOiAnJyArIC9hL2kgPT09ICcvYS9pJylcbiAgICAgIGNhc2UgJ1tvYmplY3QgU3RyaW5nXSc6XG4gICAgICAgIC8vIFByaW1pdGl2ZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgb2JqZWN0IHdyYXBwZXJzIGFyZSBlcXVpdmFsZW50OyB0aHVzLCBgXCI1XCJgIGlzXG4gICAgICAgIC8vIGVxdWl2YWxlbnQgdG8gYG5ldyBTdHJpbmcoXCI1XCIpYC5cbiAgICAgICAgcmV0dXJuICcnICsgYSA9PT0gJycgKyBiO1xuICAgICAgY2FzZSAnW29iamVjdCBOdW1iZXJdJzpcbiAgICAgICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgICAgICAgLy8gT2JqZWN0KE5hTikgaXMgZXF1aXZhbGVudCB0byBOYU5cbiAgICAgICAgaWYgKCthICE9PSArYSkgcmV0dXJuICtiICE9PSArYjtcbiAgICAgICAgLy8gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvciBvdGhlciBudW1lcmljIHZhbHVlcy5cbiAgICAgICAgcmV0dXJuICthID09PSAwID8gMSAvICthID09PSAxIC8gYiA6ICthID09PSArYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XG4gICAgICAgIC8vIENvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtZXJpYyBwcmltaXRpdmUgdmFsdWVzLiBEYXRlcyBhcmUgY29tcGFyZWQgYnkgdGhlaXJcbiAgICAgICAgLy8gbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zLiBOb3RlIHRoYXQgaW52YWxpZCBkYXRlcyB3aXRoIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9uc1xuICAgICAgICAvLyBvZiBgTmFOYCBhcmUgbm90IGVxdWl2YWxlbnQuXG4gICAgICAgIHJldHVybiArYSA9PT0gK2I7XG4gICAgfVxuXG4gICAgdmFyIGFyZUFycmF5cyA9IGNsYXNzTmFtZSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICBpZiAoIWFyZUFycmF5cykge1xuICAgICAgaWYgKHR5cGVvZiBhICE9ICdvYmplY3QnIHx8IHR5cGVvZiBiICE9ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIC8vIE9iamVjdHMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1aXZhbGVudCwgYnV0IGBPYmplY3RgcyBvciBgQXJyYXlgc1xuICAgICAgLy8gZnJvbSBkaWZmZXJlbnQgZnJhbWVzIGFyZS5cbiAgICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcbiAgICAgIGlmIChhQ3RvciAhPT0gYkN0b3IgJiYgIShfLmlzRnVuY3Rpb24oYUN0b3IpICYmIGFDdG9yIGluc3RhbmNlb2YgYUN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmlzRnVuY3Rpb24oYkN0b3IpICYmIGJDdG9yIGluc3RhbmNlb2YgYkN0b3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICYmICgnY29uc3RydWN0b3InIGluIGEgJiYgJ2NvbnN0cnVjdG9yJyBpbiBiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEFzc3VtZSBlcXVhbGl0eSBmb3IgY3ljbGljIHN0cnVjdHVyZXMuIFRoZSBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBjeWNsaWNcbiAgICAvLyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjEgc2VjdGlvbiAxNS4xMi4zLCBhYnN0cmFjdCBvcGVyYXRpb24gYEpPYC5cblxuICAgIC8vIEluaXRpYWxpemluZyBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAvLyBJdCdzIGRvbmUgaGVyZSBzaW5jZSB3ZSBvbmx5IG5lZWQgdGhlbSBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzIGNvbXBhcmlzb24uXG4gICAgYVN0YWNrID0gYVN0YWNrIHx8IFtdO1xuICAgIGJTdGFjayA9IGJTdGFjayB8fCBbXTtcbiAgICB2YXIgbGVuZ3RoID0gYVN0YWNrLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgICAgLy8gdW5pcXVlIG5lc3RlZCBzdHJ1Y3R1cmVzLlxuICAgICAgaWYgKGFTdGFja1tsZW5ndGhdID09PSBhKSByZXR1cm4gYlN0YWNrW2xlbmd0aF0gPT09IGI7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBmaXJzdCBvYmplY3QgdG8gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wdXNoKGEpO1xuICAgIGJTdGFjay5wdXNoKGIpO1xuXG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMuXG4gICAgaWYgKGFyZUFycmF5cykge1xuICAgICAgLy8gQ29tcGFyZSBhcnJheSBsZW5ndGhzIHRvIGRldGVybWluZSBpZiBhIGRlZXAgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkuXG4gICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmICghZXEoYVtsZW5ndGhdLCBiW2xlbmd0aF0sIGFTdGFjaywgYlN0YWNrKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgb2JqZWN0cy5cbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKGEpLCBrZXk7XG4gICAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGJvdGggb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzIGJlZm9yZSBjb21wYXJpbmcgZGVlcCBlcXVhbGl0eS5cbiAgICAgIGlmIChfLmtleXMoYikubGVuZ3RoICE9PSBsZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXJcbiAgICAgICAga2V5ID0ga2V5c1tsZW5ndGhdO1xuICAgICAgICBpZiAoIShfLmhhcyhiLCBrZXkpICYmIGVxKGFba2V5XSwgYltrZXldLCBhU3RhY2ssIGJTdGFjaykpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFJlbW92ZSB0aGUgZmlyc3Qgb2JqZWN0IGZyb20gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wb3AoKTtcbiAgICBiU3RhY2sucG9wKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLy8gUGVyZm9ybSBhIGRlZXAgY29tcGFyaXNvbiB0byBjaGVjayBpZiB0d28gb2JqZWN0cyBhcmUgZXF1YWwuXG4gIF8uaXNFcXVhbCA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gZXEoYSwgYik7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiBhcnJheSwgc3RyaW5nLCBvciBvYmplY3QgZW1wdHk/XG4gIC8vIEFuIFwiZW1wdHlcIiBvYmplY3QgaGFzIG5vIGVudW1lcmFibGUgb3duLXByb3BlcnRpZXMuXG4gIF8uaXNFbXB0eSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikgJiYgKF8uaXNBcnJheShvYmopIHx8IF8uaXNTdHJpbmcob2JqKSB8fCBfLmlzQXJndW1lbnRzKG9iaikpKSByZXR1cm4gb2JqLmxlbmd0aCA9PT0gMDtcbiAgICByZXR1cm4gXy5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBET00gZWxlbWVudD9cbiAgXy5pc0VsZW1lbnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSA9PT0gMSk7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhbiBhcnJheT9cbiAgLy8gRGVsZWdhdGVzIHRvIEVDTUE1J3MgbmF0aXZlIEFycmF5LmlzQXJyYXlcbiAgXy5pc0FycmF5ID0gbmF0aXZlSXNBcnJheSB8fCBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgYW4gb2JqZWN0P1xuICBfLmlzT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2Ygb2JqO1xuICAgIHJldHVybiB0eXBlID09PSAnZnVuY3Rpb24nIHx8IHR5cGUgPT09ICdvYmplY3QnICYmICEhb2JqO1xuICB9O1xuXG4gIC8vIEFkZCBzb21lIGlzVHlwZSBtZXRob2RzOiBpc0FyZ3VtZW50cywgaXNGdW5jdGlvbiwgaXNTdHJpbmcsIGlzTnVtYmVyLCBpc0RhdGUsIGlzUmVnRXhwLCBpc0Vycm9yLlxuICBfLmVhY2goWydBcmd1bWVudHMnLCAnRnVuY3Rpb24nLCAnU3RyaW5nJywgJ051bWJlcicsICdEYXRlJywgJ1JlZ0V4cCcsICdFcnJvciddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgX1snaXMnICsgbmFtZV0gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0ICcgKyBuYW1lICsgJ10nO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIERlZmluZSBhIGZhbGxiYWNrIHZlcnNpb24gb2YgdGhlIG1ldGhvZCBpbiBicm93c2VycyAoYWhlbSwgSUUgPCA5KSwgd2hlcmVcbiAgLy8gdGhlcmUgaXNuJ3QgYW55IGluc3BlY3RhYmxlIFwiQXJndW1lbnRzXCIgdHlwZS5cbiAgaWYgKCFfLmlzQXJndW1lbnRzKGFyZ3VtZW50cykpIHtcbiAgICBfLmlzQXJndW1lbnRzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gXy5oYXMob2JqLCAnY2FsbGVlJyk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIE9wdGltaXplIGBpc0Z1bmN0aW9uYCBpZiBhcHByb3ByaWF0ZS4gV29yayBhcm91bmQgc29tZSB0eXBlb2YgYnVncyBpbiBvbGQgdjgsXG4gIC8vIElFIDExICgjMTYyMSksIGFuZCBpbiBTYWZhcmkgOCAoIzE5MjkpLlxuICBpZiAodHlwZW9mIC8uLyAhPSAnZnVuY3Rpb24nICYmIHR5cGVvZiBJbnQ4QXJyYXkgIT0gJ29iamVjdCcpIHtcbiAgICBfLmlzRnVuY3Rpb24gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09ICdmdW5jdGlvbicgfHwgZmFsc2U7XG4gICAgfTtcbiAgfVxuXG4gIC8vIElzIGEgZ2l2ZW4gb2JqZWN0IGEgZmluaXRlIG51bWJlcj9cbiAgXy5pc0Zpbml0ZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBpc0Zpbml0ZShvYmopICYmICFpc05hTihwYXJzZUZsb2F0KG9iaikpO1xuICB9O1xuXG4gIC8vIElzIHRoZSBnaXZlbiB2YWx1ZSBgTmFOYD8gKE5hTiBpcyB0aGUgb25seSBudW1iZXIgd2hpY2ggZG9lcyBub3QgZXF1YWwgaXRzZWxmKS5cbiAgXy5pc05hTiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBfLmlzTnVtYmVyKG9iaikgJiYgb2JqICE9PSArb2JqO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBib29sZWFuP1xuICBfLmlzQm9vbGVhbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHRydWUgfHwgb2JqID09PSBmYWxzZSB8fCB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGVxdWFsIHRvIG51bGw/XG4gIF8uaXNOdWxsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gbnVsbDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIHVuZGVmaW5lZD9cbiAgXy5pc1VuZGVmaW5lZCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHZvaWQgMDtcbiAgfTtcblxuICAvLyBTaG9ydGN1dCBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHByb3BlcnR5IGRpcmVjdGx5XG4gIC8vIG9uIGl0c2VsZiAoaW4gb3RoZXIgd29yZHMsIG5vdCBvbiBhIHByb3RvdHlwZSkuXG4gIF8uaGFzID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG4gIH07XG5cbiAgLy8gVXRpbGl0eSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBSdW4gVW5kZXJzY29yZS5qcyBpbiAqbm9Db25mbGljdCogbW9kZSwgcmV0dXJuaW5nIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzXG4gIC8vIHByZXZpb3VzIG93bmVyLiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcm9vdC5fID0gcHJldmlvdXNVbmRlcnNjb3JlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIEtlZXAgdGhlIGlkZW50aXR5IGZ1bmN0aW9uIGFyb3VuZCBmb3IgZGVmYXVsdCBpdGVyYXRlZXMuXG4gIF8uaWRlbnRpdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvLyBQcmVkaWNhdGUtZ2VuZXJhdGluZyBmdW5jdGlvbnMuIE9mdGVuIHVzZWZ1bCBvdXRzaWRlIG9mIFVuZGVyc2NvcmUuXG4gIF8uY29uc3RhbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICB9O1xuXG4gIF8ubm9vcCA9IGZ1bmN0aW9uKCl7fTtcblxuICBfLnByb3BlcnR5ID0gcHJvcGVydHk7XG5cbiAgLy8gR2VuZXJhdGVzIGEgZnVuY3Rpb24gZm9yIGEgZ2l2ZW4gb2JqZWN0IHRoYXQgcmV0dXJucyBhIGdpdmVuIHByb3BlcnR5LlxuICBfLnByb3BlcnR5T2YgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09IG51bGwgPyBmdW5jdGlvbigpe30gOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBwcmVkaWNhdGUgZm9yIGNoZWNraW5nIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHNldCBvZlxuICAvLyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5tYXRjaGVyID0gXy5tYXRjaGVzID0gZnVuY3Rpb24oYXR0cnMpIHtcbiAgICBhdHRycyA9IF8uZXh0ZW5kT3duKHt9LCBhdHRycyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIF8uaXNNYXRjaChvYmosIGF0dHJzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJ1biBhIGZ1bmN0aW9uICoqbioqIHRpbWVzLlxuICBfLnRpbWVzID0gZnVuY3Rpb24obiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgYWNjdW0gPSBBcnJheShNYXRoLm1heCgwLCBuKSk7XG4gICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0LCAxKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykgYWNjdW1baV0gPSBpdGVyYXRlZShpKTtcbiAgICByZXR1cm4gYWNjdW07XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAoaW5jbHVzaXZlKS5cbiAgXy5yYW5kb20gPSBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgIGlmIChtYXggPT0gbnVsbCkge1xuICAgICAgbWF4ID0gbWluO1xuICAgICAgbWluID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIG1pbiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSk7XG4gIH07XG5cbiAgLy8gQSAocG9zc2libHkgZmFzdGVyKSB3YXkgdG8gZ2V0IHRoZSBjdXJyZW50IHRpbWVzdGFtcCBhcyBhbiBpbnRlZ2VyLlxuICBfLm5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgfTtcblxuICAgLy8gTGlzdCBvZiBIVE1MIGVudGl0aWVzIGZvciBlc2NhcGluZy5cbiAgdmFyIGVzY2FwZU1hcCA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmI3gyNzsnLFxuICAgICdgJzogJyYjeDYwOydcbiAgfTtcbiAgdmFyIHVuZXNjYXBlTWFwID0gXy5pbnZlcnQoZXNjYXBlTWFwKTtcblxuICAvLyBGdW5jdGlvbnMgZm9yIGVzY2FwaW5nIGFuZCB1bmVzY2FwaW5nIHN0cmluZ3MgdG8vZnJvbSBIVE1MIGludGVycG9sYXRpb24uXG4gIHZhciBjcmVhdGVFc2NhcGVyID0gZnVuY3Rpb24obWFwKSB7XG4gICAgdmFyIGVzY2FwZXIgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgcmV0dXJuIG1hcFttYXRjaF07XG4gICAgfTtcbiAgICAvLyBSZWdleGVzIGZvciBpZGVudGlmeWluZyBhIGtleSB0aGF0IG5lZWRzIHRvIGJlIGVzY2FwZWRcbiAgICB2YXIgc291cmNlID0gJyg/OicgKyBfLmtleXMobWFwKS5qb2luKCd8JykgKyAnKSc7XG4gICAgdmFyIHRlc3RSZWdleHAgPSBSZWdFeHAoc291cmNlKTtcbiAgICB2YXIgcmVwbGFjZVJlZ2V4cCA9IFJlZ0V4cChzb3VyY2UsICdnJyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gc3RyaW5nID09IG51bGwgPyAnJyA6ICcnICsgc3RyaW5nO1xuICAgICAgcmV0dXJuIHRlc3RSZWdleHAudGVzdChzdHJpbmcpID8gc3RyaW5nLnJlcGxhY2UocmVwbGFjZVJlZ2V4cCwgZXNjYXBlcikgOiBzdHJpbmc7XG4gICAgfTtcbiAgfTtcbiAgXy5lc2NhcGUgPSBjcmVhdGVFc2NhcGVyKGVzY2FwZU1hcCk7XG4gIF8udW5lc2NhcGUgPSBjcmVhdGVFc2NhcGVyKHVuZXNjYXBlTWFwKTtcblxuICAvLyBJZiB0aGUgdmFsdWUgb2YgdGhlIG5hbWVkIGBwcm9wZXJ0eWAgaXMgYSBmdW5jdGlvbiB0aGVuIGludm9rZSBpdCB3aXRoIHRoZVxuICAvLyBgb2JqZWN0YCBhcyBjb250ZXh0OyBvdGhlcndpc2UsIHJldHVybiBpdC5cbiAgXy5yZXN1bHQgPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBmYWxsYmFjaykge1xuICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdm9pZCAwIDogb2JqZWN0W3Byb3BlcnR5XTtcbiAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgdmFsdWUgPSBmYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIF8uaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgfTtcblxuICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpbnRlZ2VyIGlkICh1bmlxdWUgd2l0aGluIHRoZSBlbnRpcmUgY2xpZW50IHNlc3Npb24pLlxuICAvLyBVc2VmdWwgZm9yIHRlbXBvcmFyeSBET00gaWRzLlxuICB2YXIgaWRDb3VudGVyID0gMDtcbiAgXy51bmlxdWVJZCA9IGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIHZhciBpZCA9ICsraWRDb3VudGVyICsgJyc7XG4gICAgcmV0dXJuIHByZWZpeCA/IHByZWZpeCArIGlkIDogaWQ7XG4gIH07XG5cbiAgLy8gQnkgZGVmYXVsdCwgVW5kZXJzY29yZSB1c2VzIEVSQi1zdHlsZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLCBjaGFuZ2UgdGhlXG4gIC8vIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgXy50ZW1wbGF0ZVNldHRpbmdzID0ge1xuICAgIGV2YWx1YXRlICAgIDogLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICBpbnRlcnBvbGF0ZSA6IC88JT0oW1xcc1xcU10rPyklPi9nLFxuICAgIGVzY2FwZSAgICAgIDogLzwlLShbXFxzXFxTXSs/KSU+L2dcbiAgfTtcblxuICAvLyBXaGVuIGN1c3RvbWl6aW5nIGB0ZW1wbGF0ZVNldHRpbmdzYCwgaWYgeW91IGRvbid0IHdhbnQgdG8gZGVmaW5lIGFuXG4gIC8vIGludGVycG9sYXRpb24sIGV2YWx1YXRpb24gb3IgZXNjYXBpbmcgcmVnZXgsIHdlIG5lZWQgb25lIHRoYXQgaXNcbiAgLy8gZ3VhcmFudGVlZCBub3QgdG8gbWF0Y2guXG4gIHZhciBub01hdGNoID0gLyguKV4vO1xuXG4gIC8vIENlcnRhaW4gY2hhcmFjdGVycyBuZWVkIHRvIGJlIGVzY2FwZWQgc28gdGhhdCB0aGV5IGNhbiBiZSBwdXQgaW50byBhXG4gIC8vIHN0cmluZyBsaXRlcmFsLlxuICB2YXIgZXNjYXBlcyA9IHtcbiAgICBcIidcIjogICAgICBcIidcIixcbiAgICAnXFxcXCc6ICAgICAnXFxcXCcsXG4gICAgJ1xccic6ICAgICAncicsXG4gICAgJ1xcbic6ICAgICAnbicsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIHZhciBlc2NhcGVyID0gL1xcXFx8J3xcXHJ8XFxufFxcdTIwMjh8XFx1MjAyOS9nO1xuXG4gIHZhciBlc2NhcGVDaGFyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgZXNjYXBlc1ttYXRjaF07XG4gIH07XG5cbiAgLy8gSmF2YVNjcmlwdCBtaWNyby10ZW1wbGF0aW5nLCBzaW1pbGFyIHRvIEpvaG4gUmVzaWcncyBpbXBsZW1lbnRhdGlvbi5cbiAgLy8gVW5kZXJzY29yZSB0ZW1wbGF0aW5nIGhhbmRsZXMgYXJiaXRyYXJ5IGRlbGltaXRlcnMsIHByZXNlcnZlcyB3aGl0ZXNwYWNlLFxuICAvLyBhbmQgY29ycmVjdGx5IGVzY2FwZXMgcXVvdGVzIHdpdGhpbiBpbnRlcnBvbGF0ZWQgY29kZS5cbiAgLy8gTkI6IGBvbGRTZXR0aW5nc2Agb25seSBleGlzdHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICBfLnRlbXBsYXRlID0gZnVuY3Rpb24odGV4dCwgc2V0dGluZ3MsIG9sZFNldHRpbmdzKSB7XG4gICAgaWYgKCFzZXR0aW5ncyAmJiBvbGRTZXR0aW5ncykgc2V0dGluZ3MgPSBvbGRTZXR0aW5ncztcbiAgICBzZXR0aW5ncyA9IF8uZGVmYXVsdHMoe30sIHNldHRpbmdzLCBfLnRlbXBsYXRlU2V0dGluZ3MpO1xuXG4gICAgLy8gQ29tYmluZSBkZWxpbWl0ZXJzIGludG8gb25lIHJlZ3VsYXIgZXhwcmVzc2lvbiB2aWEgYWx0ZXJuYXRpb24uXG4gICAgdmFyIG1hdGNoZXIgPSBSZWdFeHAoW1xuICAgICAgKHNldHRpbmdzLmVzY2FwZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuaW50ZXJwb2xhdGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmV2YWx1YXRlIHx8IG5vTWF0Y2gpLnNvdXJjZVxuICAgIF0uam9pbignfCcpICsgJ3wkJywgJ2cnKTtcblxuICAgIC8vIENvbXBpbGUgdGhlIHRlbXBsYXRlIHNvdXJjZSwgZXNjYXBpbmcgc3RyaW5nIGxpdGVyYWxzIGFwcHJvcHJpYXRlbHkuXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgc291cmNlID0gXCJfX3ArPSdcIjtcbiAgICB0ZXh0LnJlcGxhY2UobWF0Y2hlciwgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZSwgaW50ZXJwb2xhdGUsIGV2YWx1YXRlLCBvZmZzZXQpIHtcbiAgICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UoZXNjYXBlciwgZXNjYXBlQ2hhcik7XG4gICAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgICAgaWYgKGVzY2FwZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInK1xcbigoX190PShcIiArIGVzY2FwZSArIFwiKSk9PW51bGw/Jyc6Xy5lc2NhcGUoX190KSkrXFxuJ1wiO1xuICAgICAgfSBlbHNlIGlmIChpbnRlcnBvbGF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInK1xcbigoX190PShcIiArIGludGVycG9sYXRlICsgXCIpKT09bnVsbD8nJzpfX3QpK1xcbidcIjtcbiAgICAgIH0gZWxzZSBpZiAoZXZhbHVhdGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlICsgXCJcXG5fX3ArPSdcIjtcbiAgICAgIH1cblxuICAgICAgLy8gQWRvYmUgVk1zIG5lZWQgdGhlIG1hdGNoIHJldHVybmVkIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3Qgb2ZmZXN0LlxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuICAgIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cbiAgICAvLyBJZiBhIHZhcmlhYmxlIGlzIG5vdCBzcGVjaWZpZWQsIHBsYWNlIGRhdGEgdmFsdWVzIGluIGxvY2FsIHNjb3BlLlxuICAgIGlmICghc2V0dGluZ3MudmFyaWFibGUpIHNvdXJjZSA9ICd3aXRoKG9ianx8e30pe1xcbicgKyBzb3VyY2UgKyAnfVxcbic7XG5cbiAgICBzb3VyY2UgPSBcInZhciBfX3QsX19wPScnLF9faj1BcnJheS5wcm90b3R5cGUuam9pbixcIiArXG4gICAgICBcInByaW50PWZ1bmN0aW9uKCl7X19wKz1fX2ouY2FsbChhcmd1bWVudHMsJycpO307XFxuXCIgK1xuICAgICAgc291cmNlICsgJ3JldHVybiBfX3A7XFxuJztcblxuICAgIHRyeSB7XG4gICAgICB2YXIgcmVuZGVyID0gbmV3IEZ1bmN0aW9uKHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonLCAnXycsIHNvdXJjZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIHZhciB0ZW1wbGF0ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHJldHVybiByZW5kZXIuY2FsbCh0aGlzLCBkYXRhLCBfKTtcbiAgICB9O1xuXG4gICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgc291cmNlIGFzIGEgY29udmVuaWVuY2UgZm9yIHByZWNvbXBpbGF0aW9uLlxuICAgIHZhciBhcmd1bWVudCA9IHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonO1xuICAgIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgYXJndW1lbnQgKyAnKXtcXG4nICsgc291cmNlICsgJ30nO1xuXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9O1xuXG4gIC8vIEFkZCBhIFwiY2hhaW5cIiBmdW5jdGlvbi4gU3RhcnQgY2hhaW5pbmcgYSB3cmFwcGVkIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLmNoYWluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGluc3RhbmNlID0gXyhvYmopO1xuICAgIGluc3RhbmNlLl9jaGFpbiA9IHRydWU7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIC8vIE9PUFxuICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgLy8gSWYgVW5kZXJzY29yZSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXRcbiAgLy8gY2FuIGJlIHVzZWQgT08tc3R5bGUuIFRoaXMgd3JhcHBlciBob2xkcyBhbHRlcmVkIHZlcnNpb25zIG9mIGFsbCB0aGVcbiAgLy8gdW5kZXJzY29yZSBmdW5jdGlvbnMuIFdyYXBwZWQgb2JqZWN0cyBtYXkgYmUgY2hhaW5lZC5cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gIHZhciByZXN1bHQgPSBmdW5jdGlvbihpbnN0YW5jZSwgb2JqKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLl9jaGFpbiA/IF8ob2JqKS5jaGFpbigpIDogb2JqO1xuICB9O1xuXG4gIC8vIEFkZCB5b3VyIG93biBjdXN0b20gZnVuY3Rpb25zIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5taXhpbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIF8uZWFjaChfLmZ1bmN0aW9ucyhvYmopLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IF9bbmFtZV0gPSBvYmpbbmFtZV07XG4gICAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IFt0aGlzLl93cmFwcGVkXTtcbiAgICAgICAgcHVzaC5hcHBseShhcmdzLCBhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0KHRoaXMsIGZ1bmMuYXBwbHkoXywgYXJncykpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBBZGQgYWxsIG9mIHRoZSBVbmRlcnNjb3JlIGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlciBvYmplY3QuXG4gIF8ubWl4aW4oXyk7XG5cbiAgLy8gQWRkIGFsbCBtdXRhdG9yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgXy5lYWNoKFsncG9wJywgJ3B1c2gnLCAncmV2ZXJzZScsICdzaGlmdCcsICdzb3J0JywgJ3NwbGljZScsICd1bnNoaWZ0J10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTtcbiAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9iaiA9IHRoaXMuX3dyYXBwZWQ7XG4gICAgICBtZXRob2QuYXBwbHkob2JqLCBhcmd1bWVudHMpO1xuICAgICAgaWYgKChuYW1lID09PSAnc2hpZnQnIHx8IG5hbWUgPT09ICdzcGxpY2UnKSAmJiBvYmoubGVuZ3RoID09PSAwKSBkZWxldGUgb2JqWzBdO1xuICAgICAgcmV0dXJuIHJlc3VsdCh0aGlzLCBvYmopO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEFkZCBhbGwgYWNjZXNzb3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBfLmVhY2goWydjb25jYXQnLCAnam9pbicsICdzbGljZSddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByZXN1bHQodGhpcywgbWV0aG9kLmFwcGx5KHRoaXMuX3dyYXBwZWQsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEV4dHJhY3RzIHRoZSByZXN1bHQgZnJvbSBhIHdyYXBwZWQgYW5kIGNoYWluZWQgb2JqZWN0LlxuICBfLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl93cmFwcGVkO1xuICB9O1xuXG4gIC8vIFByb3ZpZGUgdW53cmFwcGluZyBwcm94eSBmb3Igc29tZSBtZXRob2RzIHVzZWQgaW4gZW5naW5lIG9wZXJhdGlvbnNcbiAgLy8gc3VjaCBhcyBhcml0aG1ldGljIGFuZCBKU09OIHN0cmluZ2lmaWNhdGlvbi5cbiAgXy5wcm90b3R5cGUudmFsdWVPZiA9IF8ucHJvdG90eXBlLnRvSlNPTiA9IF8ucHJvdG90eXBlLnZhbHVlO1xuXG4gIF8ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICcnICsgdGhpcy5fd3JhcHBlZDtcbiAgfTtcblxuICAvLyBBTUQgcmVnaXN0cmF0aW9uIGhhcHBlbnMgYXQgdGhlIGVuZCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIEFNRCBsb2FkZXJzXG4gIC8vIHRoYXQgbWF5IG5vdCBlbmZvcmNlIG5leHQtdHVybiBzZW1hbnRpY3Mgb24gbW9kdWxlcy4gRXZlbiB0aG91Z2ggZ2VuZXJhbFxuICAvLyBwcmFjdGljZSBmb3IgQU1EIHJlZ2lzdHJhdGlvbiBpcyB0byBiZSBhbm9ueW1vdXMsIHVuZGVyc2NvcmUgcmVnaXN0ZXJzXG4gIC8vIGFzIGEgbmFtZWQgbW9kdWxlIGJlY2F1c2UsIGxpa2UgalF1ZXJ5LCBpdCBpcyBhIGJhc2UgbGlicmFyeSB0aGF0IGlzXG4gIC8vIHBvcHVsYXIgZW5vdWdoIHRvIGJlIGJ1bmRsZWQgaW4gYSB0aGlyZCBwYXJ0eSBsaWIsIGJ1dCBub3QgYmUgcGFydCBvZlxuICAvLyBhbiBBTUQgbG9hZCByZXF1ZXN0LiBUaG9zZSBjYXNlcyBjb3VsZCBnZW5lcmF0ZSBhbiBlcnJvciB3aGVuIGFuXG4gIC8vIGFub255bW91cyBkZWZpbmUoKSBpcyBjYWxsZWQgb3V0c2lkZSBvZiBhIGxvYWRlciByZXF1ZXN0LlxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKCd1bmRlcnNjb3JlJywgW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF87XG4gICAgfSk7XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdW5kZXJzY29yZS91bmRlcnNjb3JlLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 4 */
/* unknown exports provided */
/* all exports used */
/*!*************************************!*\
  !*** ./~/axios/lib/adapters/xhr.js ***!
  \*************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(process) {\n\nvar utils = __webpack_require__(/*! ./../utils */ 0);\nvar settle = __webpack_require__(/*! ./../core/settle */ 21);\nvar buildURL = __webpack_require__(/*! ./../helpers/buildURL */ 24);\nvar parseHeaders = __webpack_require__(/*! ./../helpers/parseHeaders */ 30);\nvar isURLSameOrigin = __webpack_require__(/*! ./../helpers/isURLSameOrigin */ 28);\nvar createError = __webpack_require__(/*! ../core/createError */ 7);\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || __webpack_require__(/*! ./../helpers/btoa */ 23);\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/mzabriskie/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED'));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = __webpack_require__(/*! ./../helpers/cookies */ 26);\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        if (request.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../../../process/browser.js */ 9)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcz83M2E1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4vLi4vY29yZS9zZXR0bGUnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG52YXIgYnRvYSA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYnRvYSAmJiB3aW5kb3cuYnRvYS5iaW5kKHdpbmRvdykpIHx8IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idG9hJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgdmFyIGxvYWRFdmVudCA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnO1xuICAgIHZhciB4RG9tYWluID0gZmFsc2U7XG5cbiAgICAvLyBGb3IgSUUgOC85IENPUlMgc3VwcG9ydFxuICAgIC8vIE9ubHkgc3VwcG9ydHMgUE9TVCBhbmQgR0VUIGNhbGxzIGFuZCBkb2Vzbid0IHJldHVybnMgdGhlIHJlc3BvbnNlIGhlYWRlcnMuXG4gICAgLy8gRE9OJ1QgZG8gdGhpcyBmb3IgdGVzdGluZyBiL2MgWE1MSHR0cFJlcXVlc3QgaXMgbW9ja2VkLCBub3QgWERvbWFpblJlcXVlc3QuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcgJiZcbiAgICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgd2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gcmVxdWVzdCkgJiZcbiAgICAgICAgIWlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSkge1xuICAgICAgcmVxdWVzdCA9IG5ldyB3aW5kb3cuWERvbWFpblJlcXVlc3QoKTtcbiAgICAgIGxvYWRFdmVudCA9ICdvbmxvYWQnO1xuICAgICAgeERvbWFpbiA9IHRydWU7XG4gICAgICByZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiBoYW5kbGVQcm9ncmVzcygpIHt9O1xuICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge307XG4gICAgfVxuXG4gICAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICAgIGlmIChjb25maWcuYXV0aCkge1xuICAgICAgdmFyIHVzZXJuYW1lID0gY29uZmlnLmF1dGgudXNlcm5hbWUgfHwgJyc7XG4gICAgICB2YXIgcGFzc3dvcmQgPSBjb25maWcuYXV0aC5wYXNzd29yZCB8fCAnJztcbiAgICAgIHJlcXVlc3RIZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCk7XG4gICAgfVxuXG4gICAgcmVxdWVzdC5vcGVuKGNvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG4gICAgcmVxdWVzdFtsb2FkRXZlbnRdID0gZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCB8fCAocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0ICYmICF4RG9tYWluKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG4gICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFjb25maWcucmVzcG9uc2VUeXBlIHx8IGNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICAvLyBJRSBzZW5kcyAxMjIzIGluc3RlYWQgb2YgMjA0IChodHRwczovL2dpdGh1Yi5jb20vbXphYnJpc2tpZS9heGlvcy9pc3N1ZXMvMjAxKVxuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzID09PSAxMjIzID8gMjA0IDogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzID09PSAxMjIzID8gJ05vIENvbnRlbnQnIDogcmVxdWVzdC5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICByZXF1ZXN0OiByZXF1ZXN0XG4gICAgICB9O1xuXG4gICAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdOZXR3b3JrIEVycm9yJywgY29uZmlnKSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcigndGltZW91dCBvZiAnICsgY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnLCBjb25maWcsICdFQ09OTkFCT1JURUQnKSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAvLyBUaGlzIGlzIG9ubHkgZG9uZSBpZiBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAgICAvLyBTcGVjaWZpY2FsbHkgbm90IGlmIHdlJ3JlIGluIGEgd2ViIHdvcmtlciwgb3IgcmVhY3QtbmF0aXZlLlxuICAgIGlmICh1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpKSB7XG4gICAgICB2YXIgY29va2llcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb29raWVzJyk7XG5cbiAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgICAgdmFyIHhzcmZWYWx1ZSA9IChjb25maWcud2l0aENyZWRlbnRpYWxzIHx8IGlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cbiAgICAgICAgICBjb29raWVzLnJlYWQoY29uZmlnLnhzcmZDb29raWVOYW1lKSA6XG4gICAgICAgICAgdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgIHJlcXVlc3RIZWFkZXJzW2NvbmZpZy54c3JmSGVhZGVyTmFtZV0gPSB4c3JmVmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIGhlYWRlcnMgdG8gdGhlIHJlcXVlc3RcbiAgICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcbiAgICAgIHV0aWxzLmZvckVhY2gocmVxdWVzdEhlYWRlcnMsIGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIodmFsLCBrZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0RGF0YSA9PT0gJ3VuZGVmaW5lZCcgJiYga2V5LnRvTG93ZXJDYXNlKCkgPT09ICdjb250ZW50LXR5cGUnKSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgICAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1trZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE90aGVyd2lzZSBhZGQgaGVhZGVyIHRvIHRoZSByZXF1ZXN0XG4gICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHdpdGhDcmVkZW50aWFscyB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChjb25maWcud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChyZXF1ZXN0LnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZWplY3QoY2FuY2VsKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 5 */
/* unknown exports provided */
/* all exports used */
/*!**************************************!*\
  !*** ./~/axios/lib/cancel/Cancel.js ***!
  \**************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NhbmNlbC9DYW5jZWwuanM/NzE5MyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQSBgQ2FuY2VsYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbChtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbkNhbmNlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdDYW5jZWwnICsgKHRoaXMubWVzc2FnZSA/ICc6ICcgKyB0aGlzLm1lc3NhZ2UgOiAnJyk7XG59O1xuXG5DYW5jZWwucHJvdG90eXBlLl9fQ0FOQ0VMX18gPSB0cnVlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvY2FuY2VsL0NhbmNlbC5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 6 */
/* unknown exports provided */
/* all exports used */
/*!****************************************!*\
  !*** ./~/axios/lib/cancel/isCancel.js ***!
  \****************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcz9iMjdlIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 7 */
/* unknown exports provided */
/* all exports used */
/*!*****************************************!*\
  !*** ./~/axios/lib/core/createError.js ***!
  \*****************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar enhanceError = __webpack_require__(/*! ./enhanceError */ 20);\n\n/**\n * Create an Error with the specified message, config, error code, and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n @ @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, response);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vYXhpb3MvbGliL2NvcmUvY3JlYXRlRXJyb3IuanM/MjRmYSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBlbmhhbmNlRXJyb3IgPSByZXF1aXJlKCcuL2VuaGFuY2VFcnJvcicpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuIEAgQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVFcnJvcihtZXNzYWdlLCBjb25maWcsIGNvZGUsIHJlc3BvbnNlKSB7XG4gIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXNwb25zZSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jb3JlL2NyZWF0ZUVycm9yLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 8 */
/* unknown exports provided */
/* all exports used */
/*!*************************************!*\
  !*** ./~/axios/lib/helpers/bind.js ***!
  \*************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcz81OTgzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 9 */
/* unknown exports provided */
/* all exports used */
/*!******************************!*\
  !*** ./~/process/browser.js ***!
  \******************************/
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vcHJvY2Vzcy9icm93c2VyLmpzP2I3NzciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9wcm9jZXNzL2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 10 */
/* unknown exports provided */
/* all exports used */
/*!********************************************!*\
  !*** ./src/components/SearchContainer.tsx ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = __webpack_require__(/*! underscore */ 3);\r\nvar React = __webpack_require__(/*! react */ 1);\r\nvar SearchBox_1 = __webpack_require__(/*! ./SearchBox */ 12);\r\nvar SearchResults_1 = __webpack_require__(/*! ./SearchResults */ 13);\r\nvar SearchContainer = (function (_super) {\r\n    __extends(SearchContainer, _super);\r\n    function SearchContainer(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.initializeSearchResults = function (pnChannel) {\r\n            _this.setState(_.extend(_this.state, { pnChannel: pnChannel }));\r\n        };\r\n        _this.state = {\r\n            pnChannel: '',\r\n        };\r\n        return _this;\r\n    }\r\n    SearchContainer.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: \"container\" },\r\n            React.createElement(SearchBox_1.SearchBox, { onSearchSubmit: this.initializeSearchResults }),\r\n            React.createElement(SearchResults_1.SearchResults, { pnChannel: this.state.pnChannel })));\r\n    };\r\n    return SearchContainer;\r\n}(React.Component));\r\nexports.SearchContainer = SearchContainer;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvU2VhcmNoQ29udGFpbmVyLnRzeD81YTgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgYXhpb3MsIHtcbiAgICBBeGlvc0Vycm9yLFxuICAgIEF4aW9zUmVxdWVzdENvbmZpZyxcbiAgICBBeGlvc1Byb21pc2UsIEF4aW9zUmVzcG9uc2Vcbn0gZnJvbSAnYXhpb3MnO1xuXG5pbXBvcnQgeyBTZWFyY2hCb3ggfSBmcm9tIFwiLi9TZWFyY2hCb3hcIjtcbmltcG9ydCB7IFNlYXJjaFJlc3VsdHMgfSBmcm9tIFwiLi9TZWFyY2hSZXN1bHRzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VhcmNoQ29udGFpbmVyUHJvcHMge31cblxuZXhwb3J0IGludGVyZmFjZSBTZWFyY2hDb250YWluZXJTdGF0ZSB7XG4gICAgcG5DaGFubmVsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBTZWFyY2hDb250YWluZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8U2VhcmNoQ29udGFpbmVyUHJvcHMsIFNlYXJjaENvbnRhaW5lclN0YXRlPiB7XG4gICAgY29uc3RydWN0b3IocHJvcHM6IFNlYXJjaENvbnRhaW5lclByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgcG5DaGFubmVsOiAnJyxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXRpYWxpemVTZWFyY2hSZXN1bHRzID0gKHBuQ2hhbm5lbDogc3RyaW5nKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXy5leHRlbmQodGhpcy5zdGF0ZSwgeyBwbkNoYW5uZWw6IHBuQ2hhbm5lbCB9KSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8U2VhcmNoQm94XG4gICAgICAgICAgICAgICAgICAgIG9uU2VhcmNoU3VibWl0PXt0aGlzLmluaXRpYWxpemVTZWFyY2hSZXN1bHRzfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPFNlYXJjaFJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgcG5DaGFubmVsPXt0aGlzLnN0YXRlLnBuQ2hhbm5lbH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9jb21wb25lbnRzL1NlYXJjaENvbnRhaW5lci50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFPQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFQQTtBQUNBO0FBQ0E7O0FBQ0E7QUFNQTtBQUNBO0FBRUE7QUFHQTtBQUtBO0FBQ0E7QUFBQTtBQXpCQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 11 */
/* unknown exports provided */
/* all exports used */
/*!***************************!*\
  !*** external "ReactDOM" ***!
  \***************************/
/***/ (function(module, exports) {

eval("module.exports = ReactDOM;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJSZWFjdERPTVwiPzRhYjQiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIlJlYWN0RE9NXCJcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 12 */
/* unknown exports provided */
/* all exports used */
/*!**************************************!*\
  !*** ./src/components/SearchBox.tsx ***!
  \**************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(/*! react */ 1);\r\nvar _ = __webpack_require__(/*! underscore */ 3);\r\nvar axios_1 = __webpack_require__(/*! axios */ 14);\r\nvar SearchBox = (function (_super) {\r\n    __extends(SearchBox, _super);\r\n    function SearchBox(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.handleOriginChange = function (event) {\r\n            _this.setState(_.extend(_this.state, { originPlace: event.target.value }));\r\n        };\r\n        _this.handleDestinationChange = function (event) {\r\n            _this.setState(_.extend(_this.state, { destinationPlace: event.target.value }));\r\n        };\r\n        _this.handleOutboundDateChange = function (event) {\r\n            _this.setState(_.extend(_this.state, { outboundPartialDate: event.target.value }));\r\n        };\r\n        _this.handleInboundDateChange = function (event) {\r\n            _this.setState(_.extend(_this.state, { inboundPartialDate: event.target.value }));\r\n        };\r\n        _this.onSearchClick = function (event) {\r\n            // TODO(dfish): Do basic error-checking before submitting.\r\n            axios_1.default.get('/create_session', {\r\n                params: {\r\n                    originPlace: _this.state.originPlace,\r\n                    destinationPlace: _this.state.destinationPlace,\r\n                    outboundPartialDate: _this.state.outboundPartialDate,\r\n                    inboundPartialDate: _this.state.inboundPartialDate,\r\n                }\r\n            }).then(function (response) {\r\n                console.log(response.data);\r\n                if (response.data.status === 'OK') {\r\n                    _this.props.onSearchSubmit(response.data.pnChannel);\r\n                }\r\n                else {\r\n                    console.log(\"Failed to create session\");\r\n                }\r\n            }).catch(function (error) {\r\n                console.log(error);\r\n            });\r\n        };\r\n        _this.state = {\r\n            originPlace: '',\r\n            destinationPlace: '',\r\n            outboundPartialDate: '',\r\n            inboundPartialDate: '',\r\n        };\r\n        return _this;\r\n    }\r\n    SearchBox.prototype.render = function () {\r\n        console.log(this.state);\r\n        return (React.createElement(\"div\", null,\r\n            \"From:\",\r\n            React.createElement(\"input\", { type: 'text', value: this.state.originPlace, onChange: this.handleOriginChange }),\r\n            \"To:\",\r\n            React.createElement(\"input\", { type: 'text', value: this.state.destinationPlace, onChange: this.handleDestinationChange }),\r\n            \"Depart:\",\r\n            React.createElement(\"input\", { type: 'text', value: this.state.outboundPartialDate, onChange: this.handleOutboundDateChange }),\r\n            \"Return:\",\r\n            React.createElement(\"input\", { type: 'text', value: this.state.inboundPartialDate, onChange: this.handleInboundDateChange }),\r\n            React.createElement(\"button\", { type: 'button', onClick: this.onSearchClick }, \"Search\")));\r\n    };\r\n    return SearchBox;\r\n}(React.Component));\r\nexports.SearchBox = SearchBox;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvU2VhcmNoQm94LnRzeD8yYWU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgYXhpb3MsIHtcbiAgICBBeGlvc0Vycm9yLFxuICAgIEF4aW9zUmVxdWVzdENvbmZpZyxcbiAgICBBeGlvc1Byb21pc2UsIEF4aW9zUmVzcG9uc2Vcbn0gZnJvbSAnYXhpb3MnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlYXJjaEJveFByb3BzIHtcbiAgICBvblNlYXJjaFN1Ym1pdDogKHBuQ2hhbm5lbDogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlYXJjaEJveFN0YXRlIHtcbiAgICBvcmlnaW5QbGFjZTogc3RyaW5nO1xuICAgIGRlc3RpbmF0aW9uUGxhY2U6IHN0cmluZztcbiAgICBvdXRib3VuZFBhcnRpYWxEYXRlOiBzdHJpbmc7XG4gICAgaW5ib3VuZFBhcnRpYWxEYXRlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBTZWFyY2hCb3ggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8U2VhcmNoQm94UHJvcHMsIFNlYXJjaEJveFN0YXRlPiB7XG4gICAgY29uc3RydWN0b3IocHJvcHM6IFNlYXJjaEJveFByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIG9yaWdpblBsYWNlOiAnJyxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uUGxhY2U6ICcnLFxuICAgICAgICAgICAgb3V0Ym91bmRQYXJ0aWFsRGF0ZTogJycsXG4gICAgICAgICAgICBpbmJvdW5kUGFydGlhbERhdGU6ICcnLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgRnJvbTpcbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUub3JpZ2luUGxhY2V9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZU9yaWdpbkNoYW5nZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIFRvOlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5kZXN0aW5hdGlvblBsYWNlfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVEZXN0aW5hdGlvbkNoYW5nZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIERlcGFydDpcbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUub3V0Ym91bmRQYXJ0aWFsRGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlT3V0Ym91bmREYXRlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgUmV0dXJuOlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pbmJvdW5kUGFydGlhbERhdGV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUluYm91bmREYXRlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSdidXR0b24nIG9uQ2xpY2s9e3RoaXMub25TZWFyY2hDbGlja30+XG4gICAgICAgICAgICAgICAgICAgIFNlYXJjaFxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9XG5cbiAgICBoYW5kbGVPcmlnaW5DaGFuZ2UgPSAoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXy5leHRlbmQodGhpcy5zdGF0ZSwge29yaWdpblBsYWNlOiBldmVudC50YXJnZXQudmFsdWV9KSk7XG4gICAgfVxuXG4gICAgaGFuZGxlRGVzdGluYXRpb25DaGFuZ2UgPSAoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXy5leHRlbmQodGhpcy5zdGF0ZSwge2Rlc3RpbmF0aW9uUGxhY2U6IGV2ZW50LnRhcmdldC52YWx1ZX0pKTtcbiAgICB9XG5cbiAgICBoYW5kbGVPdXRib3VuZERhdGVDaGFuZ2UgPSAoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXy5leHRlbmQodGhpcy5zdGF0ZSwge291dGJvdW5kUGFydGlhbERhdGU6IGV2ZW50LnRhcmdldC52YWx1ZX0pKTtcbiAgICB9XG5cbiAgICBoYW5kbGVJbmJvdW5kRGF0ZUNoYW5nZSA9IChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShfLmV4dGVuZCh0aGlzLnN0YXRlLCB7aW5ib3VuZFBhcnRpYWxEYXRlOiBldmVudC50YXJnZXQudmFsdWV9KSk7XG4gICAgfVxuXG4gICAgb25TZWFyY2hDbGljayA9IChldmVudDogUmVhY3QuU3ludGhldGljRXZlbnQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KSA9PiB7XG4gICAgICAgIC8vIFRPRE8oZGZpc2gpOiBEbyBiYXNpYyBlcnJvci1jaGVja2luZyBiZWZvcmUgc3VibWl0dGluZy5cblxuICAgICAgICBheGlvcy5nZXQoJy9jcmVhdGVfc2Vzc2lvbicsIHtcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIG9yaWdpblBsYWNlOiB0aGlzLnN0YXRlLm9yaWdpblBsYWNlLFxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uUGxhY2U6IHRoaXMuc3RhdGUuZGVzdGluYXRpb25QbGFjZSxcbiAgICAgICAgICAgICAgICBvdXRib3VuZFBhcnRpYWxEYXRlOiB0aGlzLnN0YXRlLm91dGJvdW5kUGFydGlhbERhdGUsXG4gICAgICAgICAgICAgICAgaW5ib3VuZFBhcnRpYWxEYXRlOiB0aGlzLnN0YXRlLmluYm91bmRQYXJ0aWFsRGF0ZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbigocmVzcG9uc2U6IEF4aW9zUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT09ICdPSycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblNlYXJjaFN1Ym1pdChyZXNwb25zZS5kYXRhLnBuQ2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gY3JlYXRlIHNlc3Npb25cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApLmNhdGNoKChlcnJvcjogQXhpb3NFcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvY29tcG9uZW50cy9TZWFyY2hCb3gudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFpQkE7QUFBQTtBQUNBO0FBQUE7QUE2Q0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBbEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFHQTs7QUFNQTs7QUFNQTs7QUFNQTtBQUtBO0FBS0E7QUEwQ0E7QUFBQTtBQXRGQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 13 */
/* unknown exports provided */
/* all exports used */
/*!******************************************!*\
  !*** ./src/components/SearchResults.tsx ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = __webpack_require__(/*! underscore */ 3);\r\nvar PubNub = __webpack_require__(/*! ./../../~/pubnub/dist/web/pubnub */ 32);\r\nvar React = __webpack_require__(/*! react */ 1);\r\nvar SearchResults = (function (_super) {\r\n    __extends(SearchResults, _super);\r\n    function SearchResults(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        var pubnub = new PubNub({\r\n            subscribeKey: 'sub-c-d4324024-0f6a-11e7-8d31-0619f8945a4f'\r\n        });\r\n        _this.state = {\r\n            pubnub: pubnub,\r\n            itineraries: [],\r\n        };\r\n        return _this;\r\n    }\r\n    SearchResults.prototype.componentDidMount = function () {\r\n        var _this = this;\r\n        if (this.props.pnChannel === '') {\r\n            return;\r\n        }\r\n        this.state.pubnub.addListener({\r\n            message: function (message) {\r\n                console.log(\"New Message!!\", message);\r\n                _this.setState(_.extend(_this.state, { itineraries: message }));\r\n            },\r\n        });\r\n        console.log(\"subscribing to \", this.props.pnChannel);\r\n        this.state.pubnub.unsubscribeAll();\r\n        this.state.pubnub.subscribe({\r\n            channels: [this.props.pnChannel],\r\n        });\r\n    };\r\n    SearchResults.prototype.render = function () {\r\n        // TODO(dfish): Hide this if itineraries is empty.\r\n        return (React.createElement(\"div\", null, this.state.itineraries));\r\n    };\r\n    return SearchResults;\r\n}(React.Component));\r\nexports.SearchResults = SearchResults;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvU2VhcmNoUmVzdWx0cy50c3g/NGM4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBfIGZyb20gJ3VuZGVyc2NvcmUnO1xuaW1wb3J0ICogYXMgUHViTnViIGZyb20gJy4vLi4vLi4vbm9kZV9tb2R1bGVzL3B1Ym51Yi9kaXN0L3dlYi9wdWJudWInO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlYXJjaFJlc3VsdHNQcm9wcyB7XG4gICAgcG5DaGFubmVsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VhcmNoUmVzdWx0c1N0YXRlIHtcbiAgICBwdWJudWI6IGFueTtcbiAgICBpdGluZXJhcmllczogYW55OyAvLyBUT0RPKGRmaXNoKTogQ3JlYXRlIGludGVyZmFjZSBhbmQgcHV0IGl0IGluIGEgY29uc3RhbnRzIGZpbGUuXG59XG5cbmV4cG9ydCBjbGFzcyBTZWFyY2hSZXN1bHRzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFNlYXJjaFJlc3VsdHNQcm9wcywgU2VhcmNoUmVzdWx0c1N0YXRlPiB7XG4gICAgY29uc3RydWN0b3IocHJvcHM6IFNlYXJjaFJlc3VsdHNQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgY29uc3QgcHVibnViID0gbmV3IFB1Yk51Yih7XG4gICAgICAgICAgICBzdWJzY3JpYmVLZXk6ICdzdWItYy1kNDMyNDAyNC0wZjZhLTExZTctOGQzMS0wNjE5Zjg5NDVhNGYnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBwdWJudWI6IHB1Ym51YixcbiAgICAgICAgICAgIGl0aW5lcmFyaWVzOiBbXSxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5wbkNoYW5uZWwgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlLnB1Ym51Yi5hZGRMaXN0ZW5lcih7XG4gICAgICAgICAgICBtZXNzYWdlOiAobWVzc2FnZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJOZXcgTWVzc2FnZSEhXCIsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoXy5leHRlbmQodGhpcy5zdGF0ZSwge2l0aW5lcmFyaWVzOiBtZXNzYWdlfSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJzdWJzY3JpYmluZyB0byBcIiwgdGhpcy5wcm9wcy5wbkNoYW5uZWwpO1xuICAgICAgICB0aGlzLnN0YXRlLnB1Ym51Yi51bnN1YnNjcmliZUFsbCgpO1xuICAgICAgICB0aGlzLnN0YXRlLnB1Ym51Yi5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgY2hhbm5lbHM6IFt0aGlzLnByb3BzLnBuQ2hhbm5lbF0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgLy8gVE9ETyhkZmlzaCk6IEhpZGUgdGhpcyBpZiBpdGluZXJhcmllcyBpcyBlbXB0eS5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaXRpbmVyYXJpZXN9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9jb21wb25lbnRzL1NlYXJjaFJlc3VsdHMudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFXQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFBQTtBQXpDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 14 */
/* unknown exports provided */
/* all exports used */
/*!**************************!*\
  !*** ./~/axios/index.js ***!
  \**************************/
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! ./lib/axios */ 15);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2luZGV4LmpzP2Y4YjkiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9heGlvcycpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 15 */
/* unknown exports provided */
/* all exports used */
/*!******************************!*\
  !*** ./~/axios/lib/axios.js ***!
  \******************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./utils */ 0);\nvar bind = __webpack_require__(/*! ./helpers/bind */ 8);\nvar Axios = __webpack_require__(/*! ./core/Axios */ 17);\nvar defaults = __webpack_require__(/*! ./defaults */ 2);\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = __webpack_require__(/*! ./cancel/Cancel */ 5);\naxios.CancelToken = __webpack_require__(/*! ./cancel/CancelToken */ 16);\naxios.isCancel = __webpack_require__(/*! ./cancel/isCancel */ 6);\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = __webpack_require__(/*! ./helpers/spread */ 31);\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9heGlvcy5qcz85ZjA3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIHZhciBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICB2YXIgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbnZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG5heGlvcy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKHV0aWxzLm1lcmdlKGRlZmF1bHRzLCBpbnN0YW5jZUNvbmZpZykpO1xufTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBheGlvcztcblxuLy8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gYXhpb3M7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2F4aW9zLmpzXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 16 */
/* unknown exports provided */
/* all exports used */
/*!*******************************************!*\
  !*** ./~/axios/lib/cancel/CancelToken.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar Cancel = __webpack_require__(/*! ./Cancel */ 5);\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanM/MjU0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBDYW5jZWwgPSByZXF1aXJlKCcuL0NhbmNlbCcpO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIENhbmNlbFRva2VuKGV4ZWN1dG9yKSB7XG4gIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgcmVzb2x2ZVByb21pc2U7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICB2YXIgdG9rZW4gPSB0aGlzO1xuICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSkge1xuICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWwobWVzc2FnZSk7XG4gICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuQ2FuY2VsVG9rZW4ucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQgPSBmdW5jdGlvbiB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICovXG5DYW5jZWxUb2tlbi5zb3VyY2UgPSBmdW5jdGlvbiBzb3VyY2UoKSB7XG4gIHZhciBjYW5jZWw7XG4gIHZhciB0b2tlbiA9IG5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbiBleGVjdXRvcihjKSB7XG4gICAgY2FuY2VsID0gYztcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgdG9rZW46IHRva2VuLFxuICAgIGNhbmNlbDogY2FuY2VsXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbFRva2VuO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanNcbi8vIG1vZHVsZSBpZCA9IDE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 17 */
/* unknown exports provided */
/* all exports used */
/*!***********************************!*\
  !*** ./~/axios/lib/core/Axios.js ***!
  \***********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar defaults = __webpack_require__(/*! ./../defaults */ 2);\nvar utils = __webpack_require__(/*! ./../utils */ 0);\nvar InterceptorManager = __webpack_require__(/*! ./InterceptorManager */ 18);\nvar dispatchRequest = __webpack_require__(/*! ./dispatchRequest */ 19);\nvar isAbsoluteURL = __webpack_require__(/*! ./../helpers/isAbsoluteURL */ 27);\nvar combineURLs = __webpack_require__(/*! ./../helpers/combineURLs */ 25);\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzP2YyYWUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLy4uL2RlZmF1bHRzJyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgSW50ZXJjZXB0b3JNYW5hZ2VyID0gcmVxdWlyZSgnLi9JbnRlcmNlcHRvck1hbmFnZXInKTtcbnZhciBkaXNwYXRjaFJlcXVlc3QgPSByZXF1aXJlKCcuL2Rpc3BhdGNoUmVxdWVzdCcpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIEF4aW9zKGluc3RhbmNlQ29uZmlnKSB7XG4gIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAqL1xuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSB1dGlscy5tZXJnZSh7XG4gICAgICB1cmw6IGFyZ3VtZW50c1swXVxuICAgIH0sIGFyZ3VtZW50c1sxXSk7XG4gIH1cblxuICBjb25maWcgPSB1dGlscy5tZXJnZShkZWZhdWx0cywgdGhpcy5kZWZhdWx0cywgeyBtZXRob2Q6ICdnZXQnIH0sIGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmxcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF4aW9zO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzXG4vLyBtb2R1bGUgaWQgPSAxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 18 */
/* unknown exports provided */
/* all exports used */
/*!************************************************!*\
  !*** ./~/axios/lib/core/InterceptorManager.js ***!
  \************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ 0);\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcz9iZWRiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBJbnRlcmNlcHRvck1hbmFnZXIoKSB7XG4gIHRoaXMuaGFuZGxlcnMgPSBbXTtcbn1cblxuLyoqXG4gKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVsZmlsbGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHRoZW5gIGZvciBhIGBQcm9taXNlYFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IEFuIElEIHVzZWQgdG8gcmVtb3ZlIGludGVyY2VwdG9yIGxhdGVyXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcbiAgdGhpcy5oYW5kbGVycy5wdXNoKHtcbiAgICBmdWxmaWxsZWQ6IGZ1bGZpbGxlZCxcbiAgICByZWplY3RlZDogcmVqZWN0ZWRcbiAgfSk7XG4gIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCAtIDE7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbiBpbnRlcmNlcHRvciBmcm9tIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBpZCBUaGUgSUQgdGhhdCB3YXMgcmV0dXJuZWQgYnkgYHVzZWBcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5lamVjdCA9IGZ1bmN0aW9uIGVqZWN0KGlkKSB7XG4gIGlmICh0aGlzLmhhbmRsZXJzW2lkXSkge1xuICAgIHRoaXMuaGFuZGxlcnNbaWRdID0gbnVsbDtcbiAgfVxufTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICpcbiAqIFRoaXMgbWV0aG9kIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHNraXBwaW5nIG92ZXIgYW55XG4gKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBpbnRlcmNlcHRvclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoKGZuKSB7XG4gIHV0aWxzLmZvckVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24gZm9yRWFjaEhhbmRsZXIoaCkge1xuICAgIGlmIChoICE9PSBudWxsKSB7XG4gICAgICBmbihoKTtcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbnRlcmNlcHRvck1hbmFnZXI7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 19 */
/* unknown exports provided */
/* all exports used */
/*!*********************************************!*\
  !*** ./~/axios/lib/core/dispatchRequest.js ***!
  \*********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ 0);\nvar transformData = __webpack_require__(/*! ./transformData */ 22);\nvar isCancel = __webpack_require__(/*! ../cancel/isCancel */ 6);\nvar defaults = __webpack_require__(/*! ../defaults */ 2);\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcz8yMDEyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuL3RyYW5zZm9ybURhdGEnKTtcbnZhciBpc0NhbmNlbCA9IHJlcXVpcmUoJy4uL2NhbmNlbC9pc0NhbmNlbCcpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5mdW5jdGlvbiB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZykge1xuICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgY29uZmlnLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIHVzaW5nIHRoZSBjb25maWd1cmVkIGFkYXB0ZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkaXNwYXRjaFJlcXVlc3QoY29uZmlnKSB7XG4gIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAvLyBFbnN1cmUgaGVhZGVycyBleGlzdFxuICBjb25maWcuaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzIHx8IHt9O1xuXG4gIC8vIFRyYW5zZm9ybSByZXF1ZXN0IGRhdGFcbiAgY29uZmlnLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgIGNvbmZpZy5kYXRhLFxuICAgIGNvbmZpZy5oZWFkZXJzLFxuICAgIGNvbmZpZy50cmFuc2Zvcm1SZXF1ZXN0XG4gICk7XG5cbiAgLy8gRmxhdHRlbiBoZWFkZXJzXG4gIGNvbmZpZy5oZWFkZXJzID0gdXRpbHMubWVyZ2UoXG4gICAgY29uZmlnLmhlYWRlcnMuY29tbW9uIHx8IHt9LFxuICAgIGNvbmZpZy5oZWFkZXJzW2NvbmZpZy5tZXRob2RdIHx8IHt9LFxuICAgIGNvbmZpZy5oZWFkZXJzIHx8IHt9XG4gICk7XG5cbiAgdXRpbHMuZm9yRWFjaChcbiAgICBbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdwb3N0JywgJ3B1dCcsICdwYXRjaCcsICdjb21tb24nXSxcbiAgICBmdW5jdGlvbiBjbGVhbkhlYWRlckNvbmZpZyhtZXRob2QpIHtcbiAgICAgIGRlbGV0ZSBjb25maWcuaGVhZGVyc1ttZXRob2RdO1xuICAgIH1cbiAgKTtcblxuICB2YXIgYWRhcHRlciA9IGNvbmZpZy5hZGFwdGVyIHx8IGRlZmF1bHRzLmFkYXB0ZXI7XG5cbiAgcmV0dXJuIGFkYXB0ZXIoY29uZmlnKS50aGVuKGZ1bmN0aW9uIG9uQWRhcHRlclJlc29sdXRpb24ocmVzcG9uc2UpIHtcbiAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgIHJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgcmVzcG9uc2UuZGF0YSxcbiAgICAgIHJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICApO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9LCBmdW5jdGlvbiBvbkFkYXB0ZXJSZWplY3Rpb24ocmVhc29uKSB7XG4gICAgaWYgKCFpc0NhbmNlbChyZWFzb24pKSB7XG4gICAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgICBpZiAocmVhc29uICYmIHJlYXNvbi5yZXNwb25zZSkge1xuICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEsXG4gICAgICAgICAgcmVhc29uLnJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7XG4gIH0pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 20 */
/* unknown exports provided */
/* all exports used */
/*!******************************************!*\
  !*** ./~/axios/lib/core/enhanceError.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n @ @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.response = response;\n  return error;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9jb3JlL2VuaGFuY2VFcnJvci5qcz84MGQ4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVcGRhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIGNvbmZpZywgZXJyb3IgY29kZSwgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIFRoZSBlcnJvciB0byB1cGRhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuIEAgQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlc3BvbnNlKSB7XG4gIGVycm9yLmNvbmZpZyA9IGNvbmZpZztcbiAgaWYgKGNvZGUpIHtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgfVxuICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICByZXR1cm4gZXJyb3I7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jb3JlL2VuaGFuY2VFcnJvci5qc1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 21 */
/* unknown exports provided */
/* all exports used */
/*!************************************!*\
  !*** ./~/axios/lib/core/settle.js ***!
  \************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar createError = __webpack_require__(/*! ./createError */ 7);\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response\n    ));\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcz9hNGFhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi9jcmVhdGVFcnJvcicpO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIHZhciB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcbiAgLy8gTm90ZTogc3RhdHVzIGlzIG5vdCBleHBvc2VkIGJ5IFhEb21haW5SZXF1ZXN0XG4gIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KGNyZWF0ZUVycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIG51bGwsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qc1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 22 */
/* unknown exports provided */
/* all exports used */
/*!*******************************************!*\
  !*** ./~/axios/lib/core/transformData.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ 0);\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanM/ZDFiZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHRyYW5zZm9ybWVkXG4gKiBAcGFyYW0ge0FycmF5fSBoZWFkZXJzIFRoZSBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdCBvciByZXNwb25zZVxuICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSwgaGVhZGVycywgZm5zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICB1dGlscy5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMpO1xuICB9KTtcblxuICByZXR1cm4gZGF0YTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2NvcmUvdHJhbnNmb3JtRGF0YS5qc1xuLy8gbW9kdWxlIGlkID0gMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 23 */
/* unknown exports provided */
/* all exports used */
/*!*************************************!*\
  !*** ./~/axios/lib/helpers/btoa.js ***!
  \*************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2J0b2EuanM/MmM3YSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vIGJ0b2EgcG9seWZpbGwgZm9yIElFPDEwIGNvdXJ0ZXN5IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZGNoYW1iZXJzL0Jhc2U2NC5qc1xuXG52YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG5mdW5jdGlvbiBFKCkge1xuICB0aGlzLm1lc3NhZ2UgPSAnU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyJztcbn1cbkUucHJvdG90eXBlID0gbmV3IEVycm9yO1xuRS5wcm90b3R5cGUuY29kZSA9IDU7XG5FLnByb3RvdHlwZS5uYW1lID0gJ0ludmFsaWRDaGFyYWN0ZXJFcnJvcic7XG5cbmZ1bmN0aW9uIGJ0b2EoaW5wdXQpIHtcbiAgdmFyIHN0ciA9IFN0cmluZyhpbnB1dCk7XG4gIHZhciBvdXRwdXQgPSAnJztcbiAgZm9yIChcbiAgICAvLyBpbml0aWFsaXplIHJlc3VsdCBhbmQgY291bnRlclxuICAgIHZhciBibG9jaywgY2hhckNvZGUsIGlkeCA9IDAsIG1hcCA9IGNoYXJzO1xuICAgIC8vIGlmIHRoZSBuZXh0IHN0ciBpbmRleCBkb2VzIG5vdCBleGlzdDpcbiAgICAvLyAgIGNoYW5nZSB0aGUgbWFwcGluZyB0YWJsZSB0byBcIj1cIlxuICAgIC8vICAgY2hlY2sgaWYgZCBoYXMgbm8gZnJhY3Rpb25hbCBkaWdpdHNcbiAgICBzdHIuY2hhckF0KGlkeCB8IDApIHx8IChtYXAgPSAnPScsIGlkeCAlIDEpO1xuICAgIC8vIFwiOCAtIGlkeCAlIDEgKiA4XCIgZ2VuZXJhdGVzIHRoZSBzZXF1ZW5jZSAyLCA0LCA2LCA4XG4gICAgb3V0cHV0ICs9IG1hcC5jaGFyQXQoNjMgJiBibG9jayA+PiA4IC0gaWR4ICUgMSAqIDgpXG4gICkge1xuICAgIGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaWR4ICs9IDMgLyA0KTtcbiAgICBpZiAoY2hhckNvZGUgPiAweEZGKSB7XG4gICAgICB0aHJvdyBuZXcgRSgpO1xuICAgIH1cbiAgICBibG9jayA9IGJsb2NrIDw8IDggfCBjaGFyQ29kZTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ0b2E7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2hlbHBlcnMvYnRvYS5qc1xuLy8gbW9kdWxlIGlkID0gMjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 24 */
/* unknown exports provided */
/* all exports used */
/*!*****************************************!*\
  !*** ./~/axios/lib/helpers/buildURL.js ***!
  \*****************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ 0);\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      }\n\n      if (!utils.isArray(val)) {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzP2U4YzQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgcGFyYW1zU2VyaWFsaXplcikge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgdmFyIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIGlmIChwYXJhbXNTZXJpYWxpemVyKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtc1NlcmlhbGl6ZXIocGFyYW1zKTtcbiAgfSBlbHNlIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICB9IGVsc2Uge1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuXG4gICAgdXRpbHMuZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWwsIGtleSkge1xuICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh1dGlscy5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAga2V5ID0ga2V5ICsgJ1tdJztcbiAgICAgIH1cblxuICAgICAgaWYgKCF1dGlscy5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 25 */
/* unknown exports provided */
/* all exports used */
/*!********************************************!*\
  !*** ./~/axios/lib/helpers/combineURLs.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '');\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzPzEzNDciXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIGJhc2VVUkwucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanNcbi8vIG1vZHVsZSBpZCA9IDI1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 26 */
/* unknown exports provided */
/* all exports used */
/*!****************************************!*\
  !*** ./~/axios/lib/helpers/cookies.js ***!
  \****************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ 0);\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanM/OGQwOCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICAgIHZhciBjb29raWUgPSBbXTtcbiAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhwYXRoKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgICAgfVxuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9KSgpXG4pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanNcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 27 */
/* unknown exports provided */
/* all exports used */
/*!**********************************************!*\
  !*** ./~/axios/lib/helpers/isAbsoluteURL.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanM/ODZjOSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzXG4vLyBtb2R1bGUgaWQgPSAyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 28 */
/* unknown exports provided */
/* all exports used */
/*!************************************************!*\
  !*** ./~/axios/lib/helpers/isURLSameOrigin.js ***!
  \************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ 0);\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcz8wN2ZmIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4gIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdmFyIG9yaWdpblVSTDtcblxuICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0pKClcbik7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luLmpzXG4vLyBtb2R1bGUgaWQgPSAyOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 29 */
/* unknown exports provided */
/* all exports used */
/*!****************************************************!*\
  !*** ./~/axios/lib/helpers/normalizeHeaderName.js ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ../utils */ 0);\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanM/OTMzMiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgfVxuICB9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYXhpb3MvbGliL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZS5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 30 */
/* unknown exports provided */
/* all exports used */
/*!*********************************************!*\
  !*** ./~/axios/lib/helpers/parseHeaders.js ***!
  \*********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ 0);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcz9iNWM0Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gIHZhciBwYXJzZWQgPSB7fTtcbiAgdmFyIGtleTtcbiAgdmFyIHZhbDtcbiAgdmFyIGk7XG5cbiAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblxuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanNcbi8vIG1vZHVsZSBpZCA9IDMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 31 */
/* unknown exports provided */
/* all exports used */
/*!***************************************!*\
  !*** ./~/axios/lib/helpers/spread.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qcz80NWFiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTeW50YWN0aWMgc3VnYXIgZm9yIGludm9raW5nIGEgZnVuY3Rpb24gYW5kIGV4cGFuZGluZyBhbiBhcnJheSBmb3IgYXJndW1lbnRzLlxuICpcbiAqIENvbW1vbiB1c2UgY2FzZSB3b3VsZCBiZSB0byB1c2UgYEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseWAuXG4gKlxuICogIGBgYGpzXG4gKiAgZnVuY3Rpb24gZih4LCB5LCB6KSB7fVxuICogIHZhciBhcmdzID0gWzEsIDIsIDNdO1xuICogIGYuYXBwbHkobnVsbCwgYXJncyk7XG4gKiAgYGBgXG4gKlxuICogV2l0aCBgc3ByZWFkYCB0aGlzIGV4YW1wbGUgY2FuIGJlIHJlLXdyaXR0ZW4uXG4gKlxuICogIGBgYGpzXG4gKiAgc3ByZWFkKGZ1bmN0aW9uKHgsIHksIHopIHt9KShbMSwgMiwgM10pO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3ByZWFkKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKGFycikge1xuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShudWxsLCBhcnIpO1xuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanNcbi8vIG1vZHVsZSBpZCA9IDMxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 32 */
/* unknown exports provided */
/* all exports used */
/*!*************************************!*\
  !*** ./~/pubnub/dist/web/pubnub.js ***!
  \*************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/*! 4.5.0 / Consumer  */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PubNub\"] = factory();\n\telse\n\t\troot[\"PubNub\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _pubnubCommon = __webpack_require__(1);\n\n\tvar _pubnubCommon2 = _interopRequireDefault(_pubnubCommon);\n\n\tvar _web = __webpack_require__(46);\n\n\tvar _web2 = _interopRequireDefault(_web);\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\tvar db = {\n\t  get: function get(key) {\n\t    try {\n\t      return localStorage.getItem(key);\n\t    } catch (e) {\n\t      return null;\n\t    }\n\t  },\n\t  set: function set(key, data) {\n\t    try {\n\t      return localStorage.setItem(key, data);\n\t    } catch (e) {\n\t      return null;\n\t    }\n\t  }\n\t};\n\n\tvar _class = function (_PubNubCore) {\n\t  _inherits(_class, _PubNubCore);\n\n\t  function _class(setup) {\n\t    _classCallCheck(this, _class);\n\n\t    setup.db = db;\n\t    setup.sdkFamily = 'Web';\n\t    setup.networking = new _web2.default();\n\n\t    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, setup));\n\n\t    window.addEventListener('offline', function () {\n\t      _this.__networkDownDetected();\n\t    });\n\n\t    window.addEventListener('online', function () {\n\t      _this.__networkUpDetected();\n\t    });\n\t    return _this;\n\t  }\n\n\t  return _class;\n\t}(_pubnubCommon2.default);\n\n\texports.default = _class;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tvar _uuid = __webpack_require__(2);\n\n\tvar _uuid2 = _interopRequireDefault(_uuid);\n\n\tvar _config = __webpack_require__(7);\n\n\tvar _config2 = _interopRequireDefault(_config);\n\n\tvar _index = __webpack_require__(9);\n\n\tvar _index2 = _interopRequireDefault(_index);\n\n\tvar _base = __webpack_require__(11);\n\n\tvar _base2 = _interopRequireDefault(_base);\n\n\tvar _subscription_manager = __webpack_require__(18);\n\n\tvar _subscription_manager2 = _interopRequireDefault(_subscription_manager);\n\n\tvar _listener_manager = __webpack_require__(19);\n\n\tvar _listener_manager2 = _interopRequireDefault(_listener_manager);\n\n\tvar _endpoint = __webpack_require__(24);\n\n\tvar _endpoint2 = _interopRequireDefault(_endpoint);\n\n\tvar _add_channels = __webpack_require__(25);\n\n\tvar addChannelsChannelGroupConfig = _interopRequireWildcard(_add_channels);\n\n\tvar _remove_channels = __webpack_require__(26);\n\n\tvar removeChannelsChannelGroupConfig = _interopRequireWildcard(_remove_channels);\n\n\tvar _delete_group = __webpack_require__(27);\n\n\tvar deleteChannelGroupConfig = _interopRequireWildcard(_delete_group);\n\n\tvar _list_groups = __webpack_require__(28);\n\n\tvar listChannelGroupsConfig = _interopRequireWildcard(_list_groups);\n\n\tvar _list_channels = __webpack_require__(29);\n\n\tvar listChannelsInChannelGroupConfig = _interopRequireWildcard(_list_channels);\n\n\tvar _add_push_channels = __webpack_require__(30);\n\n\tvar addPushChannelsConfig = _interopRequireWildcard(_add_push_channels);\n\n\tvar _remove_push_channels = __webpack_require__(31);\n\n\tvar removePushChannelsConfig = _interopRequireWildcard(_remove_push_channels);\n\n\tvar _list_push_channels = __webpack_require__(32);\n\n\tvar listPushChannelsConfig = _interopRequireWildcard(_list_push_channels);\n\n\tvar _remove_device = __webpack_require__(33);\n\n\tvar removeDevicePushConfig = _interopRequireWildcard(_remove_device);\n\n\tvar _leave = __webpack_require__(34);\n\n\tvar presenceLeaveEndpointConfig = _interopRequireWildcard(_leave);\n\n\tvar _where_now = __webpack_require__(35);\n\n\tvar presenceWhereNowEndpointConfig = _interopRequireWildcard(_where_now);\n\n\tvar _heartbeat = __webpack_require__(36);\n\n\tvar presenceHeartbeatEndpointConfig = _interopRequireWildcard(_heartbeat);\n\n\tvar _get_state = __webpack_require__(37);\n\n\tvar presenceGetStateConfig = _interopRequireWildcard(_get_state);\n\n\tvar _set_state = __webpack_require__(38);\n\n\tvar presenceSetStateConfig = _interopRequireWildcard(_set_state);\n\n\tvar _here_now = __webpack_require__(39);\n\n\tvar presenceHereNowConfig = _interopRequireWildcard(_here_now);\n\n\tvar _audit = __webpack_require__(40);\n\n\tvar auditEndpointConfig = _interopRequireWildcard(_audit);\n\n\tvar _grant = __webpack_require__(41);\n\n\tvar grantEndpointConfig = _interopRequireWildcard(_grant);\n\n\tvar _publish = __webpack_require__(42);\n\n\tvar publishEndpointConfig = _interopRequireWildcard(_publish);\n\n\tvar _history = __webpack_require__(43);\n\n\tvar historyEndpointConfig = _interopRequireWildcard(_history);\n\n\tvar _fetch_messages = __webpack_require__(44);\n\n\tvar fetchMessagesEndpointConfig = _interopRequireWildcard(_fetch_messages);\n\n\tvar _time = __webpack_require__(21);\n\n\tvar timeEndpointConfig = _interopRequireWildcard(_time);\n\n\tvar _subscribe = __webpack_require__(45);\n\n\tvar subscribeEndpointConfig = _interopRequireWildcard(_subscribe);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tvar _categories = __webpack_require__(17);\n\n\tvar _categories2 = _interopRequireDefault(_categories);\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar _class = function () {\n\t  function _class(setup) {\n\t    var _this = this;\n\n\t    _classCallCheck(this, _class);\n\n\t    var db = setup.db,\n\t        networking = setup.networking;\n\n\n\t    var config = this._config = new _config2.default({ setup: setup, db: db });\n\t    var crypto = new _index2.default({ config: config });\n\n\t    if (!networking) {\n\t      networking = new _base2.default({});\n\t    }\n\n\t    networking.init(config);\n\n\t    var modules = { config: config, networking: networking, crypto: crypto };\n\n\t    var timeEndpoint = _endpoint2.default.bind(this, modules, timeEndpointConfig);\n\t    var leaveEndpoint = _endpoint2.default.bind(this, modules, presenceLeaveEndpointConfig);\n\t    var heartbeatEndpoint = _endpoint2.default.bind(this, modules, presenceHeartbeatEndpointConfig);\n\t    var setStateEndpoint = _endpoint2.default.bind(this, modules, presenceSetStateConfig);\n\t    var subscribeEndpoint = _endpoint2.default.bind(this, modules, subscribeEndpointConfig);\n\n\t    var listenerManager = this._listenerManager = new _listener_manager2.default();\n\n\t    var subscriptionManager = new _subscription_manager2.default({\n\t      timeEndpoint: timeEndpoint,\n\t      leaveEndpoint: leaveEndpoint,\n\t      heartbeatEndpoint: heartbeatEndpoint,\n\t      setStateEndpoint: setStateEndpoint,\n\t      subscribeEndpoint: subscribeEndpoint,\n\t      crypto: modules.crypto,\n\t      config: modules.config,\n\t      listenerManager: listenerManager\n\t    });\n\n\t    this.addListener = listenerManager.addListener.bind(listenerManager);\n\t    this.removeListener = listenerManager.removeListener.bind(listenerManager);\n\t    this.removeAllListeners = listenerManager.removeAllListeners.bind(listenerManager);\n\n\t    this.channelGroups = {\n\t      listGroups: _endpoint2.default.bind(this, modules, listChannelGroupsConfig),\n\t      listChannels: _endpoint2.default.bind(this, modules, listChannelsInChannelGroupConfig),\n\t      addChannels: _endpoint2.default.bind(this, modules, addChannelsChannelGroupConfig),\n\t      removeChannels: _endpoint2.default.bind(this, modules, removeChannelsChannelGroupConfig),\n\t      deleteGroup: _endpoint2.default.bind(this, modules, deleteChannelGroupConfig)\n\t    };\n\n\t    this.push = {\n\t      addChannels: _endpoint2.default.bind(this, modules, addPushChannelsConfig),\n\t      removeChannels: _endpoint2.default.bind(this, modules, removePushChannelsConfig),\n\t      deleteDevice: _endpoint2.default.bind(this, modules, removeDevicePushConfig),\n\t      listChannels: _endpoint2.default.bind(this, modules, listPushChannelsConfig)\n\t    };\n\n\t    this.hereNow = _endpoint2.default.bind(this, modules, presenceHereNowConfig);\n\t    this.whereNow = _endpoint2.default.bind(this, modules, presenceWhereNowEndpointConfig);\n\t    this.getState = _endpoint2.default.bind(this, modules, presenceGetStateConfig);\n\t    this.setState = subscriptionManager.adaptStateChange.bind(subscriptionManager);\n\n\t    this.grant = _endpoint2.default.bind(this, modules, grantEndpointConfig);\n\t    this.audit = _endpoint2.default.bind(this, modules, auditEndpointConfig);\n\n\t    this.publish = _endpoint2.default.bind(this, modules, publishEndpointConfig);\n\n\t    this.fire = function (args, callback) {\n\t      args.replicate = false;\n\t      args.storeInHistory = false;\n\t      _this.publish(args, callback);\n\t    };\n\n\t    this.history = _endpoint2.default.bind(this, modules, historyEndpointConfig);\n\t    this.fetchMessages = _endpoint2.default.bind(this, modules, fetchMessagesEndpointConfig);\n\n\t    this.time = timeEndpoint;\n\n\t    this.subscribe = subscriptionManager.adaptSubscribeChange.bind(subscriptionManager);\n\t    this.unsubscribe = subscriptionManager.adaptUnsubscribeChange.bind(subscriptionManager);\n\t    this.disconnect = subscriptionManager.disconnect.bind(subscriptionManager);\n\t    this.reconnect = subscriptionManager.reconnect.bind(subscriptionManager);\n\n\t    this.destroy = function () {\n\t      subscriptionManager.unsubscribeAll();\n\t      subscriptionManager.disconnect();\n\t    };\n\n\t    this.stop = this.destroy;\n\n\t    this.unsubscribeAll = subscriptionManager.unsubscribeAll.bind(subscriptionManager);\n\n\t    this.getSubscribedChannels = subscriptionManager.getSubscribedChannels.bind(subscriptionManager);\n\t    this.getSubscribedChannelGroups = subscriptionManager.getSubscribedChannelGroups.bind(subscriptionManager);\n\n\t    this.encrypt = crypto.encrypt.bind(crypto);\n\t    this.decrypt = crypto.decrypt.bind(crypto);\n\n\t    this.getAuthKey = modules.config.getAuthKey.bind(modules.config);\n\t    this.setAuthKey = modules.config.setAuthKey.bind(modules.config);\n\t    this.setCipherKey = modules.config.setCipherKey.bind(modules.config);\n\t    this.getUUID = modules.config.getUUID.bind(modules.config);\n\t    this.setUUID = modules.config.setUUID.bind(modules.config);\n\t    this.getFilterExpression = modules.config.getFilterExpression.bind(modules.config);\n\t    this.setFilterExpression = modules.config.setFilterExpression.bind(modules.config);\n\t  }\n\n\t  _createClass(_class, [{\n\t    key: 'getVersion',\n\t    value: function getVersion() {\n\t      return this._config.getVersion();\n\t    }\n\t  }, {\n\t    key: '__networkDownDetected',\n\t    value: function __networkDownDetected() {\n\t      this._listenerManager.announceNetworkDown();\n\n\t      if (this._config.restore) {\n\t        this.disconnect();\n\t      } else {\n\t        this.destroy();\n\t      }\n\t    }\n\t  }, {\n\t    key: '__networkUpDetected',\n\t    value: function __networkUpDetected() {\n\t      this._listenerManager.announceNetworkUp();\n\t      this.reconnect();\n\t    }\n\t  }], [{\n\t    key: 'generateUUID',\n\t    value: function generateUUID() {\n\t      return _uuid2.default.v4();\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}();\n\n\t_class.OPERATIONS = _operations2.default;\n\t_class.CATEGORIES = _categories2.default;\n\texports.default = _class;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar v1 = __webpack_require__(3);\n\tvar v4 = __webpack_require__(6);\n\n\tvar uuid = v4;\n\tuuid.v1 = v1;\n\tuuid.v4 = v4;\n\n\tmodule.exports = uuid;\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// Unique ID creation requires a high quality random # generator.  We feature\n\t// detect to determine the best RNG source, normalizing to a function that\n\t// returns 128-bits of randomness, since that's what's usually required\n\tvar rng = __webpack_require__(4);\n\tvar bytesToUuid = __webpack_require__(5);\n\n\t// **`v1()` - Generate time-based UUID**\n\t//\n\t// Inspired by https://github.com/LiosK/UUID.js\n\t// and http://docs.python.org/library/uuid.html\n\n\t// random #'s we need to init node and clockseq\n\tvar _seedBytes = rng();\n\n\t// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n\tvar _nodeId = [\n\t  _seedBytes[0] | 0x01,\n\t  _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n\t];\n\n\t// Per 4.2.2, randomize (14 bit) clockseq\n\tvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n\t// Previous uuid creation time\n\tvar _lastMSecs = 0, _lastNSecs = 0;\n\n\t// See https://github.com/broofa/node-uuid for API details\n\tfunction v1(options, buf, offset) {\n\t  var i = buf && offset || 0;\n\t  var b = buf || [];\n\n\t  options = options || {};\n\n\t  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n\t  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n\t  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n\t  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n\t  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\t  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n\t  // Per 4.2.1.2, use count of uuid's generated during the current clock\n\t  // cycle to simulate higher resolution clock\n\t  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n\t  // Time since last uuid creation (in msecs)\n\t  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n\t  // Per 4.2.1.2, Bump clockseq on clock regression\n\t  if (dt < 0 && options.clockseq === undefined) {\n\t    clockseq = clockseq + 1 & 0x3fff;\n\t  }\n\n\t  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n\t  // time interval\n\t  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n\t    nsecs = 0;\n\t  }\n\n\t  // Per 4.2.1.2 Throw error if too many uuids are requested\n\t  if (nsecs >= 10000) {\n\t    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n\t  }\n\n\t  _lastMSecs = msecs;\n\t  _lastNSecs = nsecs;\n\t  _clockseq = clockseq;\n\n\t  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\t  msecs += 12219292800000;\n\n\t  // `time_low`\n\t  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n\t  b[i++] = tl >>> 24 & 0xff;\n\t  b[i++] = tl >>> 16 & 0xff;\n\t  b[i++] = tl >>> 8 & 0xff;\n\t  b[i++] = tl & 0xff;\n\n\t  // `time_mid`\n\t  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n\t  b[i++] = tmh >>> 8 & 0xff;\n\t  b[i++] = tmh & 0xff;\n\n\t  // `time_high_and_version`\n\t  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\t  b[i++] = tmh >>> 16 & 0xff;\n\n\t  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\t  b[i++] = clockseq >>> 8 | 0x80;\n\n\t  // `clock_seq_low`\n\t  b[i++] = clockseq & 0xff;\n\n\t  // `node`\n\t  var node = options.node || _nodeId;\n\t  for (var n = 0; n < 6; ++n) {\n\t    b[i + n] = node[n];\n\t  }\n\n\t  return buf ? buf : bytesToUuid(b);\n\t}\n\n\tmodule.exports = v1;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {// Unique ID creation requires a high quality random # generator.  In the\n\t// browser this is a little complicated due to unknown quality of Math.random()\n\t// and inconsistent support for the `crypto` API.  We do the best we can via\n\t// feature-detection\n\tvar rng;\n\n\tvar crypto = global.crypto || global.msCrypto; // for IE 11\n\tif (crypto && crypto.getRandomValues) {\n\t  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n\t  var rnds8 = new Uint8Array(16);\n\t  rng = function whatwgRNG() {\n\t    crypto.getRandomValues(rnds8);\n\t    return rnds8;\n\t  };\n\t}\n\n\tif (!rng) {\n\t  // Math.random()-based (RNG)\n\t  //\n\t  // If all else fails, use Math.random().  It's fast, but is of unspecified\n\t  // quality.\n\t  var  rnds = new Array(16);\n\t  rng = function() {\n\t    for (var i = 0, r; i < 16; i++) {\n\t      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n\t      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n\t    }\n\n\t    return rnds;\n\t  };\n\t}\n\n\tmodule.exports = rng;\n\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Convert array of 16 byte values to UUID string format of the form:\n\t * XXXXXXXX-XXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n\t */\n\tvar byteToHex = [];\n\tfor (var i = 0; i < 256; ++i) {\n\t  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n\t}\n\n\tfunction bytesToUuid(buf, offset) {\n\t  var i = offset || 0;\n\t  var bth = byteToHex;\n\t  return  bth[buf[i++]] + bth[buf[i++]] +\n\t          bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t          bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t          bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t          bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t          bth[buf[i++]] + bth[buf[i++]] +\n\t          bth[buf[i++]] + bth[buf[i++]] +\n\t          bth[buf[i++]] + bth[buf[i++]];\n\t}\n\n\tmodule.exports = bytesToUuid;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar rng = __webpack_require__(4);\n\tvar bytesToUuid = __webpack_require__(5);\n\n\tfunction v4(options, buf, offset) {\n\t  var i = buf && offset || 0;\n\n\t  if (typeof(options) == 'string') {\n\t    buf = options == 'binary' ? new Array(16) : null;\n\t    options = null;\n\t  }\n\t  options = options || {};\n\n\t  var rnds = options.random || (options.rng || rng)();\n\n\t  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\t  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n\t  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n\t  // Copy bytes to buffer, if provided\n\t  if (buf) {\n\t    for (var ii = 0; ii < 16; ++ii) {\n\t      buf[i + ii] = rnds[ii];\n\t    }\n\t  }\n\n\t  return buf || bytesToUuid(rnds);\n\t}\n\n\tmodule.exports = v4;\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tvar _uuid = __webpack_require__(2);\n\n\tvar _uuid2 = _interopRequireDefault(_uuid);\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar _class = function () {\n\t  function _class(_ref) {\n\t    var setup = _ref.setup,\n\t        db = _ref.db;\n\n\t    _classCallCheck(this, _class);\n\n\t    this._db = db;\n\n\t    this.instanceId = 'pn-' + _uuid2.default.v4();\n\t    this.secretKey = setup.secretKey || setup.secret_key;\n\t    this.subscribeKey = setup.subscribeKey || setup.subscribe_key;\n\t    this.publishKey = setup.publishKey || setup.publish_key;\n\t    this.sdkFamily = setup.sdkFamily;\n\t    this.partnerId = setup.partnerId;\n\t    this.setAuthKey(setup.authKey);\n\t    this.setCipherKey(setup.cipherKey);\n\n\t    this.setFilterExpression(setup.filterExpression);\n\n\t    this.origin = setup.origin || 'pubsub.pubnub.com';\n\t    this.secure = setup.ssl || false;\n\t    this.restore = setup.restore || false;\n\t    this.proxy = setup.proxy;\n\t    this.keepAlive = setup.keepAlive;\n\t    this.keepAliveSettings = setup.keepAliveSettings;\n\n\t    if (typeof location !== 'undefined' && location.protocol === 'https:') {\n\t      this.secure = true;\n\t    }\n\n\t    this.logVerbosity = setup.logVerbosity || false;\n\t    this.suppressLeaveEvents = setup.suppressLeaveEvents || false;\n\n\t    this.announceFailedHeartbeats = setup.announceFailedHeartbeats || true;\n\t    this.announceSuccessfulHeartbeats = setup.announceSuccessfulHeartbeats || false;\n\n\t    this.useInstanceId = setup.useInstanceId || false;\n\t    this.useRequestId = setup.useRequestId || false;\n\n\t    this.requestMessageCountThreshold = setup.requestMessageCountThreshold;\n\n\t    this.setTransactionTimeout(setup.transactionalRequestTimeout || 15 * 1000);\n\n\t    this.setSubscribeTimeout(setup.subscribeRequestTimeout || 310 * 1000);\n\n\t    this.setSendBeaconConfig(setup.useSendBeacon || true);\n\n\t    this.setPresenceTimeout(setup.presenceTimeout || 300);\n\n\t    if (setup.heartbeatInterval) {\n\t      this.setHeartbeatInterval(setup.heartbeatInterval);\n\t    }\n\n\t    this.setUUID(this._decideUUID(setup.uuid));\n\t  }\n\n\t  _createClass(_class, [{\n\t    key: 'getAuthKey',\n\t    value: function getAuthKey() {\n\t      return this.authKey;\n\t    }\n\t  }, {\n\t    key: 'setAuthKey',\n\t    value: function setAuthKey(val) {\n\t      this.authKey = val;return this;\n\t    }\n\t  }, {\n\t    key: 'setCipherKey',\n\t    value: function setCipherKey(val) {\n\t      this.cipherKey = val;return this;\n\t    }\n\t  }, {\n\t    key: 'getUUID',\n\t    value: function getUUID() {\n\t      return this.UUID;\n\t    }\n\t  }, {\n\t    key: 'setUUID',\n\t    value: function setUUID(val) {\n\t      if (this._db && this._db.set) this._db.set(this.subscribeKey + 'uuid', val);\n\t      this.UUID = val;\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'getFilterExpression',\n\t    value: function getFilterExpression() {\n\t      return this.filterExpression;\n\t    }\n\t  }, {\n\t    key: 'setFilterExpression',\n\t    value: function setFilterExpression(val) {\n\t      this.filterExpression = val;return this;\n\t    }\n\t  }, {\n\t    key: 'getPresenceTimeout',\n\t    value: function getPresenceTimeout() {\n\t      return this._presenceTimeout;\n\t    }\n\t  }, {\n\t    key: 'setPresenceTimeout',\n\t    value: function setPresenceTimeout(val) {\n\t      this._presenceTimeout = val;\n\t      this.setHeartbeatInterval(this._presenceTimeout / 2 - 1);\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'getHeartbeatInterval',\n\t    value: function getHeartbeatInterval() {\n\t      return this._heartbeatInterval;\n\t    }\n\t  }, {\n\t    key: 'setHeartbeatInterval',\n\t    value: function setHeartbeatInterval(val) {\n\t      this._heartbeatInterval = val;return this;\n\t    }\n\t  }, {\n\t    key: 'getSubscribeTimeout',\n\t    value: function getSubscribeTimeout() {\n\t      return this._subscribeRequestTimeout;\n\t    }\n\t  }, {\n\t    key: 'setSubscribeTimeout',\n\t    value: function setSubscribeTimeout(val) {\n\t      this._subscribeRequestTimeout = val;return this;\n\t    }\n\t  }, {\n\t    key: 'getTransactionTimeout',\n\t    value: function getTransactionTimeout() {\n\t      return this._transactionalRequestTimeout;\n\t    }\n\t  }, {\n\t    key: 'setTransactionTimeout',\n\t    value: function setTransactionTimeout(val) {\n\t      this._transactionalRequestTimeout = val;return this;\n\t    }\n\t  }, {\n\t    key: 'isSendBeaconEnabled',\n\t    value: function isSendBeaconEnabled() {\n\t      return this._useSendBeacon;\n\t    }\n\t  }, {\n\t    key: 'setSendBeaconConfig',\n\t    value: function setSendBeaconConfig(val) {\n\t      this._useSendBeacon = val;return this;\n\t    }\n\t  }, {\n\t    key: 'getVersion',\n\t    value: function getVersion() {\n\t      return '4.5.0';\n\t    }\n\t  }, {\n\t    key: '_decideUUID',\n\t    value: function _decideUUID(providedUUID) {\n\t      if (providedUUID) {\n\t        return providedUUID;\n\t      }\n\n\t      if (this._db && this._db.get && this._db.get(this.subscribeKey + 'uuid')) {\n\t        return this._db.get(this.subscribeKey + 'uuid');\n\t      }\n\n\t      return 'pn-' + _uuid2.default.v4();\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}();\n\n\texports.default = _class;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tmodule.exports = {};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tvar _config = __webpack_require__(7);\n\n\tvar _config2 = _interopRequireDefault(_config);\n\n\tvar _hmacSha = __webpack_require__(10);\n\n\tvar _hmacSha2 = _interopRequireDefault(_hmacSha);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar _class = function () {\n\t  function _class(_ref) {\n\t    var config = _ref.config;\n\n\t    _classCallCheck(this, _class);\n\n\t    this._config = config;\n\n\t    this._iv = '0123456789012345';\n\n\t    this._allowedKeyEncodings = ['hex', 'utf8', 'base64', 'binary'];\n\t    this._allowedKeyLengths = [128, 256];\n\t    this._allowedModes = ['ecb', 'cbc'];\n\n\t    this._defaultOptions = {\n\t      encryptKey: true,\n\t      keyEncoding: 'utf8',\n\t      keyLength: 256,\n\t      mode: 'cbc'\n\t    };\n\t  }\n\n\t  _createClass(_class, [{\n\t    key: 'HMACSHA256',\n\t    value: function HMACSHA256(data) {\n\t      var hash = _hmacSha2.default.HmacSHA256(data, this._config.secretKey);\n\t      return hash.toString(_hmacSha2.default.enc.Base64);\n\t    }\n\t  }, {\n\t    key: 'SHA256',\n\t    value: function SHA256(s) {\n\t      return _hmacSha2.default.SHA256(s).toString(_hmacSha2.default.enc.Hex);\n\t    }\n\t  }, {\n\t    key: '_parseOptions',\n\t    value: function _parseOptions(incomingOptions) {\n\t      var options = incomingOptions || {};\n\t      if (!options.hasOwnProperty('encryptKey')) options.encryptKey = this._defaultOptions.encryptKey;\n\t      if (!options.hasOwnProperty('keyEncoding')) options.keyEncoding = this._defaultOptions.keyEncoding;\n\t      if (!options.hasOwnProperty('keyLength')) options.keyLength = this._defaultOptions.keyLength;\n\t      if (!options.hasOwnProperty('mode')) options.mode = this._defaultOptions.mode;\n\n\t      if (this._allowedKeyEncodings.indexOf(options.keyEncoding.toLowerCase()) === -1) {\n\t        options.keyEncoding = this._defaultOptions.keyEncoding;\n\t      }\n\n\t      if (this._allowedKeyLengths.indexOf(parseInt(options.keyLength, 10)) === -1) {\n\t        options.keyLength = this._defaultOptions.keyLength;\n\t      }\n\n\t      if (this._allowedModes.indexOf(options.mode.toLowerCase()) === -1) {\n\t        options.mode = this._defaultOptions.mode;\n\t      }\n\n\t      return options;\n\t    }\n\t  }, {\n\t    key: '_decodeKey',\n\t    value: function _decodeKey(key, options) {\n\t      if (options.keyEncoding === 'base64') {\n\t        return _hmacSha2.default.enc.Base64.parse(key);\n\t      } else if (options.keyEncoding === 'hex') {\n\t        return _hmacSha2.default.enc.Hex.parse(key);\n\t      } else {\n\t        return key;\n\t      }\n\t    }\n\t  }, {\n\t    key: '_getPaddedKey',\n\t    value: function _getPaddedKey(key, options) {\n\t      key = this._decodeKey(key, options);\n\t      if (options.encryptKey) {\n\t        return _hmacSha2.default.enc.Utf8.parse(this.SHA256(key).slice(0, 32));\n\t      } else {\n\t        return key;\n\t      }\n\t    }\n\t  }, {\n\t    key: '_getMode',\n\t    value: function _getMode(options) {\n\t      if (options.mode === 'ecb') {\n\t        return _hmacSha2.default.mode.ECB;\n\t      } else {\n\t        return _hmacSha2.default.mode.CBC;\n\t      }\n\t    }\n\t  }, {\n\t    key: '_getIV',\n\t    value: function _getIV(options) {\n\t      return options.mode === 'cbc' ? _hmacSha2.default.enc.Utf8.parse(this._iv) : null;\n\t    }\n\t  }, {\n\t    key: 'encrypt',\n\t    value: function encrypt(data, customCipherKey, options) {\n\t      if (!customCipherKey && !this._config.cipherKey) return data;\n\t      options = this._parseOptions(options);\n\t      var iv = this._getIV(options);\n\t      var mode = this._getMode(options);\n\t      var cipherKey = this._getPaddedKey(customCipherKey || this._config.cipherKey, options);\n\t      var encryptedHexArray = _hmacSha2.default.AES.encrypt(data, cipherKey, { iv: iv, mode: mode }).ciphertext;\n\t      var base64Encrypted = encryptedHexArray.toString(_hmacSha2.default.enc.Base64);\n\t      return base64Encrypted || data;\n\t    }\n\t  }, {\n\t    key: 'decrypt',\n\t    value: function decrypt(data, customCipherKey, options) {\n\t      if (!customCipherKey && !this._config.cipherKey) return data;\n\t      options = this._parseOptions(options);\n\t      var iv = this._getIV(options);\n\t      var mode = this._getMode(options);\n\t      var cipherKey = this._getPaddedKey(customCipherKey || this._config.cipherKey, options);\n\t      try {\n\t        var ciphertext = _hmacSha2.default.enc.Base64.parse(data);\n\t        var plainJSON = _hmacSha2.default.AES.decrypt({ ciphertext: ciphertext }, cipherKey, { iv: iv, mode: mode }).toString(_hmacSha2.default.enc.Utf8);\n\t        var plaintext = JSON.parse(plainJSON);\n\t        return plaintext;\n\t      } catch (e) {\n\t        return null;\n\t      }\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}();\n\n\texports.default = _class;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tvar CryptoJS = CryptoJS || function (h, s) {\n\t  var f = {},\n\t      g = f.lib = {},\n\t      q = function q() {},\n\t      m = g.Base = { extend: function extend(a) {\n\t      q.prototype = this;var c = new q();a && c.mixIn(a);c.hasOwnProperty(\"init\") || (c.init = function () {\n\t        c.$super.init.apply(this, arguments);\n\t      });c.init.prototype = c;c.$super = this;return c;\n\t    }, create: function create() {\n\t      var a = this.extend();a.init.apply(a, arguments);return a;\n\t    }, init: function init() {}, mixIn: function mixIn(a) {\n\t      for (var c in a) {\n\t        a.hasOwnProperty(c) && (this[c] = a[c]);\n\t      }a.hasOwnProperty(\"toString\") && (this.toString = a.toString);\n\t    }, clone: function clone() {\n\t      return this.init.prototype.extend(this);\n\t    } },\n\t      r = g.WordArray = m.extend({ init: function init(a, c) {\n\t      a = this.words = a || [];this.sigBytes = c != s ? c : 4 * a.length;\n\t    }, toString: function toString(a) {\n\t      return (a || k).stringify(this);\n\t    }, concat: function concat(a) {\n\t      var c = this.words,\n\t          d = a.words,\n\t          b = this.sigBytes;a = a.sigBytes;this.clamp();if (b % 4) for (var e = 0; e < a; e++) {\n\t        c[b + e >>> 2] |= (d[e >>> 2] >>> 24 - 8 * (e % 4) & 255) << 24 - 8 * ((b + e) % 4);\n\t      } else if (65535 < d.length) for (e = 0; e < a; e += 4) {\n\t        c[b + e >>> 2] = d[e >>> 2];\n\t      } else c.push.apply(c, d);this.sigBytes += a;return this;\n\t    }, clamp: function clamp() {\n\t      var a = this.words,\n\t          c = this.sigBytes;a[c >>> 2] &= 4294967295 << 32 - 8 * (c % 4);a.length = h.ceil(c / 4);\n\t    }, clone: function clone() {\n\t      var a = m.clone.call(this);a.words = this.words.slice(0);return a;\n\t    }, random: function random(a) {\n\t      for (var c = [], d = 0; d < a; d += 4) {\n\t        c.push(4294967296 * h.random() | 0);\n\t      }return new r.init(c, a);\n\t    } }),\n\t      l = f.enc = {},\n\t      k = l.Hex = { stringify: function stringify(a) {\n\t      var c = a.words;a = a.sigBytes;for (var d = [], b = 0; b < a; b++) {\n\t        var e = c[b >>> 2] >>> 24 - 8 * (b % 4) & 255;d.push((e >>> 4).toString(16));d.push((e & 15).toString(16));\n\t      }return d.join(\"\");\n\t    }, parse: function parse(a) {\n\t      for (var c = a.length, d = [], b = 0; b < c; b += 2) {\n\t        d[b >>> 3] |= parseInt(a.substr(b, 2), 16) << 24 - 4 * (b % 8);\n\t      }return new r.init(d, c / 2);\n\t    } },\n\t      n = l.Latin1 = { stringify: function stringify(a) {\n\t      var c = a.words;a = a.sigBytes;for (var d = [], b = 0; b < a; b++) {\n\t        d.push(String.fromCharCode(c[b >>> 2] >>> 24 - 8 * (b % 4) & 255));\n\t      }return d.join(\"\");\n\t    }, parse: function parse(a) {\n\t      for (var c = a.length, d = [], b = 0; b < c; b++) {\n\t        d[b >>> 2] |= (a.charCodeAt(b) & 255) << 24 - 8 * (b % 4);\n\t      }return new r.init(d, c);\n\t    } },\n\t      j = l.Utf8 = { stringify: function stringify(a) {\n\t      try {\n\t        return decodeURIComponent(escape(n.stringify(a)));\n\t      } catch (c) {\n\t        throw Error(\"Malformed UTF-8 data\");\n\t      }\n\t    }, parse: function parse(a) {\n\t      return n.parse(unescape(encodeURIComponent(a)));\n\t    } },\n\t      u = g.BufferedBlockAlgorithm = m.extend({ reset: function reset() {\n\t      this._data = new r.init();this._nDataBytes = 0;\n\t    }, _append: function _append(a) {\n\t      \"string\" == typeof a && (a = j.parse(a));this._data.concat(a);this._nDataBytes += a.sigBytes;\n\t    }, _process: function _process(a) {\n\t      var c = this._data,\n\t          d = c.words,\n\t          b = c.sigBytes,\n\t          e = this.blockSize,\n\t          f = b / (4 * e),\n\t          f = a ? h.ceil(f) : h.max((f | 0) - this._minBufferSize, 0);a = f * e;b = h.min(4 * a, b);if (a) {\n\t        for (var g = 0; g < a; g += e) {\n\t          this._doProcessBlock(d, g);\n\t        }g = d.splice(0, a);c.sigBytes -= b;\n\t      }return new r.init(g, b);\n\t    }, clone: function clone() {\n\t      var a = m.clone.call(this);\n\t      a._data = this._data.clone();return a;\n\t    }, _minBufferSize: 0 });g.Hasher = u.extend({ cfg: m.extend(), init: function init(a) {\n\t      this.cfg = this.cfg.extend(a);this.reset();\n\t    }, reset: function reset() {\n\t      u.reset.call(this);this._doReset();\n\t    }, update: function update(a) {\n\t      this._append(a);this._process();return this;\n\t    }, finalize: function finalize(a) {\n\t      a && this._append(a);return this._doFinalize();\n\t    }, blockSize: 16, _createHelper: function _createHelper(a) {\n\t      return function (c, d) {\n\t        return new a.init(d).finalize(c);\n\t      };\n\t    }, _createHmacHelper: function _createHmacHelper(a) {\n\t      return function (c, d) {\n\t        return new t.HMAC.init(a, d).finalize(c);\n\t      };\n\t    } });var t = f.algo = {};return f;\n\t}(Math);\n\n\t(function (h) {\n\t  for (var s = CryptoJS, f = s.lib, g = f.WordArray, q = f.Hasher, f = s.algo, m = [], r = [], l = function l(a) {\n\t    return 4294967296 * (a - (a | 0)) | 0;\n\t  }, k = 2, n = 0; 64 > n;) {\n\t    var j;a: {\n\t      j = k;for (var u = h.sqrt(j), t = 2; t <= u; t++) {\n\t        if (!(j % t)) {\n\t          j = !1;break a;\n\t        }\n\t      }j = !0;\n\t    }j && (8 > n && (m[n] = l(h.pow(k, 0.5))), r[n] = l(h.pow(k, 1 / 3)), n++);k++;\n\t  }var a = [],\n\t      f = f.SHA256 = q.extend({ _doReset: function _doReset() {\n\t      this._hash = new g.init(m.slice(0));\n\t    }, _doProcessBlock: function _doProcessBlock(c, d) {\n\t      for (var b = this._hash.words, e = b[0], f = b[1], g = b[2], j = b[3], h = b[4], m = b[5], n = b[6], q = b[7], p = 0; 64 > p; p++) {\n\t        if (16 > p) a[p] = c[d + p] | 0;else {\n\t          var k = a[p - 15],\n\t              l = a[p - 2];a[p] = ((k << 25 | k >>> 7) ^ (k << 14 | k >>> 18) ^ k >>> 3) + a[p - 7] + ((l << 15 | l >>> 17) ^ (l << 13 | l >>> 19) ^ l >>> 10) + a[p - 16];\n\t        }k = q + ((h << 26 | h >>> 6) ^ (h << 21 | h >>> 11) ^ (h << 7 | h >>> 25)) + (h & m ^ ~h & n) + r[p] + a[p];l = ((e << 30 | e >>> 2) ^ (e << 19 | e >>> 13) ^ (e << 10 | e >>> 22)) + (e & f ^ e & g ^ f & g);q = n;n = m;m = h;h = j + k | 0;j = g;g = f;f = e;e = k + l | 0;\n\t      }b[0] = b[0] + e | 0;b[1] = b[1] + f | 0;b[2] = b[2] + g | 0;b[3] = b[3] + j | 0;b[4] = b[4] + h | 0;b[5] = b[5] + m | 0;b[6] = b[6] + n | 0;b[7] = b[7] + q | 0;\n\t    }, _doFinalize: function _doFinalize() {\n\t      var a = this._data,\n\t          d = a.words,\n\t          b = 8 * this._nDataBytes,\n\t          e = 8 * a.sigBytes;\n\t      d[e >>> 5] |= 128 << 24 - e % 32;d[(e + 64 >>> 9 << 4) + 14] = h.floor(b / 4294967296);d[(e + 64 >>> 9 << 4) + 15] = b;a.sigBytes = 4 * d.length;this._process();return this._hash;\n\t    }, clone: function clone() {\n\t      var a = q.clone.call(this);a._hash = this._hash.clone();return a;\n\t    } });s.SHA256 = q._createHelper(f);s.HmacSHA256 = q._createHmacHelper(f);\n\t})(Math);\n\n\t(function () {\n\t  var h = CryptoJS,\n\t      s = h.enc.Utf8;h.algo.HMAC = h.lib.Base.extend({ init: function init(f, g) {\n\t      f = this._hasher = new f.init();\"string\" == typeof g && (g = s.parse(g));var h = f.blockSize,\n\t          m = 4 * h;g.sigBytes > m && (g = f.finalize(g));g.clamp();for (var r = this._oKey = g.clone(), l = this._iKey = g.clone(), k = r.words, n = l.words, j = 0; j < h; j++) {\n\t        k[j] ^= 1549556828, n[j] ^= 909522486;\n\t      }r.sigBytes = l.sigBytes = m;this.reset();\n\t    }, reset: function reset() {\n\t      var f = this._hasher;f.reset();f.update(this._iKey);\n\t    }, update: function update(f) {\n\t      this._hasher.update(f);return this;\n\t    }, finalize: function finalize(f) {\n\t      var g = this._hasher;f = g.finalize(f);g.reset();return g.finalize(this._oKey.clone().concat(f));\n\t    } });\n\t})();\n\n\t(function () {\n\t  var u = CryptoJS,\n\t      p = u.lib.WordArray;u.enc.Base64 = { stringify: function stringify(d) {\n\t      var l = d.words,\n\t          p = d.sigBytes,\n\t          t = this._map;d.clamp();d = [];for (var r = 0; r < p; r += 3) {\n\t        for (var w = (l[r >>> 2] >>> 24 - 8 * (r % 4) & 255) << 16 | (l[r + 1 >>> 2] >>> 24 - 8 * ((r + 1) % 4) & 255) << 8 | l[r + 2 >>> 2] >>> 24 - 8 * ((r + 2) % 4) & 255, v = 0; 4 > v && r + 0.75 * v < p; v++) {\n\t          d.push(t.charAt(w >>> 6 * (3 - v) & 63));\n\t        }\n\t      }if (l = t.charAt(64)) for (; d.length % 4;) {\n\t        d.push(l);\n\t      }return d.join(\"\");\n\t    }, parse: function parse(d) {\n\t      var l = d.length,\n\t          s = this._map,\n\t          t = s.charAt(64);t && (t = d.indexOf(t), -1 != t && (l = t));for (var t = [], r = 0, w = 0; w < l; w++) {\n\t        if (w % 4) {\n\t          var v = s.indexOf(d.charAt(w - 1)) << 2 * (w % 4),\n\t              b = s.indexOf(d.charAt(w)) >>> 6 - 2 * (w % 4);t[r >>> 2] |= (v | b) << 24 - 8 * (r % 4);r++;\n\t        }\n\t      }return p.create(t, r);\n\t    }, _map: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\" };\n\t})();\n\n\t(function (u) {\n\t  function p(b, n, a, c, e, j, k) {\n\t    b = b + (n & a | ~n & c) + e + k;return (b << j | b >>> 32 - j) + n;\n\t  }function d(b, n, a, c, e, j, k) {\n\t    b = b + (n & c | a & ~c) + e + k;return (b << j | b >>> 32 - j) + n;\n\t  }function l(b, n, a, c, e, j, k) {\n\t    b = b + (n ^ a ^ c) + e + k;return (b << j | b >>> 32 - j) + n;\n\t  }function s(b, n, a, c, e, j, k) {\n\t    b = b + (a ^ (n | ~c)) + e + k;return (b << j | b >>> 32 - j) + n;\n\t  }for (var t = CryptoJS, r = t.lib, w = r.WordArray, v = r.Hasher, r = t.algo, b = [], x = 0; 64 > x; x++) {\n\t    b[x] = 4294967296 * u.abs(u.sin(x + 1)) | 0;\n\t  }r = r.MD5 = v.extend({ _doReset: function _doReset() {\n\t      this._hash = new w.init([1732584193, 4023233417, 2562383102, 271733878]);\n\t    },\n\t    _doProcessBlock: function _doProcessBlock(q, n) {\n\t      for (var a = 0; 16 > a; a++) {\n\t        var c = n + a,\n\t            e = q[c];q[c] = (e << 8 | e >>> 24) & 16711935 | (e << 24 | e >>> 8) & 4278255360;\n\t      }var a = this._hash.words,\n\t          c = q[n + 0],\n\t          e = q[n + 1],\n\t          j = q[n + 2],\n\t          k = q[n + 3],\n\t          z = q[n + 4],\n\t          r = q[n + 5],\n\t          t = q[n + 6],\n\t          w = q[n + 7],\n\t          v = q[n + 8],\n\t          A = q[n + 9],\n\t          B = q[n + 10],\n\t          C = q[n + 11],\n\t          u = q[n + 12],\n\t          D = q[n + 13],\n\t          E = q[n + 14],\n\t          x = q[n + 15],\n\t          f = a[0],\n\t          m = a[1],\n\t          g = a[2],\n\t          h = a[3],\n\t          f = p(f, m, g, h, c, 7, b[0]),\n\t          h = p(h, f, m, g, e, 12, b[1]),\n\t          g = p(g, h, f, m, j, 17, b[2]),\n\t          m = p(m, g, h, f, k, 22, b[3]),\n\t          f = p(f, m, g, h, z, 7, b[4]),\n\t          h = p(h, f, m, g, r, 12, b[5]),\n\t          g = p(g, h, f, m, t, 17, b[6]),\n\t          m = p(m, g, h, f, w, 22, b[7]),\n\t          f = p(f, m, g, h, v, 7, b[8]),\n\t          h = p(h, f, m, g, A, 12, b[9]),\n\t          g = p(g, h, f, m, B, 17, b[10]),\n\t          m = p(m, g, h, f, C, 22, b[11]),\n\t          f = p(f, m, g, h, u, 7, b[12]),\n\t          h = p(h, f, m, g, D, 12, b[13]),\n\t          g = p(g, h, f, m, E, 17, b[14]),\n\t          m = p(m, g, h, f, x, 22, b[15]),\n\t          f = d(f, m, g, h, e, 5, b[16]),\n\t          h = d(h, f, m, g, t, 9, b[17]),\n\t          g = d(g, h, f, m, C, 14, b[18]),\n\t          m = d(m, g, h, f, c, 20, b[19]),\n\t          f = d(f, m, g, h, r, 5, b[20]),\n\t          h = d(h, f, m, g, B, 9, b[21]),\n\t          g = d(g, h, f, m, x, 14, b[22]),\n\t          m = d(m, g, h, f, z, 20, b[23]),\n\t          f = d(f, m, g, h, A, 5, b[24]),\n\t          h = d(h, f, m, g, E, 9, b[25]),\n\t          g = d(g, h, f, m, k, 14, b[26]),\n\t          m = d(m, g, h, f, v, 20, b[27]),\n\t          f = d(f, m, g, h, D, 5, b[28]),\n\t          h = d(h, f, m, g, j, 9, b[29]),\n\t          g = d(g, h, f, m, w, 14, b[30]),\n\t          m = d(m, g, h, f, u, 20, b[31]),\n\t          f = l(f, m, g, h, r, 4, b[32]),\n\t          h = l(h, f, m, g, v, 11, b[33]),\n\t          g = l(g, h, f, m, C, 16, b[34]),\n\t          m = l(m, g, h, f, E, 23, b[35]),\n\t          f = l(f, m, g, h, e, 4, b[36]),\n\t          h = l(h, f, m, g, z, 11, b[37]),\n\t          g = l(g, h, f, m, w, 16, b[38]),\n\t          m = l(m, g, h, f, B, 23, b[39]),\n\t          f = l(f, m, g, h, D, 4, b[40]),\n\t          h = l(h, f, m, g, c, 11, b[41]),\n\t          g = l(g, h, f, m, k, 16, b[42]),\n\t          m = l(m, g, h, f, t, 23, b[43]),\n\t          f = l(f, m, g, h, A, 4, b[44]),\n\t          h = l(h, f, m, g, u, 11, b[45]),\n\t          g = l(g, h, f, m, x, 16, b[46]),\n\t          m = l(m, g, h, f, j, 23, b[47]),\n\t          f = s(f, m, g, h, c, 6, b[48]),\n\t          h = s(h, f, m, g, w, 10, b[49]),\n\t          g = s(g, h, f, m, E, 15, b[50]),\n\t          m = s(m, g, h, f, r, 21, b[51]),\n\t          f = s(f, m, g, h, u, 6, b[52]),\n\t          h = s(h, f, m, g, k, 10, b[53]),\n\t          g = s(g, h, f, m, B, 15, b[54]),\n\t          m = s(m, g, h, f, e, 21, b[55]),\n\t          f = s(f, m, g, h, v, 6, b[56]),\n\t          h = s(h, f, m, g, x, 10, b[57]),\n\t          g = s(g, h, f, m, t, 15, b[58]),\n\t          m = s(m, g, h, f, D, 21, b[59]),\n\t          f = s(f, m, g, h, z, 6, b[60]),\n\t          h = s(h, f, m, g, C, 10, b[61]),\n\t          g = s(g, h, f, m, j, 15, b[62]),\n\t          m = s(m, g, h, f, A, 21, b[63]);a[0] = a[0] + f | 0;a[1] = a[1] + m | 0;a[2] = a[2] + g | 0;a[3] = a[3] + h | 0;\n\t    }, _doFinalize: function _doFinalize() {\n\t      var b = this._data,\n\t          n = b.words,\n\t          a = 8 * this._nDataBytes,\n\t          c = 8 * b.sigBytes;n[c >>> 5] |= 128 << 24 - c % 32;var e = u.floor(a / 4294967296);n[(c + 64 >>> 9 << 4) + 15] = (e << 8 | e >>> 24) & 16711935 | (e << 24 | e >>> 8) & 4278255360;n[(c + 64 >>> 9 << 4) + 14] = (a << 8 | a >>> 24) & 16711935 | (a << 24 | a >>> 8) & 4278255360;b.sigBytes = 4 * (n.length + 1);this._process();b = this._hash;n = b.words;for (a = 0; 4 > a; a++) {\n\t        c = n[a], n[a] = (c << 8 | c >>> 24) & 16711935 | (c << 24 | c >>> 8) & 4278255360;\n\t      }return b;\n\t    }, clone: function clone() {\n\t      var b = v.clone.call(this);b._hash = this._hash.clone();return b;\n\t    } });t.MD5 = v._createHelper(r);t.HmacMD5 = v._createHmacHelper(r);\n\t})(Math);\n\t(function () {\n\t  var u = CryptoJS,\n\t      p = u.lib,\n\t      d = p.Base,\n\t      l = p.WordArray,\n\t      p = u.algo,\n\t      s = p.EvpKDF = d.extend({ cfg: d.extend({ keySize: 4, hasher: p.MD5, iterations: 1 }), init: function init(d) {\n\t      this.cfg = this.cfg.extend(d);\n\t    }, compute: function compute(d, r) {\n\t      for (var p = this.cfg, s = p.hasher.create(), b = l.create(), u = b.words, q = p.keySize, p = p.iterations; u.length < q;) {\n\t        n && s.update(n);var n = s.update(d).finalize(r);s.reset();for (var a = 1; a < p; a++) {\n\t          n = s.finalize(n), s.reset();\n\t        }b.concat(n);\n\t      }b.sigBytes = 4 * q;return b;\n\t    } });u.EvpKDF = function (d, l, p) {\n\t    return s.create(p).compute(d, l);\n\t  };\n\t})();\n\n\tCryptoJS.lib.Cipher || function (u) {\n\t  var p = CryptoJS,\n\t      d = p.lib,\n\t      l = d.Base,\n\t      s = d.WordArray,\n\t      t = d.BufferedBlockAlgorithm,\n\t      r = p.enc.Base64,\n\t      w = p.algo.EvpKDF,\n\t      v = d.Cipher = t.extend({ cfg: l.extend(), createEncryptor: function createEncryptor(e, a) {\n\t      return this.create(this._ENC_XFORM_MODE, e, a);\n\t    }, createDecryptor: function createDecryptor(e, a) {\n\t      return this.create(this._DEC_XFORM_MODE, e, a);\n\t    }, init: function init(e, a, b) {\n\t      this.cfg = this.cfg.extend(b);this._xformMode = e;this._key = a;this.reset();\n\t    }, reset: function reset() {\n\t      t.reset.call(this);this._doReset();\n\t    }, process: function process(e) {\n\t      this._append(e);return this._process();\n\t    },\n\t    finalize: function finalize(e) {\n\t      e && this._append(e);return this._doFinalize();\n\t    }, keySize: 4, ivSize: 4, _ENC_XFORM_MODE: 1, _DEC_XFORM_MODE: 2, _createHelper: function _createHelper(e) {\n\t      return { encrypt: function encrypt(b, k, d) {\n\t          return (\"string\" == typeof k ? c : a).encrypt(e, b, k, d);\n\t        }, decrypt: function decrypt(b, k, d) {\n\t          return (\"string\" == typeof k ? c : a).decrypt(e, b, k, d);\n\t        } };\n\t    } });d.StreamCipher = v.extend({ _doFinalize: function _doFinalize() {\n\t      return this._process(!0);\n\t    }, blockSize: 1 });var b = p.mode = {},\n\t      x = function x(e, a, b) {\n\t    var c = this._iv;c ? this._iv = u : c = this._prevBlock;for (var d = 0; d < b; d++) {\n\t      e[a + d] ^= c[d];\n\t    }\n\t  },\n\t      q = (d.BlockCipherMode = l.extend({ createEncryptor: function createEncryptor(e, a) {\n\t      return this.Encryptor.create(e, a);\n\t    }, createDecryptor: function createDecryptor(e, a) {\n\t      return this.Decryptor.create(e, a);\n\t    }, init: function init(e, a) {\n\t      this._cipher = e;this._iv = a;\n\t    } })).extend();q.Encryptor = q.extend({ processBlock: function processBlock(e, a) {\n\t      var b = this._cipher,\n\t          c = b.blockSize;x.call(this, e, a, c);b.encryptBlock(e, a);this._prevBlock = e.slice(a, a + c);\n\t    } });q.Decryptor = q.extend({ processBlock: function processBlock(e, a) {\n\t      var b = this._cipher,\n\t          c = b.blockSize,\n\t          d = e.slice(a, a + c);b.decryptBlock(e, a);x.call(this, e, a, c);this._prevBlock = d;\n\t    } });b = b.CBC = q;q = (p.pad = {}).Pkcs7 = { pad: function pad(a, b) {\n\t      for (var c = 4 * b, c = c - a.sigBytes % c, d = c << 24 | c << 16 | c << 8 | c, l = [], n = 0; n < c; n += 4) {\n\t        l.push(d);\n\t      }c = s.create(l, c);a.concat(c);\n\t    }, unpad: function unpad(a) {\n\t      a.sigBytes -= a.words[a.sigBytes - 1 >>> 2] & 255;\n\t    } };d.BlockCipher = v.extend({ cfg: v.cfg.extend({ mode: b, padding: q }), reset: function reset() {\n\t      v.reset.call(this);var a = this.cfg,\n\t          b = a.iv,\n\t          a = a.mode;if (this._xformMode == this._ENC_XFORM_MODE) var c = a.createEncryptor;else c = a.createDecryptor, this._minBufferSize = 1;this._mode = c.call(a, this, b && b.words);\n\t    }, _doProcessBlock: function _doProcessBlock(a, b) {\n\t      this._mode.processBlock(a, b);\n\t    }, _doFinalize: function _doFinalize() {\n\t      var a = this.cfg.padding;if (this._xformMode == this._ENC_XFORM_MODE) {\n\t        a.pad(this._data, this.blockSize);var b = this._process(!0);\n\t      } else b = this._process(!0), a.unpad(b);return b;\n\t    }, blockSize: 4 });var n = d.CipherParams = l.extend({ init: function init(a) {\n\t      this.mixIn(a);\n\t    }, toString: function toString(a) {\n\t      return (a || this.formatter).stringify(this);\n\t    } }),\n\t      b = (p.format = {}).OpenSSL = { stringify: function stringify(a) {\n\t      var b = a.ciphertext;a = a.salt;return (a ? s.create([1398893684, 1701076831]).concat(a).concat(b) : b).toString(r);\n\t    }, parse: function parse(a) {\n\t      a = r.parse(a);var b = a.words;if (1398893684 == b[0] && 1701076831 == b[1]) {\n\t        var c = s.create(b.slice(2, 4));b.splice(0, 4);a.sigBytes -= 16;\n\t      }return n.create({ ciphertext: a, salt: c });\n\t    } },\n\t      a = d.SerializableCipher = l.extend({ cfg: l.extend({ format: b }), encrypt: function encrypt(a, b, c, d) {\n\t      d = this.cfg.extend(d);var l = a.createEncryptor(c, d);b = l.finalize(b);l = l.cfg;return n.create({ ciphertext: b, key: c, iv: l.iv, algorithm: a, mode: l.mode, padding: l.padding, blockSize: a.blockSize, formatter: d.format });\n\t    },\n\t    decrypt: function decrypt(a, b, c, d) {\n\t      d = this.cfg.extend(d);b = this._parse(b, d.format);return a.createDecryptor(c, d).finalize(b.ciphertext);\n\t    }, _parse: function _parse(a, b) {\n\t      return \"string\" == typeof a ? b.parse(a, this) : a;\n\t    } }),\n\t      p = (p.kdf = {}).OpenSSL = { execute: function execute(a, b, c, d) {\n\t      d || (d = s.random(8));a = w.create({ keySize: b + c }).compute(a, d);c = s.create(a.words.slice(b), 4 * c);a.sigBytes = 4 * b;return n.create({ key: a, iv: c, salt: d });\n\t    } },\n\t      c = d.PasswordBasedCipher = a.extend({ cfg: a.cfg.extend({ kdf: p }), encrypt: function encrypt(b, c, d, l) {\n\t      l = this.cfg.extend(l);d = l.kdf.execute(d, b.keySize, b.ivSize);l.iv = d.iv;b = a.encrypt.call(this, b, c, d.key, l);b.mixIn(d);return b;\n\t    }, decrypt: function decrypt(b, c, d, l) {\n\t      l = this.cfg.extend(l);c = this._parse(c, l.format);d = l.kdf.execute(d, b.keySize, b.ivSize, c.salt);l.iv = d.iv;return a.decrypt.call(this, b, c, d.key, l);\n\t    } });\n\t}();\n\n\t(function () {\n\t  for (var u = CryptoJS, p = u.lib.BlockCipher, d = u.algo, l = [], s = [], t = [], r = [], w = [], v = [], b = [], x = [], q = [], n = [], a = [], c = 0; 256 > c; c++) {\n\t    a[c] = 128 > c ? c << 1 : c << 1 ^ 283;\n\t  }for (var e = 0, j = 0, c = 0; 256 > c; c++) {\n\t    var k = j ^ j << 1 ^ j << 2 ^ j << 3 ^ j << 4,\n\t        k = k >>> 8 ^ k & 255 ^ 99;l[e] = k;s[k] = e;var z = a[e],\n\t        F = a[z],\n\t        G = a[F],\n\t        y = 257 * a[k] ^ 16843008 * k;t[e] = y << 24 | y >>> 8;r[e] = y << 16 | y >>> 16;w[e] = y << 8 | y >>> 24;v[e] = y;y = 16843009 * G ^ 65537 * F ^ 257 * z ^ 16843008 * e;b[k] = y << 24 | y >>> 8;x[k] = y << 16 | y >>> 16;q[k] = y << 8 | y >>> 24;n[k] = y;e ? (e = z ^ a[a[a[G ^ z]]], j ^= a[a[j]]) : e = j = 1;\n\t  }var H = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54],\n\t      d = d.AES = p.extend({ _doReset: function _doReset() {\n\t      for (var a = this._key, c = a.words, d = a.sigBytes / 4, a = 4 * ((this._nRounds = d + 6) + 1), e = this._keySchedule = [], j = 0; j < a; j++) {\n\t        if (j < d) e[j] = c[j];else {\n\t          var k = e[j - 1];j % d ? 6 < d && 4 == j % d && (k = l[k >>> 24] << 24 | l[k >>> 16 & 255] << 16 | l[k >>> 8 & 255] << 8 | l[k & 255]) : (k = k << 8 | k >>> 24, k = l[k >>> 24] << 24 | l[k >>> 16 & 255] << 16 | l[k >>> 8 & 255] << 8 | l[k & 255], k ^= H[j / d | 0] << 24);e[j] = e[j - d] ^ k;\n\t        }\n\t      }c = this._invKeySchedule = [];for (d = 0; d < a; d++) {\n\t        j = a - d, k = d % 4 ? e[j] : e[j - 4], c[d] = 4 > d || 4 >= j ? k : b[l[k >>> 24]] ^ x[l[k >>> 16 & 255]] ^ q[l[k >>> 8 & 255]] ^ n[l[k & 255]];\n\t      }\n\t    }, encryptBlock: function encryptBlock(a, b) {\n\t      this._doCryptBlock(a, b, this._keySchedule, t, r, w, v, l);\n\t    }, decryptBlock: function decryptBlock(a, c) {\n\t      var d = a[c + 1];a[c + 1] = a[c + 3];a[c + 3] = d;this._doCryptBlock(a, c, this._invKeySchedule, b, x, q, n, s);d = a[c + 1];a[c + 1] = a[c + 3];a[c + 3] = d;\n\t    }, _doCryptBlock: function _doCryptBlock(a, b, c, d, e, j, l, f) {\n\t      for (var m = this._nRounds, g = a[b] ^ c[0], h = a[b + 1] ^ c[1], k = a[b + 2] ^ c[2], n = a[b + 3] ^ c[3], p = 4, r = 1; r < m; r++) {\n\t        var q = d[g >>> 24] ^ e[h >>> 16 & 255] ^ j[k >>> 8 & 255] ^ l[n & 255] ^ c[p++],\n\t            s = d[h >>> 24] ^ e[k >>> 16 & 255] ^ j[n >>> 8 & 255] ^ l[g & 255] ^ c[p++],\n\t            t = d[k >>> 24] ^ e[n >>> 16 & 255] ^ j[g >>> 8 & 255] ^ l[h & 255] ^ c[p++],\n\t            n = d[n >>> 24] ^ e[g >>> 16 & 255] ^ j[h >>> 8 & 255] ^ l[k & 255] ^ c[p++],\n\t            g = q,\n\t            h = s,\n\t            k = t;\n\t      }q = (f[g >>> 24] << 24 | f[h >>> 16 & 255] << 16 | f[k >>> 8 & 255] << 8 | f[n & 255]) ^ c[p++];s = (f[h >>> 24] << 24 | f[k >>> 16 & 255] << 16 | f[n >>> 8 & 255] << 8 | f[g & 255]) ^ c[p++];t = (f[k >>> 24] << 24 | f[n >>> 16 & 255] << 16 | f[g >>> 8 & 255] << 8 | f[h & 255]) ^ c[p++];n = (f[n >>> 24] << 24 | f[g >>> 16 & 255] << 16 | f[h >>> 8 & 255] << 8 | f[k & 255]) ^ c[p++];a[b] = q;a[b + 1] = s;a[b + 2] = t;a[b + 3] = n;\n\t    }, keySize: 8 });u.AES = p._createHelper(d);\n\t})();\n\n\tCryptoJS.mode.ECB = function () {\n\t  var ECB = CryptoJS.lib.BlockCipherMode.extend();\n\n\t  ECB.Encryptor = ECB.extend({\n\t    processBlock: function processBlock(words, offset) {\n\t      this._cipher.encryptBlock(words, offset);\n\t    }\n\t  });\n\n\t  ECB.Decryptor = ECB.extend({\n\t    processBlock: function processBlock(words, offset) {\n\t      this._cipher.decryptBlock(words, offset);\n\t    }\n\t  });\n\n\t  return ECB;\n\t}();\n\n\tmodule.exports = CryptoJS;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tvar _superagent = __webpack_require__(12);\n\n\tvar _superagent2 = _interopRequireDefault(_superagent);\n\n\tvar _config = __webpack_require__(7);\n\n\tvar _config2 = _interopRequireDefault(_config);\n\n\tvar _categories = __webpack_require__(17);\n\n\tvar _categories2 = _interopRequireDefault(_categories);\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar _class = function () {\n\t  function _class(modules) {\n\t    _classCallCheck(this, _class);\n\n\t    var agentKeepAliveModule = modules.agentKeepAliveModule,\n\t        sendBeaconModule = modules.sendBeaconModule;\n\n\n\t    this._agentKeepAlive = agentKeepAliveModule;\n\t    this._sendBeacon = sendBeaconModule;\n\t  }\n\n\t  _createClass(_class, [{\n\t    key: 'init',\n\t    value: function init(config) {\n\t      this._config = config;\n\n\t      this._maxSubDomain = 20;\n\t      this._currentSubDomain = Math.floor(Math.random() * this._maxSubDomain);\n\t      this._providedFQDN = (this._config.secure ? 'https://' : 'http://') + this._config.origin;\n\t      this._coreParams = {};\n\n\t      this.shiftStandardOrigin();\n\t    }\n\t  }, {\n\t    key: 'nextOrigin',\n\t    value: function nextOrigin() {\n\t      if (this._providedFQDN.indexOf('pubsub.') === -1) {\n\t        return this._providedFQDN;\n\t      }\n\n\t      var newSubDomain = void 0;\n\n\t      this._currentSubDomain = this._currentSubDomain + 1;\n\n\t      if (this._currentSubDomain >= this._maxSubDomain) {\n\t        this._currentSubDomain = 1;\n\t      }\n\n\t      newSubDomain = this._currentSubDomain.toString();\n\n\t      return this._providedFQDN.replace('pubsub', 'ps' + newSubDomain);\n\t    }\n\t  }, {\n\t    key: 'shiftStandardOrigin',\n\t    value: function shiftStandardOrigin() {\n\t      var failover = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n\t      this._standardOrigin = this.nextOrigin(failover);\n\n\t      return this._standardOrigin;\n\t    }\n\t  }, {\n\t    key: 'getStandardOrigin',\n\t    value: function getStandardOrigin() {\n\t      return this._standardOrigin;\n\t    }\n\t  }, {\n\t    key: 'POST',\n\t    value: function POST(params, body, endpoint, callback) {\n\t      var superagentConstruct = _superagent2.default.post(this.getStandardOrigin() + endpoint.url).query(params).send(body);\n\t      return this._abstractedXDR(superagentConstruct, endpoint, callback);\n\t    }\n\t  }, {\n\t    key: 'GET',\n\t    value: function GET(params, endpoint, callback) {\n\t      var superagentConstruct = _superagent2.default.get(this.getStandardOrigin() + endpoint.url).query(params);\n\t      return this._abstractedXDR(superagentConstruct, endpoint, callback);\n\t    }\n\t  }, {\n\t    key: '_abstractedXDR',\n\t    value: function _abstractedXDR(superagentConstruct, endpoint, callback) {\n\t      var _this = this;\n\n\t      if (this._config.logVerbosity) {\n\t        superagentConstruct = superagentConstruct.use(this._attachSuperagentLogger);\n\t      }\n\n\t      if (this._config.proxy) {\n\t        superagentConstruct = superagentConstruct.proxy(this._config.proxy);\n\t      }\n\n\t      if (this._config.keepAlive && this._agentKeepAlive) {\n\t        superagentConstruct = this._agentKeepAlive(superagentConstruct);\n\t      }\n\n\t      return superagentConstruct.timeout(endpoint.timeout).end(function (err, resp) {\n\t        var status = {};\n\t        status.error = err !== null;\n\t        status.operation = endpoint.operation;\n\n\t        if (resp && resp.status) {\n\t          status.statusCode = resp.status;\n\t        }\n\n\t        if (err) {\n\t          status.errorData = err;\n\t          status.category = _this._detectErrorCategory(err);\n\t          return callback(status, null);\n\t        }\n\n\t        var parsedResponse = JSON.parse(resp.text);\n\t        return callback(status, parsedResponse);\n\t      });\n\t    }\n\t  }, {\n\t    key: '_detectErrorCategory',\n\t    value: function _detectErrorCategory(err) {\n\t      if (err.code === 'ENOTFOUND') return _categories2.default.PNNetworkIssuesCategory;\n\t      if (err.code === 'ECONNREFUSED') return _categories2.default.PNNetworkIssuesCategory;\n\t      if (err.code === 'ECONNRESET') return _categories2.default.PNNetworkIssuesCategory;\n\t      if (err.code === 'EAI_AGAIN') return _categories2.default.PNNetworkIssuesCategory;\n\n\t      if (err.status === 0 || err.hasOwnProperty('status') && typeof err.status === 'undefined') return _categories2.default.PNNetworkIssuesCategory;\n\t      if (err.timeout) return _categories2.default.PNTimeoutCategory;\n\n\t      if (err.response) {\n\t        if (err.response.badRequest) return _categories2.default.PNBadRequestCategory;\n\t        if (err.response.forbidden) return _categories2.default.PNAccessDeniedCategory;\n\t      }\n\n\t      return _categories2.default.PNUnknownCategory;\n\t    }\n\t  }, {\n\t    key: '_attachSuperagentLogger',\n\t    value: function _attachSuperagentLogger(req) {\n\t      var _pickLogger = function _pickLogger() {\n\t        if (console && console.log) return console;\n\t        if (window && window.console && window.console.log) return window.console;\n\t        return console;\n\t      };\n\n\t      var start = new Date().getTime();\n\t      var timestamp = new Date().toISOString();\n\t      var logger = _pickLogger();\n\t      logger.log('<<<<<');\n\t      logger.log('[' + timestamp + ']', '\\n', req.url, '\\n', req.qs);\n\t      logger.log('-----');\n\n\t      req.on('response', function (res) {\n\t        var now = new Date().getTime();\n\t        var elapsed = now - start;\n\t        var timestampDone = new Date().toISOString();\n\n\t        logger.log('>>>>>>');\n\t        logger.log('[' + timestampDone + ' / ' + elapsed + ']', '\\n', req.url, '\\n', req.qs, '\\n', res.text);\n\t        logger.log('-----');\n\t      });\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}();\n\n\texports.default = _class;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Root reference for iframes.\n\t */\n\n\tvar root;\n\tif (typeof window !== 'undefined') { // Browser window\n\t  root = window;\n\t} else if (typeof self !== 'undefined') { // Web Worker\n\t  root = self;\n\t} else { // Other environments\n\t  console.warn(\"Using browser-only version of superagent in non-browser environment\");\n\t  root = this;\n\t}\n\n\tvar Emitter = __webpack_require__(13);\n\tvar requestBase = __webpack_require__(14);\n\tvar isObject = __webpack_require__(15);\n\n\t/**\n\t * Noop.\n\t */\n\n\tfunction noop(){};\n\n\t/**\n\t * Expose `request`.\n\t */\n\n\tvar request = module.exports = __webpack_require__(16).bind(null, Request);\n\n\t/**\n\t * Determine XHR.\n\t */\n\n\trequest.getXHR = function () {\n\t  if (root.XMLHttpRequest\n\t      && (!root.location || 'file:' != root.location.protocol\n\t          || !root.ActiveXObject)) {\n\t    return new XMLHttpRequest;\n\t  } else {\n\t    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n\t    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n\t    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n\t    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n\t  }\n\t  throw Error(\"Browser-only verison of superagent could not find XHR\");\n\t};\n\n\t/**\n\t * Removes leading and trailing whitespace, added to support IE.\n\t *\n\t * @param {String} s\n\t * @return {String}\n\t * @api private\n\t */\n\n\tvar trim = ''.trim\n\t  ? function(s) { return s.trim(); }\n\t  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n\t/**\n\t * Serialize the given `obj`.\n\t *\n\t * @param {Object} obj\n\t * @return {String}\n\t * @api private\n\t */\n\n\tfunction serialize(obj) {\n\t  if (!isObject(obj)) return obj;\n\t  var pairs = [];\n\t  for (var key in obj) {\n\t    pushEncodedKeyValuePair(pairs, key, obj[key]);\n\t  }\n\t  return pairs.join('&');\n\t}\n\n\t/**\n\t * Helps 'serialize' with serializing arrays.\n\t * Mutates the pairs array.\n\t *\n\t * @param {Array} pairs\n\t * @param {String} key\n\t * @param {Mixed} val\n\t */\n\n\tfunction pushEncodedKeyValuePair(pairs, key, val) {\n\t  if (val != null) {\n\t    if (Array.isArray(val)) {\n\t      val.forEach(function(v) {\n\t        pushEncodedKeyValuePair(pairs, key, v);\n\t      });\n\t    } else if (isObject(val)) {\n\t      for(var subkey in val) {\n\t        pushEncodedKeyValuePair(pairs, key + '[' + subkey + ']', val[subkey]);\n\t      }\n\t    } else {\n\t      pairs.push(encodeURIComponent(key)\n\t        + '=' + encodeURIComponent(val));\n\t    }\n\t  } else if (val === null) {\n\t    pairs.push(encodeURIComponent(key));\n\t  }\n\t}\n\n\t/**\n\t * Expose serialization method.\n\t */\n\n\t request.serializeObject = serialize;\n\n\t /**\n\t  * Parse the given x-www-form-urlencoded `str`.\n\t  *\n\t  * @param {String} str\n\t  * @return {Object}\n\t  * @api private\n\t  */\n\n\tfunction parseString(str) {\n\t  var obj = {};\n\t  var pairs = str.split('&');\n\t  var pair;\n\t  var pos;\n\n\t  for (var i = 0, len = pairs.length; i < len; ++i) {\n\t    pair = pairs[i];\n\t    pos = pair.indexOf('=');\n\t    if (pos == -1) {\n\t      obj[decodeURIComponent(pair)] = '';\n\t    } else {\n\t      obj[decodeURIComponent(pair.slice(0, pos))] =\n\t        decodeURIComponent(pair.slice(pos + 1));\n\t    }\n\t  }\n\n\t  return obj;\n\t}\n\n\t/**\n\t * Expose parser.\n\t */\n\n\trequest.parseString = parseString;\n\n\t/**\n\t * Default MIME type map.\n\t *\n\t *     superagent.types.xml = 'application/xml';\n\t *\n\t */\n\n\trequest.types = {\n\t  html: 'text/html',\n\t  json: 'application/json',\n\t  xml: 'application/xml',\n\t  urlencoded: 'application/x-www-form-urlencoded',\n\t  'form': 'application/x-www-form-urlencoded',\n\t  'form-data': 'application/x-www-form-urlencoded'\n\t};\n\n\t/**\n\t * Default serialization map.\n\t *\n\t *     superagent.serialize['application/xml'] = function(obj){\n\t *       return 'generated xml here';\n\t *     };\n\t *\n\t */\n\n\t request.serialize = {\n\t   'application/x-www-form-urlencoded': serialize,\n\t   'application/json': JSON.stringify\n\t };\n\n\t /**\n\t  * Default parsers.\n\t  *\n\t  *     superagent.parse['application/xml'] = function(str){\n\t  *       return { object parsed from str };\n\t  *     };\n\t  *\n\t  */\n\n\trequest.parse = {\n\t  'application/x-www-form-urlencoded': parseString,\n\t  'application/json': JSON.parse\n\t};\n\n\t/**\n\t * Parse the given header `str` into\n\t * an object containing the mapped fields.\n\t *\n\t * @param {String} str\n\t * @return {Object}\n\t * @api private\n\t */\n\n\tfunction parseHeader(str) {\n\t  var lines = str.split(/\\r?\\n/);\n\t  var fields = {};\n\t  var index;\n\t  var line;\n\t  var field;\n\t  var val;\n\n\t  lines.pop(); // trailing CRLF\n\n\t  for (var i = 0, len = lines.length; i < len; ++i) {\n\t    line = lines[i];\n\t    index = line.indexOf(':');\n\t    field = line.slice(0, index).toLowerCase();\n\t    val = trim(line.slice(index + 1));\n\t    fields[field] = val;\n\t  }\n\n\t  return fields;\n\t}\n\n\t/**\n\t * Check if `mime` is json or has +json structured syntax suffix.\n\t *\n\t * @param {String} mime\n\t * @return {Boolean}\n\t * @api private\n\t */\n\n\tfunction isJSON(mime) {\n\t  return /[\\/+]json\\b/.test(mime);\n\t}\n\n\t/**\n\t * Return the mime type for the given `str`.\n\t *\n\t * @param {String} str\n\t * @return {String}\n\t * @api private\n\t */\n\n\tfunction type(str){\n\t  return str.split(/ *; */).shift();\n\t};\n\n\t/**\n\t * Return header field parameters.\n\t *\n\t * @param {String} str\n\t * @return {Object}\n\t * @api private\n\t */\n\n\tfunction params(str){\n\t  return str.split(/ *; */).reduce(function(obj, str){\n\t    var parts = str.split(/ *= */),\n\t        key = parts.shift(),\n\t        val = parts.shift();\n\n\t    if (key && val) obj[key] = val;\n\t    return obj;\n\t  }, {});\n\t};\n\n\t/**\n\t * Initialize a new `Response` with the given `xhr`.\n\t *\n\t *  - set flags (.ok, .error, etc)\n\t *  - parse header\n\t *\n\t * Examples:\n\t *\n\t *  Aliasing `superagent` as `request` is nice:\n\t *\n\t *      request = superagent;\n\t *\n\t *  We can use the promise-like API, or pass callbacks:\n\t *\n\t *      request.get('/').end(function(res){});\n\t *      request.get('/', function(res){});\n\t *\n\t *  Sending data can be chained:\n\t *\n\t *      request\n\t *        .post('/user')\n\t *        .send({ name: 'tj' })\n\t *        .end(function(res){});\n\t *\n\t *  Or passed to `.send()`:\n\t *\n\t *      request\n\t *        .post('/user')\n\t *        .send({ name: 'tj' }, function(res){});\n\t *\n\t *  Or passed to `.post()`:\n\t *\n\t *      request\n\t *        .post('/user', { name: 'tj' })\n\t *        .end(function(res){});\n\t *\n\t * Or further reduced to a single call for simple cases:\n\t *\n\t *      request\n\t *        .post('/user', { name: 'tj' }, function(res){});\n\t *\n\t * @param {XMLHTTPRequest} xhr\n\t * @param {Object} options\n\t * @api private\n\t */\n\n\tfunction Response(req, options) {\n\t  options = options || {};\n\t  this.req = req;\n\t  this.xhr = this.req.xhr;\n\t  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n\t  this.text = ((this.req.method !='HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text')) || typeof this.xhr.responseType === 'undefined')\n\t     ? this.xhr.responseText\n\t     : null;\n\t  this.statusText = this.req.xhr.statusText;\n\t  this._setStatusProperties(this.xhr.status);\n\t  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n\t  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n\t  // getResponseHeader still works. so we get content-type even if getting\n\t  // other headers fails.\n\t  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n\t  this._setHeaderProperties(this.header);\n\t  this.body = this.req.method != 'HEAD'\n\t    ? this._parseBody(this.text ? this.text : this.xhr.response)\n\t    : null;\n\t}\n\n\t/**\n\t * Get case-insensitive `field` value.\n\t *\n\t * @param {String} field\n\t * @return {String}\n\t * @api public\n\t */\n\n\tResponse.prototype.get = function(field){\n\t  return this.header[field.toLowerCase()];\n\t};\n\n\t/**\n\t * Set header related properties:\n\t *\n\t *   - `.type` the content type without params\n\t *\n\t * A response of \"Content-Type: text/plain; charset=utf-8\"\n\t * will provide you with a `.type` of \"text/plain\".\n\t *\n\t * @param {Object} header\n\t * @api private\n\t */\n\n\tResponse.prototype._setHeaderProperties = function(header){\n\t  // content-type\n\t  var ct = this.header['content-type'] || '';\n\t  this.type = type(ct);\n\n\t  // params\n\t  var obj = params(ct);\n\t  for (var key in obj) this[key] = obj[key];\n\t};\n\n\t/**\n\t * Parse the given body `str`.\n\t *\n\t * Used for auto-parsing of bodies. Parsers\n\t * are defined on the `superagent.parse` object.\n\t *\n\t * @param {String} str\n\t * @return {Mixed}\n\t * @api private\n\t */\n\n\tResponse.prototype._parseBody = function(str){\n\t  var parse = request.parse[this.type];\n\t  if (!parse && isJSON(this.type)) {\n\t    parse = request.parse['application/json'];\n\t  }\n\t  return parse && str && (str.length || str instanceof Object)\n\t    ? parse(str)\n\t    : null;\n\t};\n\n\t/**\n\t * Set flags such as `.ok` based on `status`.\n\t *\n\t * For example a 2xx response will give you a `.ok` of __true__\n\t * whereas 5xx will be __false__ and `.error` will be __true__. The\n\t * `.clientError` and `.serverError` are also available to be more\n\t * specific, and `.statusType` is the class of error ranging from 1..5\n\t * sometimes useful for mapping respond colors etc.\n\t *\n\t * \"sugar\" properties are also defined for common cases. Currently providing:\n\t *\n\t *   - .noContent\n\t *   - .badRequest\n\t *   - .unauthorized\n\t *   - .notAcceptable\n\t *   - .notFound\n\t *\n\t * @param {Number} status\n\t * @api private\n\t */\n\n\tResponse.prototype._setStatusProperties = function(status){\n\t  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n\t  if (status === 1223) {\n\t    status = 204;\n\t  }\n\n\t  var type = status / 100 | 0;\n\n\t  // status / class\n\t  this.status = this.statusCode = status;\n\t  this.statusType = type;\n\n\t  // basics\n\t  this.info = 1 == type;\n\t  this.ok = 2 == type;\n\t  this.clientError = 4 == type;\n\t  this.serverError = 5 == type;\n\t  this.error = (4 == type || 5 == type)\n\t    ? this.toError()\n\t    : false;\n\n\t  // sugar\n\t  this.accepted = 202 == status;\n\t  this.noContent = 204 == status;\n\t  this.badRequest = 400 == status;\n\t  this.unauthorized = 401 == status;\n\t  this.notAcceptable = 406 == status;\n\t  this.notFound = 404 == status;\n\t  this.forbidden = 403 == status;\n\t};\n\n\t/**\n\t * Return an `Error` representative of this response.\n\t *\n\t * @return {Error}\n\t * @api public\n\t */\n\n\tResponse.prototype.toError = function(){\n\t  var req = this.req;\n\t  var method = req.method;\n\t  var url = req.url;\n\n\t  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n\t  var err = new Error(msg);\n\t  err.status = this.status;\n\t  err.method = method;\n\t  err.url = url;\n\n\t  return err;\n\t};\n\n\t/**\n\t * Expose `Response`.\n\t */\n\n\trequest.Response = Response;\n\n\t/**\n\t * Initialize a new `Request` with the given `method` and `url`.\n\t *\n\t * @param {String} method\n\t * @param {String} url\n\t * @api public\n\t */\n\n\tfunction Request(method, url) {\n\t  var self = this;\n\t  this._query = this._query || [];\n\t  this.method = method;\n\t  this.url = url;\n\t  this.header = {}; // preserves header name case\n\t  this._header = {}; // coerces header names to lowercase\n\t  this.on('end', function(){\n\t    var err = null;\n\t    var res = null;\n\n\t    try {\n\t      res = new Response(self);\n\t    } catch(e) {\n\t      err = new Error('Parser is unable to parse the response');\n\t      err.parse = true;\n\t      err.original = e;\n\t      // issue #675: return the raw response if the response parsing fails\n\t      err.rawResponse = self.xhr && self.xhr.responseText ? self.xhr.responseText : null;\n\t      // issue #876: return the http status code if the response parsing fails\n\t      err.statusCode = self.xhr && self.xhr.status ? self.xhr.status : null;\n\t      return self.callback(err);\n\t    }\n\n\t    self.emit('response', res);\n\n\t    var new_err;\n\t    try {\n\t      if (res.status < 200 || res.status >= 300) {\n\t        new_err = new Error(res.statusText || 'Unsuccessful HTTP response');\n\t        new_err.original = err;\n\t        new_err.response = res;\n\t        new_err.status = res.status;\n\t      }\n\t    } catch(e) {\n\t      new_err = e; // #985 touching res may cause INVALID_STATE_ERR on old Android\n\t    }\n\n\t    // #1000 don't catch errors from the callback to avoid double calling it\n\t    if (new_err) {\n\t      self.callback(new_err, res);\n\t    } else {\n\t      self.callback(null, res);\n\t    }\n\t  });\n\t}\n\n\t/**\n\t * Mixin `Emitter` and `requestBase`.\n\t */\n\n\tEmitter(Request.prototype);\n\tfor (var key in requestBase) {\n\t  Request.prototype[key] = requestBase[key];\n\t}\n\n\t/**\n\t * Set Content-Type to `type`, mapping values from `request.types`.\n\t *\n\t * Examples:\n\t *\n\t *      superagent.types.xml = 'application/xml';\n\t *\n\t *      request.post('/')\n\t *        .type('xml')\n\t *        .send(xmlstring)\n\t *        .end(callback);\n\t *\n\t *      request.post('/')\n\t *        .type('application/xml')\n\t *        .send(xmlstring)\n\t *        .end(callback);\n\t *\n\t * @param {String} type\n\t * @return {Request} for chaining\n\t * @api public\n\t */\n\n\tRequest.prototype.type = function(type){\n\t  this.set('Content-Type', request.types[type] || type);\n\t  return this;\n\t};\n\n\t/**\n\t * Set responseType to `val`. Presently valid responseTypes are 'blob' and\n\t * 'arraybuffer'.\n\t *\n\t * Examples:\n\t *\n\t *      req.get('/')\n\t *        .responseType('blob')\n\t *        .end(callback);\n\t *\n\t * @param {String} val\n\t * @return {Request} for chaining\n\t * @api public\n\t */\n\n\tRequest.prototype.responseType = function(val){\n\t  this._responseType = val;\n\t  return this;\n\t};\n\n\t/**\n\t * Set Accept to `type`, mapping values from `request.types`.\n\t *\n\t * Examples:\n\t *\n\t *      superagent.types.json = 'application/json';\n\t *\n\t *      request.get('/agent')\n\t *        .accept('json')\n\t *        .end(callback);\n\t *\n\t *      request.get('/agent')\n\t *        .accept('application/json')\n\t *        .end(callback);\n\t *\n\t * @param {String} accept\n\t * @return {Request} for chaining\n\t * @api public\n\t */\n\n\tRequest.prototype.accept = function(type){\n\t  this.set('Accept', request.types[type] || type);\n\t  return this;\n\t};\n\n\t/**\n\t * Set Authorization field value with `user` and `pass`.\n\t *\n\t * @param {String} user\n\t * @param {String} pass\n\t * @param {Object} options with 'type' property 'auto' or 'basic' (default 'basic')\n\t * @return {Request} for chaining\n\t * @api public\n\t */\n\n\tRequest.prototype.auth = function(user, pass, options){\n\t  if (!options) {\n\t    options = {\n\t      type: 'basic'\n\t    }\n\t  }\n\n\t  switch (options.type) {\n\t    case 'basic':\n\t      var str = btoa(user + ':' + pass);\n\t      this.set('Authorization', 'Basic ' + str);\n\t    break;\n\n\t    case 'auto':\n\t      this.username = user;\n\t      this.password = pass;\n\t    break;\n\t  }\n\t  return this;\n\t};\n\n\t/**\n\t* Add query-string `val`.\n\t*\n\t* Examples:\n\t*\n\t*   request.get('/shoes')\n\t*     .query('size=10')\n\t*     .query({ color: 'blue' })\n\t*\n\t* @param {Object|String} val\n\t* @return {Request} for chaining\n\t* @api public\n\t*/\n\n\tRequest.prototype.query = function(val){\n\t  if ('string' != typeof val) val = serialize(val);\n\t  if (val) this._query.push(val);\n\t  return this;\n\t};\n\n\t/**\n\t * Queue the given `file` as an attachment to the specified `field`,\n\t * with optional `filename`.\n\t *\n\t * ``` js\n\t * request.post('/upload')\n\t *   .attach('content', new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n\t *   .end(callback);\n\t * ```\n\t *\n\t * @param {String} field\n\t * @param {Blob|File} file\n\t * @param {String} filename\n\t * @return {Request} for chaining\n\t * @api public\n\t */\n\n\tRequest.prototype.attach = function(field, file, filename){\n\t  this._getFormData().append(field, file, filename || file.name);\n\t  return this;\n\t};\n\n\tRequest.prototype._getFormData = function(){\n\t  if (!this._formData) {\n\t    this._formData = new root.FormData();\n\t  }\n\t  return this._formData;\n\t};\n\n\t/**\n\t * Invoke the callback with `err` and `res`\n\t * and handle arity check.\n\t *\n\t * @param {Error} err\n\t * @param {Response} res\n\t * @api private\n\t */\n\n\tRequest.prototype.callback = function(err, res){\n\t  var fn = this._callback;\n\t  this.clearTimeout();\n\t  fn(err, res);\n\t};\n\n\t/**\n\t * Invoke callback with x-domain error.\n\t *\n\t * @api private\n\t */\n\n\tRequest.prototype.crossDomainError = function(){\n\t  var err = new Error('Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');\n\t  err.crossDomain = true;\n\n\t  err.status = this.status;\n\t  err.method = this.method;\n\t  err.url = this.url;\n\n\t  this.callback(err);\n\t};\n\n\t/**\n\t * Invoke callback with timeout error.\n\t *\n\t * @api private\n\t */\n\n\tRequest.prototype._timeoutError = function(){\n\t  var timeout = this._timeout;\n\t  var err = new Error('timeout of ' + timeout + 'ms exceeded');\n\t  err.timeout = timeout;\n\t  this.callback(err);\n\t};\n\n\t/**\n\t * Compose querystring to append to req.url\n\t *\n\t * @api private\n\t */\n\n\tRequest.prototype._appendQueryString = function(){\n\t  var query = this._query.join('&');\n\t  if (query) {\n\t    this.url += ~this.url.indexOf('?')\n\t      ? '&' + query\n\t      : '?' + query;\n\t  }\n\t};\n\n\t/**\n\t * Initiate request, invoking callback `fn(res)`\n\t * with an instanceof `Response`.\n\t *\n\t * @param {Function} fn\n\t * @return {Request} for chaining\n\t * @api public\n\t */\n\n\tRequest.prototype.end = function(fn){\n\t  var self = this;\n\t  var xhr = this.xhr = request.getXHR();\n\t  var timeout = this._timeout;\n\t  var data = this._formData || this._data;\n\n\t  // store callback\n\t  this._callback = fn || noop;\n\n\t  // state change\n\t  xhr.onreadystatechange = function(){\n\t    if (4 != xhr.readyState) return;\n\n\t    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n\t    // result in the error \"Could not complete the operation due to error c00c023f\"\n\t    var status;\n\t    try { status = xhr.status } catch(e) { status = 0; }\n\n\t    if (0 == status) {\n\t      if (self.timedout) return self._timeoutError();\n\t      if (self._aborted) return;\n\t      return self.crossDomainError();\n\t    }\n\t    self.emit('end');\n\t  };\n\n\t  // progress\n\t  var handleProgress = function(direction, e) {\n\t    if (e.total > 0) {\n\t      e.percent = e.loaded / e.total * 100;\n\t    }\n\t    e.direction = direction;\n\t    self.emit('progress', e);\n\t  }\n\t  if (this.hasListeners('progress')) {\n\t    try {\n\t      xhr.onprogress = handleProgress.bind(null, 'download');\n\t      if (xhr.upload) {\n\t        xhr.upload.onprogress = handleProgress.bind(null, 'upload');\n\t      }\n\t    } catch(e) {\n\t      // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n\t      // Reported here:\n\t      // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n\t    }\n\t  }\n\n\t  // timeout\n\t  if (timeout && !this._timer) {\n\t    this._timer = setTimeout(function(){\n\t      self.timedout = true;\n\t      self.abort();\n\t    }, timeout);\n\t  }\n\n\t  // querystring\n\t  this._appendQueryString();\n\n\t  // initiate request\n\t  if (this.username && this.password) {\n\t    xhr.open(this.method, this.url, true, this.username, this.password);\n\t  } else {\n\t    xhr.open(this.method, this.url, true);\n\t  }\n\n\t  // CORS\n\t  if (this._withCredentials) xhr.withCredentials = true;\n\n\t  // body\n\t  if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !this._isHost(data)) {\n\t    // serialize stuff\n\t    var contentType = this._header['content-type'];\n\t    var serialize = this._serializer || request.serialize[contentType ? contentType.split(';')[0] : ''];\n\t    if (!serialize && isJSON(contentType)) serialize = request.serialize['application/json'];\n\t    if (serialize) data = serialize(data);\n\t  }\n\n\t  // set header fields\n\t  for (var field in this.header) {\n\t    if (null == this.header[field]) continue;\n\t    xhr.setRequestHeader(field, this.header[field]);\n\t  }\n\n\t  if (this._responseType) {\n\t    xhr.responseType = this._responseType;\n\t  }\n\n\t  // send stuff\n\t  this.emit('request', this);\n\n\t  // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n\t  // We need null here if data is undefined\n\t  xhr.send(typeof data !== 'undefined' ? data : null);\n\t  return this;\n\t};\n\n\n\t/**\n\t * Expose `Request`.\n\t */\n\n\trequest.Request = Request;\n\n\t/**\n\t * GET `url` with optional callback `fn(res)`.\n\t *\n\t * @param {String} url\n\t * @param {Mixed|Function} [data] or fn\n\t * @param {Function} [fn]\n\t * @return {Request}\n\t * @api public\n\t */\n\n\trequest.get = function(url, data, fn){\n\t  var req = request('GET', url);\n\t  if ('function' == typeof data) fn = data, data = null;\n\t  if (data) req.query(data);\n\t  if (fn) req.end(fn);\n\t  return req;\n\t};\n\n\t/**\n\t * HEAD `url` with optional callback `fn(res)`.\n\t *\n\t * @param {String} url\n\t * @param {Mixed|Function} [data] or fn\n\t * @param {Function} [fn]\n\t * @return {Request}\n\t * @api public\n\t */\n\n\trequest.head = function(url, data, fn){\n\t  var req = request('HEAD', url);\n\t  if ('function' == typeof data) fn = data, data = null;\n\t  if (data) req.send(data);\n\t  if (fn) req.end(fn);\n\t  return req;\n\t};\n\n\t/**\n\t * OPTIONS query to `url` with optional callback `fn(res)`.\n\t *\n\t * @param {String} url\n\t * @param {Mixed|Function} [data] or fn\n\t * @param {Function} [fn]\n\t * @return {Request}\n\t * @api public\n\t */\n\n\trequest.options = function(url, data, fn){\n\t  var req = request('OPTIONS', url);\n\t  if ('function' == typeof data) fn = data, data = null;\n\t  if (data) req.send(data);\n\t  if (fn) req.end(fn);\n\t  return req;\n\t};\n\n\t/**\n\t * DELETE `url` with optional callback `fn(res)`.\n\t *\n\t * @param {String} url\n\t * @param {Function} [fn]\n\t * @return {Request}\n\t * @api public\n\t */\n\n\tfunction del(url, fn){\n\t  var req = request('DELETE', url);\n\t  if (fn) req.end(fn);\n\t  return req;\n\t};\n\n\trequest['del'] = del;\n\trequest['delete'] = del;\n\n\t/**\n\t * PATCH `url` with optional `data` and callback `fn(res)`.\n\t *\n\t * @param {String} url\n\t * @param {Mixed} [data]\n\t * @param {Function} [fn]\n\t * @return {Request}\n\t * @api public\n\t */\n\n\trequest.patch = function(url, data, fn){\n\t  var req = request('PATCH', url);\n\t  if ('function' == typeof data) fn = data, data = null;\n\t  if (data) req.send(data);\n\t  if (fn) req.end(fn);\n\t  return req;\n\t};\n\n\t/**\n\t * POST `url` with optional `data` and callback `fn(res)`.\n\t *\n\t * @param {String} url\n\t * @param {Mixed} [data]\n\t * @param {Function} [fn]\n\t * @return {Request}\n\t * @api public\n\t */\n\n\trequest.post = function(url, data, fn){\n\t  var req = request('POST', url);\n\t  if ('function' == typeof data) fn = data, data = null;\n\t  if (data) req.send(data);\n\t  if (fn) req.end(fn);\n\t  return req;\n\t};\n\n\t/**\n\t * PUT `url` with optional `data` and callback `fn(res)`.\n\t *\n\t * @param {String} url\n\t * @param {Mixed|Function} [data] or fn\n\t * @param {Function} [fn]\n\t * @return {Request}\n\t * @api public\n\t */\n\n\trequest.put = function(url, data, fn){\n\t  var req = request('PUT', url);\n\t  if ('function' == typeof data) fn = data, data = null;\n\t  if (data) req.send(data);\n\t  if (fn) req.end(fn);\n\t  return req;\n\t};\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\r\n\t/**\r\n\t * Expose `Emitter`.\r\n\t */\r\n\r\n\tif (true) {\r\n\t  module.exports = Emitter;\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize a new `Emitter`.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction Emitter(obj) {\r\n\t  if (obj) return mixin(obj);\r\n\t};\r\n\r\n\t/**\r\n\t * Mixin the emitter properties.\r\n\t *\r\n\t * @param {Object} obj\r\n\t * @return {Object}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction mixin(obj) {\r\n\t  for (var key in Emitter.prototype) {\r\n\t    obj[key] = Emitter.prototype[key];\r\n\t  }\r\n\t  return obj;\r\n\t}\r\n\r\n\t/**\r\n\t * Listen on the given `event` with `fn`.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Function} fn\r\n\t * @return {Emitter}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.on =\r\n\tEmitter.prototype.addEventListener = function(event, fn){\r\n\t  this._callbacks = this._callbacks || {};\r\n\t  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n\t    .push(fn);\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Adds an `event` listener that will be invoked a single\r\n\t * time then automatically removed.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Function} fn\r\n\t * @return {Emitter}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.once = function(event, fn){\r\n\t  function on() {\r\n\t    this.off(event, on);\r\n\t    fn.apply(this, arguments);\r\n\t  }\r\n\r\n\t  on.fn = fn;\r\n\t  this.on(event, on);\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Remove the given callback for `event` or all\r\n\t * registered callbacks.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Function} fn\r\n\t * @return {Emitter}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.off =\r\n\tEmitter.prototype.removeListener =\r\n\tEmitter.prototype.removeAllListeners =\r\n\tEmitter.prototype.removeEventListener = function(event, fn){\r\n\t  this._callbacks = this._callbacks || {};\r\n\r\n\t  // all\r\n\t  if (0 == arguments.length) {\r\n\t    this._callbacks = {};\r\n\t    return this;\r\n\t  }\r\n\r\n\t  // specific event\r\n\t  var callbacks = this._callbacks['$' + event];\r\n\t  if (!callbacks) return this;\r\n\r\n\t  // remove all handlers\r\n\t  if (1 == arguments.length) {\r\n\t    delete this._callbacks['$' + event];\r\n\t    return this;\r\n\t  }\r\n\r\n\t  // remove specific handler\r\n\t  var cb;\r\n\t  for (var i = 0; i < callbacks.length; i++) {\r\n\t    cb = callbacks[i];\r\n\t    if (cb === fn || cb.fn === fn) {\r\n\t      callbacks.splice(i, 1);\r\n\t      break;\r\n\t    }\r\n\t  }\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Emit `event` with the given args.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Mixed} ...\r\n\t * @return {Emitter}\r\n\t */\r\n\r\n\tEmitter.prototype.emit = function(event){\r\n\t  this._callbacks = this._callbacks || {};\r\n\t  var args = [].slice.call(arguments, 1)\r\n\t    , callbacks = this._callbacks['$' + event];\r\n\r\n\t  if (callbacks) {\r\n\t    callbacks = callbacks.slice(0);\r\n\t    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n\t      callbacks[i].apply(this, args);\r\n\t    }\r\n\t  }\r\n\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Return array of callbacks for `event`.\r\n\t *\r\n\t * @param {String} event\r\n\t * @return {Array}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.listeners = function(event){\r\n\t  this._callbacks = this._callbacks || {};\r\n\t  return this._callbacks['$' + event] || [];\r\n\t};\r\n\r\n\t/**\r\n\t * Check if this emitter has `event` handlers.\r\n\t *\r\n\t * @param {String} event\r\n\t * @return {Boolean}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.hasListeners = function(event){\r\n\t  return !! this.listeners(event).length;\r\n\t};\r\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Module of mixed-in functions shared between node and client code\n\t */\n\tvar isObject = __webpack_require__(15);\n\n\t/**\n\t * Clear previous timeout.\n\t *\n\t * @return {Request} for chaining\n\t * @api public\n\t */\n\n\texports.clearTimeout = function _clearTimeout(){\n\t  this._timeout = 0;\n\t  clearTimeout(this._timer);\n\t  return this;\n\t};\n\n\t/**\n\t * Override default response body parser\n\t *\n\t * This function will be called to convert incoming data into request.body\n\t *\n\t * @param {Function}\n\t * @api public\n\t */\n\n\texports.parse = function parse(fn){\n\t  this._parser = fn;\n\t  return this;\n\t};\n\n\t/**\n\t * Override default request body serializer\n\t *\n\t * This function will be called to convert data set via .send or .attach into payload to send\n\t *\n\t * @param {Function}\n\t * @api public\n\t */\n\n\texports.serialize = function serialize(fn){\n\t  this._serializer = fn;\n\t  return this;\n\t};\n\n\t/**\n\t * Set timeout to `ms`.\n\t *\n\t * @param {Number} ms\n\t * @return {Request} for chaining\n\t * @api public\n\t */\n\n\texports.timeout = function timeout(ms){\n\t  this._timeout = ms;\n\t  return this;\n\t};\n\n\t/**\n\t * Promise support\n\t *\n\t * @param {Function} resolve\n\t * @param {Function} reject\n\t * @return {Request}\n\t */\n\n\texports.then = function then(resolve, reject) {\n\t  if (!this._fullfilledPromise) {\n\t    var self = this;\n\t    this._fullfilledPromise = new Promise(function(innerResolve, innerReject){\n\t      self.end(function(err, res){\n\t        if (err) innerReject(err); else innerResolve(res);\n\t      });\n\t    });\n\t  }\n\t  return this._fullfilledPromise.then(resolve, reject);\n\t}\n\n\texports.catch = function(cb) {\n\t  return this.then(undefined, cb);\n\t};\n\n\t/**\n\t * Allow for extension\n\t */\n\n\texports.use = function use(fn) {\n\t  fn(this);\n\t  return this;\n\t}\n\n\n\t/**\n\t * Get request header `field`.\n\t * Case-insensitive.\n\t *\n\t * @param {String} field\n\t * @return {String}\n\t * @api public\n\t */\n\n\texports.get = function(field){\n\t  return this._header[field.toLowerCase()];\n\t};\n\n\t/**\n\t * Get case-insensitive header `field` value.\n\t * This is a deprecated internal API. Use `.get(field)` instead.\n\t *\n\t * (getHeader is no longer used internally by the superagent code base)\n\t *\n\t * @param {String} field\n\t * @return {String}\n\t * @api private\n\t * @deprecated\n\t */\n\n\texports.getHeader = exports.get;\n\n\t/**\n\t * Set header `field` to `val`, or multiple fields with one object.\n\t * Case-insensitive.\n\t *\n\t * Examples:\n\t *\n\t *      req.get('/')\n\t *        .set('Accept', 'application/json')\n\t *        .set('X-API-Key', 'foobar')\n\t *        .end(callback);\n\t *\n\t *      req.get('/')\n\t *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n\t *        .end(callback);\n\t *\n\t * @param {String|Object} field\n\t * @param {String} val\n\t * @return {Request} for chaining\n\t * @api public\n\t */\n\n\texports.set = function(field, val){\n\t  if (isObject(field)) {\n\t    for (var key in field) {\n\t      this.set(key, field[key]);\n\t    }\n\t    return this;\n\t  }\n\t  this._header[field.toLowerCase()] = val;\n\t  this.header[field] = val;\n\t  return this;\n\t};\n\n\t/**\n\t * Remove header `field`.\n\t * Case-insensitive.\n\t *\n\t * Example:\n\t *\n\t *      req.get('/')\n\t *        .unset('User-Agent')\n\t *        .end(callback);\n\t *\n\t * @param {String} field\n\t */\n\texports.unset = function(field){\n\t  delete this._header[field.toLowerCase()];\n\t  delete this.header[field];\n\t  return this;\n\t};\n\n\t/**\n\t * Write the field `name` and `val`, or multiple fields with one object\n\t * for \"multipart/form-data\" request bodies.\n\t *\n\t * ``` js\n\t * request.post('/upload')\n\t *   .field('foo', 'bar')\n\t *   .end(callback);\n\t *\n\t * request.post('/upload')\n\t *   .field({ foo: 'bar', baz: 'qux' })\n\t *   .end(callback);\n\t * ```\n\t *\n\t * @param {String|Object} name\n\t * @param {String|Blob|File|Buffer|fs.ReadStream} val\n\t * @return {Request} for chaining\n\t * @api public\n\t */\n\texports.field = function(name, val) {\n\n\t  // name should be either a string or an object.\n\t  if (null === name ||  undefined === name) {\n\t    throw new Error('.field(name, val) name can not be empty');\n\t  }\n\n\t  if (isObject(name)) {\n\t    for (var key in name) {\n\t      this.field(key, name[key]);\n\t    }\n\t    return this;\n\t  }\n\n\t  // val should be defined now\n\t  if (null === val || undefined === val) {\n\t    throw new Error('.field(name, val) val can not be empty');\n\t  }\n\t  this._getFormData().append(name, val);\n\t  return this;\n\t};\n\n\t/**\n\t * Abort the request, and clear potential timeout.\n\t *\n\t * @return {Request}\n\t * @api public\n\t */\n\texports.abort = function(){\n\t  if (this._aborted) {\n\t    return this;\n\t  }\n\t  this._aborted = true;\n\t  this.xhr && this.xhr.abort(); // browser\n\t  this.req && this.req.abort(); // node\n\t  this.clearTimeout();\n\t  this.emit('abort');\n\t  return this;\n\t};\n\n\t/**\n\t * Enable transmission of cookies with x-domain requests.\n\t *\n\t * Note that for this to work the origin must not be\n\t * using \"Access-Control-Allow-Origin\" with a wildcard,\n\t * and also must set \"Access-Control-Allow-Credentials\"\n\t * to \"true\".\n\t *\n\t * @api public\n\t */\n\n\texports.withCredentials = function(){\n\t  // This is browser-only functionality. Node side is no-op.\n\t  this._withCredentials = true;\n\t  return this;\n\t};\n\n\t/**\n\t * Set the max redirects to `n`. Does noting in browser XHR implementation.\n\t *\n\t * @param {Number} n\n\t * @return {Request} for chaining\n\t * @api public\n\t */\n\n\texports.redirects = function(n){\n\t  this._maxRedirects = n;\n\t  return this;\n\t};\n\n\t/**\n\t * Convert to a plain javascript object (not JSON string) of scalar properties.\n\t * Note as this method is designed to return a useful non-this value,\n\t * it cannot be chained.\n\t *\n\t * @return {Object} describing method, url, and data of this request\n\t * @api public\n\t */\n\n\texports.toJSON = function(){\n\t  return {\n\t    method: this.method,\n\t    url: this.url,\n\t    data: this._data,\n\t    headers: this._header\n\t  };\n\t};\n\n\t/**\n\t * Check if `obj` is a host object,\n\t * we don't want to serialize these :)\n\t *\n\t * TODO: future proof, move to compoent land\n\t *\n\t * @param {Object} obj\n\t * @return {Boolean}\n\t * @api private\n\t */\n\n\texports._isHost = function _isHost(obj) {\n\t  var str = {}.toString.call(obj);\n\n\t  switch (str) {\n\t    case '[object File]':\n\t    case '[object Blob]':\n\t    case '[object FormData]':\n\t      return true;\n\t    default:\n\t      return false;\n\t  }\n\t}\n\n\t/**\n\t * Send `data` as the request body, defaulting the `.type()` to \"json\" when\n\t * an object is given.\n\t *\n\t * Examples:\n\t *\n\t *       // manual json\n\t *       request.post('/user')\n\t *         .type('json')\n\t *         .send('{\"name\":\"tj\"}')\n\t *         .end(callback)\n\t *\n\t *       // auto json\n\t *       request.post('/user')\n\t *         .send({ name: 'tj' })\n\t *         .end(callback)\n\t *\n\t *       // manual x-www-form-urlencoded\n\t *       request.post('/user')\n\t *         .type('form')\n\t *         .send('name=tj')\n\t *         .end(callback)\n\t *\n\t *       // auto x-www-form-urlencoded\n\t *       request.post('/user')\n\t *         .type('form')\n\t *         .send({ name: 'tj' })\n\t *         .end(callback)\n\t *\n\t *       // defaults to x-www-form-urlencoded\n\t *      request.post('/user')\n\t *        .send('name=tobi')\n\t *        .send('species=ferret')\n\t *        .end(callback)\n\t *\n\t * @param {String|Object} data\n\t * @return {Request} for chaining\n\t * @api public\n\t */\n\n\texports.send = function(data){\n\t  var obj = isObject(data);\n\t  var type = this._header['content-type'];\n\n\t  // merge\n\t  if (obj && isObject(this._data)) {\n\t    for (var key in data) {\n\t      this._data[key] = data[key];\n\t    }\n\t  } else if ('string' == typeof data) {\n\t    // default to x-www-form-urlencoded\n\t    if (!type) this.type('form');\n\t    type = this._header['content-type'];\n\t    if ('application/x-www-form-urlencoded' == type) {\n\t      this._data = this._data\n\t        ? this._data + '&' + data\n\t        : data;\n\t    } else {\n\t      this._data = (this._data || '') + data;\n\t    }\n\t  } else {\n\t    this._data = data;\n\t  }\n\n\t  if (!obj || this._isHost(data)) return this;\n\n\t  // default to json\n\t  if (!type) this.type('json');\n\t  return this;\n\t};\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Check if `obj` is an object.\n\t *\n\t * @param {Object} obj\n\t * @return {Boolean}\n\t * @api private\n\t */\n\n\tfunction isObject(obj) {\n\t  return null !== obj && 'object' === typeof obj;\n\t}\n\n\tmodule.exports = isObject;\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t// The node and browser modules expose versions of this with the\n\t// appropriate constructor function bound as first argument\n\t/**\n\t * Issue a request:\n\t *\n\t * Examples:\n\t *\n\t *    request('GET', '/users').end(callback)\n\t *    request('/users').end(callback)\n\t *    request('/users', callback)\n\t *\n\t * @param {String} method\n\t * @param {String|Function} url or callback\n\t * @return {Request}\n\t * @api public\n\t */\n\n\tfunction request(RequestConstructor, method, url) {\n\t  // callback\n\t  if ('function' == typeof url) {\n\t    return new RequestConstructor('GET', method).end(url);\n\t  }\n\n\t  // url first\n\t  if (2 == arguments.length) {\n\t    return new RequestConstructor('GET', method);\n\t  }\n\n\t  return new RequestConstructor(method, url);\n\t}\n\n\tmodule.exports = request;\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  PNNetworkUpCategory: 'PNNetworkUpCategory',\n\n\t  PNNetworkDownCategory: 'PNNetworkDownCategory',\n\n\t  PNNetworkIssuesCategory: 'PNNetworkIssuesCategory',\n\n\t  PNTimeoutCategory: 'PNTimeoutCategory',\n\n\t  PNBadRequestCategory: 'PNBadRequestCategory',\n\n\t  PNAccessDeniedCategory: 'PNAccessDeniedCategory',\n\n\t  PNUnknownCategory: 'PNUnknownCategory',\n\n\t  PNReconnectedCategory: 'PNReconnectedCategory',\n\n\t  PNConnectedCategory: 'PNConnectedCategory',\n\n\t  PNRequestMessageCountExceededCategory: 'PNRequestMessageCountExceededCategory'\n\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tvar _cryptography = __webpack_require__(9);\n\n\tvar _cryptography2 = _interopRequireDefault(_cryptography);\n\n\tvar _config = __webpack_require__(7);\n\n\tvar _config2 = _interopRequireDefault(_config);\n\n\tvar _listener_manager = __webpack_require__(19);\n\n\tvar _listener_manager2 = _interopRequireDefault(_listener_manager);\n\n\tvar _reconnection_manager = __webpack_require__(20);\n\n\tvar _reconnection_manager2 = _interopRequireDefault(_reconnection_manager);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _categories = __webpack_require__(17);\n\n\tvar _categories2 = _interopRequireDefault(_categories);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar _class = function () {\n\t  function _class(_ref) {\n\t    var subscribeEndpoint = _ref.subscribeEndpoint,\n\t        leaveEndpoint = _ref.leaveEndpoint,\n\t        heartbeatEndpoint = _ref.heartbeatEndpoint,\n\t        setStateEndpoint = _ref.setStateEndpoint,\n\t        timeEndpoint = _ref.timeEndpoint,\n\t        config = _ref.config,\n\t        crypto = _ref.crypto,\n\t        listenerManager = _ref.listenerManager;\n\n\t    _classCallCheck(this, _class);\n\n\t    this._listenerManager = listenerManager;\n\t    this._config = config;\n\n\t    this._leaveEndpoint = leaveEndpoint;\n\t    this._heartbeatEndpoint = heartbeatEndpoint;\n\t    this._setStateEndpoint = setStateEndpoint;\n\t    this._subscribeEndpoint = subscribeEndpoint;\n\n\t    this._crypto = crypto;\n\n\t    this._channels = {};\n\t    this._presenceChannels = {};\n\n\t    this._channelGroups = {};\n\t    this._presenceChannelGroups = {};\n\n\t    this._pendingChannelSubscriptions = [];\n\t    this._pendingChannelGroupSubscriptions = [];\n\n\t    this._timetoken = 0;\n\t    this._subscriptionStatusAnnounced = false;\n\n\t    this._reconnectionManager = new _reconnection_manager2.default({ timeEndpoint: timeEndpoint });\n\t  }\n\n\t  _createClass(_class, [{\n\t    key: 'adaptStateChange',\n\t    value: function adaptStateChange(args, callback) {\n\t      var _this = this;\n\n\t      var state = args.state,\n\t          _args$channels = args.channels,\n\t          channels = _args$channels === undefined ? [] : _args$channels,\n\t          _args$channelGroups = args.channelGroups,\n\t          channelGroups = _args$channelGroups === undefined ? [] : _args$channelGroups;\n\n\n\t      channels.forEach(function (channel) {\n\t        if (channel in _this._channels) _this._channels[channel].state = state;\n\t      });\n\n\t      channelGroups.forEach(function (channelGroup) {\n\t        if (channelGroup in _this._channelGroups) _this._channelGroups[channelGroup].state = state;\n\t      });\n\n\t      return this._setStateEndpoint({ state: state, channels: channels, channelGroups: channelGroups }, callback);\n\t    }\n\t  }, {\n\t    key: 'adaptSubscribeChange',\n\t    value: function adaptSubscribeChange(args) {\n\t      var _this2 = this;\n\n\t      var timetoken = args.timetoken,\n\t          _args$channels2 = args.channels,\n\t          channels = _args$channels2 === undefined ? [] : _args$channels2,\n\t          _args$channelGroups2 = args.channelGroups,\n\t          channelGroups = _args$channelGroups2 === undefined ? [] : _args$channelGroups2,\n\t          _args$withPresence = args.withPresence,\n\t          withPresence = _args$withPresence === undefined ? false : _args$withPresence;\n\n\n\t      if (!this._config.subscribeKey || this._config.subscribeKey === '') {\n\t        if (console && console.log) console.log('subscribe key missing; aborting subscribe');\n\t        return;\n\t      }\n\n\t      if (timetoken) this._timetoken = timetoken;\n\n\t      channels.forEach(function (channel) {\n\t        _this2._channels[channel] = { state: {} };\n\t        if (withPresence) _this2._presenceChannels[channel] = {};\n\n\t        _this2._pendingChannelSubscriptions.push(channel);\n\t      });\n\n\t      channelGroups.forEach(function (channelGroup) {\n\t        _this2._channelGroups[channelGroup] = { state: {} };\n\t        if (withPresence) _this2._presenceChannelGroups[channelGroup] = {};\n\n\t        _this2._pendingChannelGroupSubscriptions.push(channelGroup);\n\t      });\n\n\t      this._subscriptionStatusAnnounced = false;\n\t      this.reconnect();\n\t    }\n\t  }, {\n\t    key: 'adaptUnsubscribeChange',\n\t    value: function adaptUnsubscribeChange(args) {\n\t      var _this3 = this;\n\n\t      var _args$channels3 = args.channels,\n\t          channels = _args$channels3 === undefined ? [] : _args$channels3,\n\t          _args$channelGroups3 = args.channelGroups,\n\t          channelGroups = _args$channelGroups3 === undefined ? [] : _args$channelGroups3;\n\n\n\t      channels.forEach(function (channel) {\n\t        if (channel in _this3._channels) delete _this3._channels[channel];\n\t        if (channel in _this3._presenceChannels) delete _this3._presenceChannels[channel];\n\t      });\n\n\t      channelGroups.forEach(function (channelGroup) {\n\t        if (channelGroup in _this3._channelGroups) delete _this3._channelGroups[channelGroup];\n\t        if (channelGroup in _this3._presenceChannelGroups) delete _this3._channelGroups[channelGroup];\n\t      });\n\n\t      if (this._config.suppressLeaveEvents === false) {\n\t        this._leaveEndpoint({ channels: channels, channelGroups: channelGroups }, function (status) {\n\t          status.affectedChannels = channels;\n\t          status.affectedChannelGroups = channelGroups;\n\t          _this3._listenerManager.announceStatus(status);\n\t        });\n\t      }\n\n\t      if (Object.keys(this._channels).length === 0 && Object.keys(this._presenceChannels).length === 0 && Object.keys(this._channelGroups).length === 0 && Object.keys(this._presenceChannelGroups).length === 0) {\n\t        this._timetoken = 0;\n\t        this._region = null;\n\t        this._reconnectionManager.stopPolling();\n\t      }\n\n\t      this.reconnect();\n\t    }\n\t  }, {\n\t    key: 'unsubscribeAll',\n\t    value: function unsubscribeAll() {\n\t      this.adaptUnsubscribeChange({ channels: this.getSubscribedChannels(), channelGroups: this.getSubscribedChannelGroups() });\n\t    }\n\t  }, {\n\t    key: 'getSubscribedChannels',\n\t    value: function getSubscribedChannels() {\n\t      return Object.keys(this._channels);\n\t    }\n\t  }, {\n\t    key: 'getSubscribedChannelGroups',\n\t    value: function getSubscribedChannelGroups() {\n\t      return Object.keys(this._channelGroups);\n\t    }\n\t  }, {\n\t    key: 'reconnect',\n\t    value: function reconnect() {\n\t      this._startSubscribeLoop();\n\t      this._registerHeartbeatTimer();\n\t    }\n\t  }, {\n\t    key: 'disconnect',\n\t    value: function disconnect() {\n\t      this._stopSubscribeLoop();\n\t      this._stopHeartbeatTimer();\n\t      this._reconnectionManager.stopPolling();\n\t    }\n\t  }, {\n\t    key: '_registerHeartbeatTimer',\n\t    value: function _registerHeartbeatTimer() {\n\t      this._stopHeartbeatTimer();\n\t      this._performHeartbeatLoop();\n\t      this._heartbeatTimer = setInterval(this._performHeartbeatLoop.bind(this), this._config.getHeartbeatInterval() * 1000);\n\t    }\n\t  }, {\n\t    key: '_stopHeartbeatTimer',\n\t    value: function _stopHeartbeatTimer() {\n\t      if (this._heartbeatTimer) {\n\t        clearInterval(this._heartbeatTimer);\n\t        this._heartbeatTimer = null;\n\t      }\n\t    }\n\t  }, {\n\t    key: '_performHeartbeatLoop',\n\t    value: function _performHeartbeatLoop() {\n\t      var _this4 = this;\n\n\t      var presenceChannels = Object.keys(this._channels);\n\t      var presenceChannelGroups = Object.keys(this._channelGroups);\n\t      var presenceState = {};\n\n\t      if (presenceChannels.length === 0 && presenceChannelGroups.length === 0) {\n\t        return;\n\t      }\n\n\t      presenceChannels.forEach(function (channel) {\n\t        var channelState = _this4._channels[channel].state;\n\t        if (Object.keys(channelState).length) presenceState[channel] = channelState;\n\t      });\n\n\t      presenceChannelGroups.forEach(function (channelGroup) {\n\t        var channelGroupState = _this4._channelGroups[channelGroup].state;\n\t        if (Object.keys(channelGroupState).length) presenceState[channelGroup] = channelGroupState;\n\t      });\n\n\t      var onHeartbeat = function onHeartbeat(status) {\n\t        if (status.error && _this4._config.announceFailedHeartbeats) {\n\t          _this4._listenerManager.announceStatus(status);\n\t        }\n\n\t        if (!status.error && _this4._config.announceSuccessfulHeartbeats) {\n\t          _this4._listenerManager.announceStatus(status);\n\t        }\n\t      };\n\n\t      this._heartbeatEndpoint({\n\t        channels: presenceChannels,\n\t        channelGroups: presenceChannelGroups,\n\t        state: presenceState }, onHeartbeat.bind(this));\n\t    }\n\t  }, {\n\t    key: '_startSubscribeLoop',\n\t    value: function _startSubscribeLoop() {\n\t      this._stopSubscribeLoop();\n\t      var channels = [];\n\t      var channelGroups = [];\n\n\t      Object.keys(this._channels).forEach(function (channel) {\n\t        return channels.push(channel);\n\t      });\n\t      Object.keys(this._presenceChannels).forEach(function (channel) {\n\t        return channels.push(channel + '-pnpres');\n\t      });\n\n\t      Object.keys(this._channelGroups).forEach(function (channelGroup) {\n\t        return channelGroups.push(channelGroup);\n\t      });\n\t      Object.keys(this._presenceChannelGroups).forEach(function (channelGroup) {\n\t        return channelGroups.push(channelGroup + '-pnpres');\n\t      });\n\n\t      if (channels.length === 0 && channelGroups.length === 0) {\n\t        return;\n\t      }\n\n\t      var subscribeArgs = {\n\t        channels: channels,\n\t        channelGroups: channelGroups,\n\t        timetoken: this._timetoken,\n\t        filterExpression: this._config.filterExpression,\n\t        region: this._region\n\t      };\n\n\t      this._subscribeCall = this._subscribeEndpoint(subscribeArgs, this._processSubscribeResponse.bind(this));\n\t    }\n\t  }, {\n\t    key: '_processSubscribeResponse',\n\t    value: function _processSubscribeResponse(status, payload) {\n\t      var _this5 = this;\n\n\t      if (status.error) {\n\t        if (status.category === _categories2.default.PNTimeoutCategory) {\n\t          this._startSubscribeLoop();\n\t        } else if (status.category === _categories2.default.PNNetworkIssuesCategory) {\n\t          this.disconnect();\n\t          this._reconnectionManager.onReconnection(function () {\n\t            _this5.reconnect();\n\t            _this5._subscriptionStatusAnnounced = true;\n\t            var reconnectedAnnounce = {\n\t              category: _categories2.default.PNReconnectedCategory,\n\t              operation: status.operation\n\t            };\n\t            _this5._listenerManager.announceStatus(reconnectedAnnounce);\n\t          });\n\t          this._reconnectionManager.startPolling();\n\t          this._listenerManager.announceStatus(status);\n\t        } else {\n\t          this._listenerManager.announceStatus(status);\n\t        }\n\n\t        return;\n\t      }\n\n\t      if (!this._subscriptionStatusAnnounced) {\n\t        var connectedAnnounce = {};\n\t        connectedAnnounce.category = _categories2.default.PNConnectedCategory;\n\t        connectedAnnounce.operation = status.operation;\n\t        connectedAnnounce.affectedChannels = this._pendingChannelSubscriptions;\n\t        connectedAnnounce.affectedChannelGroups = this._pendingChannelGroupSubscriptions;\n\t        this._subscriptionStatusAnnounced = true;\n\t        this._listenerManager.announceStatus(connectedAnnounce);\n\n\t        this._pendingChannelSubscriptions = [];\n\t        this._pendingChannelGroupSubscriptions = [];\n\t      }\n\n\t      var messages = payload.messages || [];\n\t      var requestMessageCountThreshold = this._config.requestMessageCountThreshold;\n\n\n\t      if (requestMessageCountThreshold && messages.length >= requestMessageCountThreshold) {\n\t        var countAnnouncement = {};\n\t        countAnnouncement.category = _categories2.default.PNRequestMessageCountExceededCategory;\n\t        countAnnouncement.operation = status.operation;\n\t        this._listenerManager.announceStatus(countAnnouncement);\n\t      }\n\n\t      messages.forEach(function (message) {\n\t        var channel = message.channel;\n\t        var subscriptionMatch = message.subscriptionMatch;\n\t        var publishMetaData = message.publishMetaData;\n\n\t        if (channel === subscriptionMatch) {\n\t          subscriptionMatch = null;\n\t        }\n\n\t        if (_utils2.default.endsWith(message.channel, '-pnpres')) {\n\t          var announce = {};\n\t          announce.channel = null;\n\t          announce.subscription = null;\n\n\t          announce.actualChannel = subscriptionMatch != null ? channel : null;\n\t          announce.subscribedChannel = subscriptionMatch != null ? subscriptionMatch : channel;\n\n\n\t          if (channel) {\n\t            announce.channel = channel.substring(0, channel.lastIndexOf('-pnpres'));\n\t          }\n\n\t          if (subscriptionMatch) {\n\t            announce.subscription = subscriptionMatch.substring(0, subscriptionMatch.lastIndexOf('-pnpres'));\n\t          }\n\n\t          announce.action = message.payload.action;\n\t          announce.state = message.payload.data;\n\t          announce.timetoken = publishMetaData.publishTimetoken;\n\t          announce.occupancy = message.payload.occupancy;\n\t          announce.uuid = message.payload.uuid;\n\t          announce.timestamp = message.payload.timestamp;\n\t          _this5._listenerManager.announcePresence(announce);\n\t        } else {\n\t          var _announce = {};\n\t          _announce.channel = null;\n\t          _announce.subscription = null;\n\n\t          _announce.actualChannel = subscriptionMatch != null ? channel : null;\n\t          _announce.subscribedChannel = subscriptionMatch != null ? subscriptionMatch : channel;\n\n\n\t          _announce.channel = channel;\n\t          _announce.subscription = subscriptionMatch;\n\t          _announce.timetoken = publishMetaData.publishTimetoken;\n\t          _announce.publisher = message.issuingClientId;\n\n\t          if (_this5._config.cipherKey) {\n\t            _announce.message = _this5._crypto.decrypt(message.payload);\n\t          } else {\n\t            _announce.message = message.payload;\n\t          }\n\n\t          _this5._listenerManager.announceMessage(_announce);\n\t        }\n\t      });\n\n\t      this._region = payload.metadata.region;\n\t      this._timetoken = payload.metadata.timetoken;\n\t      this._startSubscribeLoop();\n\t    }\n\t  }, {\n\t    key: '_stopSubscribeLoop',\n\t    value: function _stopSubscribeLoop() {\n\t      if (this._subscribeCall) {\n\t        this._subscribeCall.abort();\n\t        this._subscribeCall = null;\n\t      }\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}();\n\n\texports.default = _class;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _categories = __webpack_require__(17);\n\n\tvar _categories2 = _interopRequireDefault(_categories);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar _class = function () {\n\t  function _class() {\n\t    _classCallCheck(this, _class);\n\n\t    this._listeners = [];\n\t  }\n\n\t  _createClass(_class, [{\n\t    key: 'addListener',\n\t    value: function addListener(newListeners) {\n\t      this._listeners.push(newListeners);\n\t    }\n\t  }, {\n\t    key: 'removeListener',\n\t    value: function removeListener(deprecatedListener) {\n\t      var newListeners = [];\n\n\t      this._listeners.forEach(function (listener) {\n\t        if (listener !== deprecatedListener) newListeners.push(listener);\n\t      });\n\n\t      this._listeners = newListeners;\n\t    }\n\t  }, {\n\t    key: 'removeAllListeners',\n\t    value: function removeAllListeners() {\n\t      this._listeners = [];\n\t    }\n\t  }, {\n\t    key: 'announcePresence',\n\t    value: function announcePresence(announce) {\n\t      this._listeners.forEach(function (listener) {\n\t        if (listener.presence) listener.presence(announce);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'announceStatus',\n\t    value: function announceStatus(announce) {\n\t      this._listeners.forEach(function (listener) {\n\t        if (listener.status) listener.status(announce);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'announceMessage',\n\t    value: function announceMessage(announce) {\n\t      this._listeners.forEach(function (listener) {\n\t        if (listener.message) listener.message(announce);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'announceNetworkUp',\n\t    value: function announceNetworkUp() {\n\t      var networkStatus = {};\n\t      networkStatus.category = _categories2.default.PNNetworkUpCategory;\n\t      this.announceStatus(networkStatus);\n\t    }\n\t  }, {\n\t    key: 'announceNetworkDown',\n\t    value: function announceNetworkDown() {\n\t      var networkStatus = {};\n\t      networkStatus.category = _categories2.default.PNNetworkDownCategory;\n\t      this.announceStatus(networkStatus);\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}();\n\n\texports.default = _class;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tvar _time = __webpack_require__(21);\n\n\tvar _time2 = _interopRequireDefault(_time);\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar _class = function () {\n\t  function _class(_ref) {\n\t    var timeEndpoint = _ref.timeEndpoint;\n\n\t    _classCallCheck(this, _class);\n\n\t    this._timeEndpoint = timeEndpoint;\n\t  }\n\n\t  _createClass(_class, [{\n\t    key: 'onReconnection',\n\t    value: function onReconnection(reconnectionCallback) {\n\t      this._reconnectionCallback = reconnectionCallback;\n\t    }\n\t  }, {\n\t    key: 'startPolling',\n\t    value: function startPolling() {\n\t      this._timeTimer = setInterval(this._performTimeLoop.bind(this), 3000);\n\t    }\n\t  }, {\n\t    key: 'stopPolling',\n\t    value: function stopPolling() {\n\t      clearInterval(this._timeTimer);\n\t    }\n\t  }, {\n\t    key: '_performTimeLoop',\n\t    value: function _performTimeLoop() {\n\t      var _this = this;\n\n\t      this._timeEndpoint(function (status) {\n\t        if (!status.error) {\n\t          clearInterval(_this._timeTimer);\n\t          _this._reconnectionCallback();\n\t        }\n\t      });\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}();\n\n\texports.default = _class;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.prepareParams = prepareParams;\n\texports.isAuthSupported = isAuthSupported;\n\texports.handleResponse = handleResponse;\n\texports.validateParams = validateParams;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNTimeOperation;\n\t}\n\n\tfunction getURL() {\n\t  return '/time/0';\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction prepareParams() {\n\t  return {};\n\t}\n\n\tfunction isAuthSupported() {\n\t  return false;\n\t}\n\n\tfunction handleResponse(modules, serverResponse) {\n\t  return {\n\t    timetoken: serverResponse[0]\n\t  };\n\t}\n\n\tfunction validateParams() {}\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  PNTimeOperation: 'PNTimeOperation',\n\n\t  PNHistoryOperation: 'PNHistoryOperation',\n\t  PNFetchMessagesOperation: 'PNFetchMessagesOperation',\n\n\t  PNSubscribeOperation: 'PNSubscribeOperation',\n\t  PNUnsubscribeOperation: 'PNUnsubscribeOperation',\n\t  PNPublishOperation: 'PNPublishOperation',\n\n\t  PNPushNotificationEnabledChannelsOperation: 'PNPushNotificationEnabledChannelsOperation',\n\t  PNRemoveAllPushNotificationsOperation: 'PNRemoveAllPushNotificationsOperation',\n\n\t  PNWhereNowOperation: 'PNWhereNowOperation',\n\t  PNSetStateOperation: 'PNSetStateOperation',\n\t  PNHereNowOperation: 'PNHereNowOperation',\n\t  PNGetStateOperation: 'PNGetStateOperation',\n\t  PNHeartbeatOperation: 'PNHeartbeatOperation',\n\n\t  PNChannelGroupsOperation: 'PNChannelGroupsOperation',\n\t  PNRemoveGroupOperation: 'PNRemoveGroupOperation',\n\t  PNChannelsForGroupOperation: 'PNChannelsForGroupOperation',\n\t  PNAddChannelsToGroupOperation: 'PNAddChannelsToGroupOperation',\n\t  PNRemoveChannelsFromGroupOperation: 'PNRemoveChannelsFromGroupOperation',\n\n\t  PNAccessManagerGrant: 'PNAccessManagerGrant',\n\t  PNAccessManagerAudit: 'PNAccessManagerAudit'\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tfunction objectToList(o) {\n\t  var l = [];\n\t  Object.keys(o).forEach(function (key) {\n\t    return l.push(key);\n\t  });\n\t  return l;\n\t}\n\n\tfunction encodeString(input) {\n\t  return encodeURIComponent(input).replace(/[!~*'()]/g, function (x) {\n\t    return '%' + x.charCodeAt(0).toString(16).toUpperCase();\n\t  });\n\t}\n\n\tfunction objectToListSorted(o) {\n\t  return objectToList(o).sort();\n\t}\n\n\tfunction signPamFromParams(params) {\n\t  var l = objectToListSorted(params);\n\t  return l.map(function (paramKey) {\n\t    return paramKey + '=' + encodeString(params[paramKey]);\n\t  }).join('&');\n\t}\n\n\tfunction endsWith(searchString, suffix) {\n\t  return searchString.indexOf(suffix, this.length - suffix.length) !== -1;\n\t}\n\n\tfunction createPromise() {\n\t  var successResolve = void 0;\n\t  var failureResolve = void 0;\n\t  var promise = new Promise(function (fulfill, reject) {\n\t    successResolve = fulfill;\n\t    failureResolve = reject;\n\t  });\n\n\t  return { promise: promise, reject: failureResolve, fulfill: successResolve };\n\t}\n\n\tmodule.exports = { signPamFromParams: signPamFromParams, endsWith: endsWith, createPromise: createPromise, encodeString: encodeString };\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\texports.default = function (modules, endpoint) {\n\t  var networking = modules.networking,\n\t      config = modules.config;\n\n\t  var callback = null;\n\t  var promiseComponent = null;\n\t  var incomingParams = {};\n\n\t  if (endpoint.getOperation() === _operations2.default.PNTimeOperation || endpoint.getOperation() === _operations2.default.PNChannelGroupsOperation) {\n\t    callback = arguments.length <= 2 ? undefined : arguments[2];\n\t  } else {\n\t    incomingParams = arguments.length <= 2 ? undefined : arguments[2];\n\t    callback = arguments.length <= 3 ? undefined : arguments[3];\n\t  }\n\n\t  if (typeof Promise !== 'undefined' && !callback) {\n\t    promiseComponent = _utils2.default.createPromise();\n\t  }\n\n\t  var validationResult = endpoint.validateParams(modules, incomingParams);\n\n\t  if (validationResult) {\n\t    if (callback) {\n\t      return callback(createValidationError(validationResult));\n\t    } else if (promiseComponent) {\n\t      promiseComponent.reject(new PubNubError('Validation failed, check status for details', createValidationError(validationResult)));\n\t      return promiseComponent.promise;\n\t    }\n\t    return;\n\t  }\n\n\t  var outgoingParams = endpoint.prepareParams(modules, incomingParams);\n\t  var url = decideURL(endpoint, modules, incomingParams);\n\t  var callInstance = void 0;\n\t  var networkingParams = { url: url,\n\t    operation: endpoint.getOperation(),\n\t    timeout: endpoint.getRequestTimeout(modules)\n\t  };\n\n\t  outgoingParams.uuid = config.UUID;\n\t  outgoingParams.pnsdk = generatePNSDK(config);\n\n\t  if (config.useInstanceId) {\n\t    outgoingParams.instanceid = config.instanceId;\n\t  }\n\n\t  if (config.useRequestId) {\n\t    outgoingParams.requestid = _uuid2.default.v4();\n\t  }\n\n\t  if (endpoint.isAuthSupported() && config.getAuthKey()) {\n\t    outgoingParams.auth = config.getAuthKey();\n\t  }\n\n\t  if (config.secretKey) {\n\t    signRequest(modules, url, outgoingParams);\n\t  }\n\n\t  var onResponse = function onResponse(status, payload) {\n\t    if (status.error) {\n\t      if (callback) {\n\t        callback(status);\n\t      } else if (promiseComponent) {\n\t        promiseComponent.reject(new PubNubError('PubNub call failed, check status for details', status));\n\t      }\n\t      return;\n\t    }\n\n\t    var parsedPayload = endpoint.handleResponse(modules, payload, incomingParams);\n\n\t    if (callback) {\n\t      callback(status, parsedPayload);\n\t    } else if (promiseComponent) {\n\t      promiseComponent.fulfill(parsedPayload);\n\t    }\n\t  };\n\n\t  if (endpoint.usePost && endpoint.usePost(modules, incomingParams)) {\n\t    var payload = endpoint.postPayload(modules, incomingParams);\n\t    callInstance = networking.POST(outgoingParams, payload, networkingParams, onResponse);\n\t  } else {\n\t    callInstance = networking.GET(outgoingParams, networkingParams, onResponse);\n\t  }\n\n\t  if (endpoint.getOperation() === _operations2.default.PNSubscribeOperation) {\n\t    return callInstance;\n\t  }\n\n\t  if (promiseComponent) {\n\t    return promiseComponent.promise;\n\t  }\n\t};\n\n\tvar _uuid = __webpack_require__(2);\n\n\tvar _uuid2 = _interopRequireDefault(_uuid);\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tvar _config = __webpack_require__(7);\n\n\tvar _config2 = _interopRequireDefault(_config);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\tvar PubNubError = function (_Error) {\n\t  _inherits(PubNubError, _Error);\n\n\t  function PubNubError(message, status) {\n\t    _classCallCheck(this, PubNubError);\n\n\t    var _this = _possibleConstructorReturn(this, (PubNubError.__proto__ || Object.getPrototypeOf(PubNubError)).call(this, message));\n\n\t    _this.name = _this.constructor.name;\n\t    _this.status = status;\n\t    _this.message = message;\n\t    return _this;\n\t  }\n\n\t  return PubNubError;\n\t}(Error);\n\n\tfunction createError(errorPayload, type) {\n\t  errorPayload.type = type;\n\t  errorPayload.error = true;\n\t  return errorPayload;\n\t}\n\n\tfunction createValidationError(message) {\n\t  return createError({ message: message }, 'validationError');\n\t}\n\n\tfunction decideURL(endpoint, modules, incomingParams) {\n\t  if (endpoint.usePost && endpoint.usePost(modules, incomingParams)) {\n\t    return endpoint.postURL(modules, incomingParams);\n\t  } else {\n\t    return endpoint.getURL(modules, incomingParams);\n\t  }\n\t}\n\n\tfunction generatePNSDK(config) {\n\t  var base = 'PubNub-JS-' + config.sdkFamily;\n\n\t  if (config.partnerId) {\n\t    base += '-' + config.partnerId;\n\t  }\n\n\t  base += '/' + config.getVersion();\n\n\t  return base;\n\t}\n\n\tfunction signRequest(modules, url, outgoingParams) {\n\t  var config = modules.config,\n\t      crypto = modules.crypto;\n\n\n\t  outgoingParams.timestamp = Math.floor(new Date().getTime() / 1000);\n\t  var signInput = config.subscribeKey + '\\n' + config.publishKey + '\\n' + url + '\\n';\n\t  signInput += _utils2.default.signPamFromParams(outgoingParams);\n\n\t  var signature = crypto.HMACSHA256(signInput);\n\t  signature = signature.replace(/\\+/g, '-');\n\t  signature = signature.replace(/\\//g, '_');\n\n\t  outgoingParams.signature = signature;\n\t}\n\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNAddChannelsToGroupOperation;\n\t}\n\n\tfunction validateParams(modules, incomingParams) {\n\t  var channels = incomingParams.channels,\n\t      channelGroup = incomingParams.channelGroup;\n\t  var config = modules.config;\n\n\n\t  if (!channelGroup) return 'Missing Channel Group';\n\t  if (!channels || channels.length === 0) return 'Missing Channels';\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var channelGroup = incomingParams.channelGroup;\n\t  var config = modules.config;\n\n\t  return '/v1/channel-registration/sub-key/' + config.subscribeKey + '/channel-group/' + _utils2.default.encodeString(channelGroup);\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var _incomingParams$chann = incomingParams.channels,\n\t      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n\n\t  return {\n\t    add: channels.join(',')\n\t  };\n\t}\n\n\tfunction handleResponse() {\n\t  return {};\n\t}\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNRemoveChannelsFromGroupOperation;\n\t}\n\n\tfunction validateParams(modules, incomingParams) {\n\t  var channels = incomingParams.channels,\n\t      channelGroup = incomingParams.channelGroup;\n\t  var config = modules.config;\n\n\n\t  if (!channelGroup) return 'Missing Channel Group';\n\t  if (!channels || channels.length === 0) return 'Missing Channels';\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var channelGroup = incomingParams.channelGroup;\n\t  var config = modules.config;\n\n\t  return '/v1/channel-registration/sub-key/' + config.subscribeKey + '/channel-group/' + _utils2.default.encodeString(channelGroup);\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var _incomingParams$chann = incomingParams.channels,\n\t      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n\n\t  return {\n\t    remove: channels.join(',')\n\t  };\n\t}\n\n\tfunction handleResponse() {\n\t  return {};\n\t}\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.isAuthSupported = isAuthSupported;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNRemoveGroupOperation;\n\t}\n\n\tfunction validateParams(modules, incomingParams) {\n\t  var channelGroup = incomingParams.channelGroup;\n\t  var config = modules.config;\n\n\n\t  if (!channelGroup) return 'Missing Channel Group';\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var channelGroup = incomingParams.channelGroup;\n\t  var config = modules.config;\n\n\t  return '/v1/channel-registration/sub-key/' + config.subscribeKey + '/channel-group/' + _utils2.default.encodeString(channelGroup) + '/remove';\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction prepareParams() {\n\t  return {};\n\t}\n\n\tfunction handleResponse() {\n\t  return {};\n\t}\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNChannelGroupsOperation;\n\t}\n\n\tfunction validateParams(modules) {\n\t  var config = modules.config;\n\n\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules) {\n\t  var config = modules.config;\n\n\t  return '/v1/channel-registration/sub-key/' + config.subscribeKey + '/channel-group';\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams() {\n\t  return {};\n\t}\n\n\tfunction handleResponse(modules, serverResponse) {\n\t  return {\n\t    groups: serverResponse.payload.groups\n\t  };\n\t}\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNChannelsForGroupOperation;\n\t}\n\n\tfunction validateParams(modules, incomingParams) {\n\t  var channelGroup = incomingParams.channelGroup;\n\t  var config = modules.config;\n\n\n\t  if (!channelGroup) return 'Missing Channel Group';\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var channelGroup = incomingParams.channelGroup;\n\t  var config = modules.config;\n\n\t  return '/v1/channel-registration/sub-key/' + config.subscribeKey + '/channel-group/' + _utils2.default.encodeString(channelGroup);\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams() {\n\t  return {};\n\t}\n\n\tfunction handleResponse(modules, serverResponse) {\n\t  return {\n\t    channels: serverResponse.payload.channels\n\t  };\n\t}\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNPushNotificationEnabledChannelsOperation;\n\t}\n\n\tfunction validateParams(modules, incomingParams) {\n\t  var device = incomingParams.device,\n\t      pushGateway = incomingParams.pushGateway,\n\t      channels = incomingParams.channels;\n\t  var config = modules.config;\n\n\n\t  if (!device) return 'Missing Device ID (device)';\n\t  if (!pushGateway) return 'Missing GW Type (pushGateway: gcm or apns)';\n\t  if (!channels || channels.length === 0) return 'Missing Channels';\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var device = incomingParams.device;\n\t  var config = modules.config;\n\n\t  return '/v1/push/sub-key/' + config.subscribeKey + '/devices/' + device;\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var pushGateway = incomingParams.pushGateway,\n\t      _incomingParams$chann = incomingParams.channels,\n\t      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n\t  return { type: pushGateway, add: channels.join(',') };\n\t}\n\n\tfunction handleResponse() {\n\t  return {};\n\t}\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNPushNotificationEnabledChannelsOperation;\n\t}\n\n\tfunction validateParams(modules, incomingParams) {\n\t  var device = incomingParams.device,\n\t      pushGateway = incomingParams.pushGateway,\n\t      channels = incomingParams.channels;\n\t  var config = modules.config;\n\n\n\t  if (!device) return 'Missing Device ID (device)';\n\t  if (!pushGateway) return 'Missing GW Type (pushGateway: gcm or apns)';\n\t  if (!channels || channels.length === 0) return 'Missing Channels';\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var device = incomingParams.device;\n\t  var config = modules.config;\n\n\t  return '/v1/push/sub-key/' + config.subscribeKey + '/devices/' + device;\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var pushGateway = incomingParams.pushGateway,\n\t      _incomingParams$chann = incomingParams.channels,\n\t      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n\t  return { type: pushGateway, remove: channels.join(',') };\n\t}\n\n\tfunction handleResponse() {\n\t  return {};\n\t}\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNPushNotificationEnabledChannelsOperation;\n\t}\n\n\tfunction validateParams(modules, incomingParams) {\n\t  var device = incomingParams.device,\n\t      pushGateway = incomingParams.pushGateway;\n\t  var config = modules.config;\n\n\n\t  if (!device) return 'Missing Device ID (device)';\n\t  if (!pushGateway) return 'Missing GW Type (pushGateway: gcm or apns)';\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var device = incomingParams.device;\n\t  var config = modules.config;\n\n\t  return '/v1/push/sub-key/' + config.subscribeKey + '/devices/' + device;\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var pushGateway = incomingParams.pushGateway;\n\n\t  return { type: pushGateway };\n\t}\n\n\tfunction handleResponse(modules, serverResponse) {\n\t  return { channels: serverResponse };\n\t}\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNRemoveAllPushNotificationsOperation;\n\t}\n\n\tfunction validateParams(modules, incomingParams) {\n\t  var device = incomingParams.device,\n\t      pushGateway = incomingParams.pushGateway;\n\t  var config = modules.config;\n\n\n\t  if (!device) return 'Missing Device ID (device)';\n\t  if (!pushGateway) return 'Missing GW Type (pushGateway: gcm or apns)';\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var device = incomingParams.device;\n\t  var config = modules.config;\n\n\t  return '/v1/push/sub-key/' + config.subscribeKey + '/devices/' + device + '/remove';\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var pushGateway = incomingParams.pushGateway;\n\n\t  return { type: pushGateway };\n\t}\n\n\tfunction handleResponse() {\n\t  return {};\n\t}\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNUnsubscribeOperation;\n\t}\n\n\tfunction validateParams(modules) {\n\t  var config = modules.config;\n\n\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var config = modules.config;\n\t  var _incomingParams$chann = incomingParams.channels,\n\t      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n\t  var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n\t  return '/v2/presence/sub-key/' + config.subscribeKey + '/channel/' + _utils2.default.encodeString(stringifiedChannels) + '/leave';\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var _incomingParams$chann2 = incomingParams.channelGroups,\n\t      channelGroups = _incomingParams$chann2 === undefined ? [] : _incomingParams$chann2;\n\n\t  var params = {};\n\n\t  if (channelGroups.length > 0) {\n\t    params['channel-group'] = channelGroups.join(',');\n\t  }\n\n\t  return params;\n\t}\n\n\tfunction handleResponse() {\n\t  return {};\n\t}\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNWhereNowOperation;\n\t}\n\n\tfunction validateParams(modules) {\n\t  var config = modules.config;\n\n\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var config = modules.config;\n\t  var _incomingParams$uuid = incomingParams.uuid,\n\t      uuid = _incomingParams$uuid === undefined ? config.UUID : _incomingParams$uuid;\n\n\t  return '/v2/presence/sub-key/' + config.subscribeKey + '/uuid/' + uuid;\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams() {\n\t  return {};\n\t}\n\n\tfunction handleResponse(modules, serverResponse) {\n\t  return { channels: serverResponse.payload.channels };\n\t}\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.isAuthSupported = isAuthSupported;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNHeartbeatOperation;\n\t}\n\n\tfunction validateParams(modules) {\n\t  var config = modules.config;\n\n\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var config = modules.config;\n\t  var _incomingParams$chann = incomingParams.channels,\n\t      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n\t  var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n\t  return '/v2/presence/sub-key/' + config.subscribeKey + '/channel/' + _utils2.default.encodeString(stringifiedChannels) + '/heartbeat';\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var _incomingParams$chann2 = incomingParams.channelGroups,\n\t      channelGroups = _incomingParams$chann2 === undefined ? [] : _incomingParams$chann2,\n\t      _incomingParams$state = incomingParams.state,\n\t      state = _incomingParams$state === undefined ? {} : _incomingParams$state;\n\t  var config = modules.config;\n\n\t  var params = {};\n\n\t  if (channelGroups.length > 0) {\n\t    params['channel-group'] = channelGroups.join(',');\n\t  }\n\n\t  params.state = JSON.stringify(state);\n\t  params.heartbeat = config.getPresenceTimeout();\n\t  return params;\n\t}\n\n\tfunction handleResponse() {\n\t  return {};\n\t}\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNGetStateOperation;\n\t}\n\n\tfunction validateParams(modules) {\n\t  var config = modules.config;\n\n\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var config = modules.config;\n\t  var _incomingParams$uuid = incomingParams.uuid,\n\t      uuid = _incomingParams$uuid === undefined ? config.UUID : _incomingParams$uuid,\n\t      _incomingParams$chann = incomingParams.channels,\n\t      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n\t  var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n\t  return '/v2/presence/sub-key/' + config.subscribeKey + '/channel/' + _utils2.default.encodeString(stringifiedChannels) + '/uuid/' + uuid;\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var _incomingParams$chann2 = incomingParams.channelGroups,\n\t      channelGroups = _incomingParams$chann2 === undefined ? [] : _incomingParams$chann2;\n\n\t  var params = {};\n\n\t  if (channelGroups.length > 0) {\n\t    params['channel-group'] = channelGroups.join(',');\n\t  }\n\n\t  return params;\n\t}\n\n\tfunction handleResponse(modules, serverResponse, incomingParams) {\n\t  var _incomingParams$chann3 = incomingParams.channels,\n\t      channels = _incomingParams$chann3 === undefined ? [] : _incomingParams$chann3,\n\t      _incomingParams$chann4 = incomingParams.channelGroups,\n\t      channelGroups = _incomingParams$chann4 === undefined ? [] : _incomingParams$chann4;\n\n\t  var channelsResponse = {};\n\n\t  if (channels.length === 1 && channelGroups.length === 0) {\n\t    channelsResponse[channels[0]] = serverResponse.payload;\n\t  } else {\n\t    channelsResponse = serverResponse.payload;\n\t  }\n\n\t  return { channels: channelsResponse };\n\t}\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNSetStateOperation;\n\t}\n\n\tfunction validateParams(modules, incomingParams) {\n\t  var config = modules.config;\n\t  var state = incomingParams.state,\n\t      _incomingParams$chann = incomingParams.channels,\n\t      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann,\n\t      _incomingParams$chann2 = incomingParams.channelGroups,\n\t      channelGroups = _incomingParams$chann2 === undefined ? [] : _incomingParams$chann2;\n\n\n\t  if (!state) return 'Missing State';\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t  if (channels.length === 0 && channelGroups.length === 0) return 'Please provide a list of channels and/or channel-groups';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var config = modules.config;\n\t  var _incomingParams$chann3 = incomingParams.channels,\n\t      channels = _incomingParams$chann3 === undefined ? [] : _incomingParams$chann3;\n\n\t  var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n\t  return '/v2/presence/sub-key/' + config.subscribeKey + '/channel/' + _utils2.default.encodeString(stringifiedChannels) + '/uuid/' + config.UUID + '/data';\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var state = incomingParams.state,\n\t      _incomingParams$chann4 = incomingParams.channelGroups,\n\t      channelGroups = _incomingParams$chann4 === undefined ? [] : _incomingParams$chann4;\n\n\t  var params = {};\n\n\t  params.state = JSON.stringify(state);\n\n\t  if (channelGroups.length > 0) {\n\t    params['channel-group'] = channelGroups.join(',');\n\t  }\n\n\t  return params;\n\t}\n\n\tfunction handleResponse(modules, serverResponse) {\n\t  return { state: serverResponse.payload };\n\t}\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNHereNowOperation;\n\t}\n\n\tfunction validateParams(modules) {\n\t  var config = modules.config;\n\n\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var config = modules.config;\n\t  var _incomingParams$chann = incomingParams.channels,\n\t      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann,\n\t      _incomingParams$chann2 = incomingParams.channelGroups,\n\t      channelGroups = _incomingParams$chann2 === undefined ? [] : _incomingParams$chann2;\n\n\t  var baseURL = '/v2/presence/sub-key/' + config.subscribeKey;\n\n\t  if (channels.length > 0 || channelGroups.length > 0) {\n\t    var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n\t    baseURL += '/channel/' + _utils2.default.encodeString(stringifiedChannels);\n\t  }\n\n\t  return baseURL;\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var _incomingParams$chann3 = incomingParams.channelGroups,\n\t      channelGroups = _incomingParams$chann3 === undefined ? [] : _incomingParams$chann3,\n\t      _incomingParams$inclu = incomingParams.includeUUIDs,\n\t      includeUUIDs = _incomingParams$inclu === undefined ? true : _incomingParams$inclu,\n\t      _incomingParams$inclu2 = incomingParams.includeState,\n\t      includeState = _incomingParams$inclu2 === undefined ? false : _incomingParams$inclu2;\n\n\t  var params = {};\n\n\t  if (!includeUUIDs) params.disable_uuids = 1;\n\t  if (includeState) params.state = 1;\n\n\t  if (channelGroups.length > 0) {\n\t    params['channel-group'] = channelGroups.join(',');\n\t  }\n\n\t  return params;\n\t}\n\n\tfunction handleResponse(modules, serverResponse, incomingParams) {\n\t  var _incomingParams$chann4 = incomingParams.channels,\n\t      channels = _incomingParams$chann4 === undefined ? [] : _incomingParams$chann4,\n\t      _incomingParams$chann5 = incomingParams.channelGroups,\n\t      channelGroups = _incomingParams$chann5 === undefined ? [] : _incomingParams$chann5,\n\t      _incomingParams$inclu3 = incomingParams.includeUUIDs,\n\t      includeUUIDs = _incomingParams$inclu3 === undefined ? true : _incomingParams$inclu3,\n\t      _incomingParams$inclu4 = incomingParams.includeState,\n\t      includeState = _incomingParams$inclu4 === undefined ? false : _incomingParams$inclu4;\n\n\n\t  var prepareSingularChannel = function prepareSingularChannel() {\n\t    var response = {};\n\t    var occupantsList = [];\n\t    response.totalChannels = 1;\n\t    response.totalOccupancy = serverResponse.occupancy;\n\t    response.channels = {};\n\t    response.channels[channels[0]] = {\n\t      occupants: occupantsList,\n\t      name: channels[0],\n\t      occupancy: serverResponse.occupancy\n\t    };\n\n\t    if (includeUUIDs) {\n\t      serverResponse.uuids.forEach(function (uuidEntry) {\n\t        if (includeState) {\n\t          occupantsList.push({ state: uuidEntry.state, uuid: uuidEntry.uuid });\n\t        } else {\n\t          occupantsList.push({ state: null, uuid: uuidEntry });\n\t        }\n\t      });\n\t    }\n\n\t    return response;\n\t  };\n\n\t  var prepareMultipleChannel = function prepareMultipleChannel() {\n\t    var response = {};\n\t    response.totalChannels = serverResponse.payload.total_channels;\n\t    response.totalOccupancy = serverResponse.payload.total_occupancy;\n\t    response.channels = {};\n\n\t    Object.keys(serverResponse.payload.channels).forEach(function (channelName) {\n\t      var channelEntry = serverResponse.payload.channels[channelName];\n\t      var occupantsList = [];\n\t      response.channels[channelName] = {\n\t        occupants: occupantsList,\n\t        name: channelName,\n\t        occupancy: channelEntry.occupancy\n\t      };\n\n\t      if (includeUUIDs) {\n\t        channelEntry.uuids.forEach(function (uuidEntry) {\n\t          if (includeState) {\n\t            occupantsList.push({ state: uuidEntry.state, uuid: uuidEntry.uuid });\n\t          } else {\n\t            occupantsList.push({ state: null, uuid: uuidEntry });\n\t          }\n\t        });\n\t      }\n\n\t      return response;\n\t    });\n\n\t    return response;\n\t  };\n\n\t  var response = void 0;\n\t  if (channels.length > 1 || channelGroups.length > 0 || channelGroups.length === 0 && channels.length === 0) {\n\t    response = prepareMultipleChannel();\n\t  } else {\n\t    response = prepareSingularChannel();\n\t  }\n\n\t  return response;\n\t}\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNAccessManagerAudit;\n\t}\n\n\tfunction validateParams(modules) {\n\t  var config = modules.config;\n\n\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules) {\n\t  var config = modules.config;\n\n\t  return '/v2/auth/audit/sub-key/' + config.subscribeKey;\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return false;\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var channel = incomingParams.channel,\n\t      channelGroup = incomingParams.channelGroup,\n\t      _incomingParams$authK = incomingParams.authKeys,\n\t      authKeys = _incomingParams$authK === undefined ? [] : _incomingParams$authK;\n\n\t  var params = {};\n\n\t  if (channel) {\n\t    params.channel = channel;\n\t  }\n\n\t  if (channelGroup) {\n\t    params['channel-group'] = channelGroup;\n\t  }\n\n\t  if (authKeys.length > 0) {\n\t    params.auth = authKeys.join(',');\n\t  }\n\n\t  return params;\n\t}\n\n\tfunction handleResponse(modules, serverResponse) {\n\t  return serverResponse.payload;\n\t}\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNAccessManagerGrant;\n\t}\n\n\tfunction validateParams(modules) {\n\t  var config = modules.config;\n\n\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t  if (!config.publishKey) return 'Missing Publish Key';\n\t  if (!config.secretKey) return 'Missing Secret Key';\n\t}\n\n\tfunction getURL(modules) {\n\t  var config = modules.config;\n\n\t  return '/v2/auth/grant/sub-key/' + config.subscribeKey;\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return false;\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var _incomingParams$chann = incomingParams.channels,\n\t      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann,\n\t      _incomingParams$chann2 = incomingParams.channelGroups,\n\t      channelGroups = _incomingParams$chann2 === undefined ? [] : _incomingParams$chann2,\n\t      ttl = incomingParams.ttl,\n\t      _incomingParams$read = incomingParams.read,\n\t      read = _incomingParams$read === undefined ? false : _incomingParams$read,\n\t      _incomingParams$write = incomingParams.write,\n\t      write = _incomingParams$write === undefined ? false : _incomingParams$write,\n\t      _incomingParams$manag = incomingParams.manage,\n\t      manage = _incomingParams$manag === undefined ? false : _incomingParams$manag,\n\t      _incomingParams$authK = incomingParams.authKeys,\n\t      authKeys = _incomingParams$authK === undefined ? [] : _incomingParams$authK;\n\n\t  var params = {};\n\n\t  params.r = read ? '1' : '0';\n\t  params.w = write ? '1' : '0';\n\t  params.m = manage ? '1' : '0';\n\n\t  if (channels.length > 0) {\n\t    params.channel = channels.join(',');\n\t  }\n\n\t  if (channelGroups.length > 0) {\n\t    params['channel-group'] = channelGroups.join(',');\n\t  }\n\n\t  if (authKeys.length > 0) {\n\t    params.auth = authKeys.join(',');\n\t  }\n\n\t  if (ttl || ttl === 0) {\n\t    params.ttl = ttl;\n\t  }\n\n\t  return params;\n\t}\n\n\tfunction handleResponse() {\n\t  return {};\n\t}\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.usePost = usePost;\n\texports.getURL = getURL;\n\texports.postURL = postURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.postPayload = postPayload;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction prepareMessagePayload(modules, messagePayload) {\n\t  var crypto = modules.crypto,\n\t      config = modules.config;\n\n\t  var stringifiedPayload = JSON.stringify(messagePayload);\n\n\t  if (config.cipherKey) {\n\t    stringifiedPayload = crypto.encrypt(stringifiedPayload);\n\t    stringifiedPayload = JSON.stringify(stringifiedPayload);\n\t  }\n\n\t  return stringifiedPayload;\n\t}\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNPublishOperation;\n\t}\n\n\tfunction validateParams(_ref, incomingParams) {\n\t  var config = _ref.config;\n\t  var message = incomingParams.message,\n\t      channel = incomingParams.channel;\n\n\n\t  if (!channel) return 'Missing Channel';\n\t  if (!message) return 'Missing Message';\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction usePost(modules, incomingParams) {\n\t  var _incomingParams$sendB = incomingParams.sendByPost,\n\t      sendByPost = _incomingParams$sendB === undefined ? false : _incomingParams$sendB;\n\n\t  return sendByPost;\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var config = modules.config;\n\t  var channel = incomingParams.channel,\n\t      message = incomingParams.message;\n\n\t  var stringifiedPayload = prepareMessagePayload(modules, message);\n\t  return '/publish/' + config.publishKey + '/' + config.subscribeKey + '/0/' + _utils2.default.encodeString(channel) + '/0/' + _utils2.default.encodeString(stringifiedPayload);\n\t}\n\n\tfunction postURL(modules, incomingParams) {\n\t  var config = modules.config;\n\t  var channel = incomingParams.channel;\n\n\t  return '/publish/' + config.publishKey + '/' + config.subscribeKey + '/0/' + _utils2.default.encodeString(channel) + '/0';\n\t}\n\n\tfunction getRequestTimeout(_ref2) {\n\t  var config = _ref2.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction postPayload(modules, incomingParams) {\n\t  var message = incomingParams.message;\n\n\t  return prepareMessagePayload(modules, message);\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var meta = incomingParams.meta,\n\t      _incomingParams$repli = incomingParams.replicate,\n\t      replicate = _incomingParams$repli === undefined ? true : _incomingParams$repli,\n\t      storeInHistory = incomingParams.storeInHistory,\n\t      ttl = incomingParams.ttl;\n\n\t  var params = {};\n\n\t  if (storeInHistory != null) {\n\t    if (storeInHistory) {\n\t      params.store = '1';\n\t    } else {\n\t      params.store = '0';\n\t    }\n\t  }\n\n\t  if (ttl) {\n\t    params.ttl = ttl;\n\t  }\n\n\t  if (replicate === false) {\n\t    params.norep = 'true';\n\t  }\n\n\t  if (meta && (typeof meta === 'undefined' ? 'undefined' : _typeof(meta)) === 'object') {\n\t    params.meta = JSON.stringify(meta);\n\t  }\n\n\t  return params;\n\t}\n\n\tfunction handleResponse(modules, serverResponse) {\n\t  return { timetoken: serverResponse[2] };\n\t}\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction __processMessage(modules, message) {\n\t  var config = modules.config,\n\t      crypto = modules.crypto;\n\n\t  if (!config.cipherKey) return message;\n\n\t  try {\n\t    return crypto.decrypt(message);\n\t  } catch (e) {\n\t    return message;\n\t  }\n\t}\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNHistoryOperation;\n\t}\n\n\tfunction validateParams(modules, incomingParams) {\n\t  var channel = incomingParams.channel;\n\t  var config = modules.config;\n\n\n\t  if (!channel) return 'Missing channel';\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var channel = incomingParams.channel;\n\t  var config = modules.config;\n\n\t  return '/v2/history/sub-key/' + config.subscribeKey + '/channel/' + _utils2.default.encodeString(channel);\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var start = incomingParams.start,\n\t      end = incomingParams.end,\n\t      reverse = incomingParams.reverse,\n\t      _incomingParams$count = incomingParams.count,\n\t      count = _incomingParams$count === undefined ? 100 : _incomingParams$count,\n\t      _incomingParams$strin = incomingParams.stringifiedTimeToken,\n\t      stringifiedTimeToken = _incomingParams$strin === undefined ? false : _incomingParams$strin;\n\n\t  var outgoingParams = {\n\t    include_token: 'true'\n\t  };\n\n\t  outgoingParams.count = count;\n\t  if (start) outgoingParams.start = start;\n\t  if (end) outgoingParams.end = end;\n\t  if (stringifiedTimeToken) outgoingParams.string_message_token = 'true';\n\t  if (reverse != null) outgoingParams.reverse = reverse.toString();\n\n\t  return outgoingParams;\n\t}\n\n\tfunction handleResponse(modules, serverResponse) {\n\t  var response = {\n\t    messages: [],\n\t    startTimeToken: serverResponse[1],\n\t    endTimeToken: serverResponse[2]\n\t  };\n\n\t  serverResponse[0].forEach(function (serverHistoryItem) {\n\t    var item = {\n\t      timetoken: serverHistoryItem.timetoken,\n\t      entry: __processMessage(modules, serverHistoryItem.message)\n\t    };\n\n\t    response.messages.push(item);\n\t  });\n\n\t  return response;\n\t}\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction __processMessage(modules, message) {\n\t  var config = modules.config,\n\t      crypto = modules.crypto;\n\n\t  if (!config.cipherKey) return message;\n\n\t  try {\n\t    return crypto.decrypt(message);\n\t  } catch (e) {\n\t    return message;\n\t  }\n\t}\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNFetchMessagesOperation;\n\t}\n\n\tfunction validateParams(modules, incomingParams) {\n\t  var channels = incomingParams.channels;\n\t  var config = modules.config;\n\n\n\t  if (!channels || channels.length === 0) return 'Missing channels';\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var _incomingParams$chann = incomingParams.channels,\n\t      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\t  var config = modules.config;\n\n\n\t  var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n\t  return '/v3/history/sub-key/' + config.subscribeKey + '/channel/' + _utils2.default.encodeString(stringifiedChannels);\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getTransactionTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams(modules, incomingParams) {\n\t  var start = incomingParams.start,\n\t      end = incomingParams.end,\n\t      count = incomingParams.count;\n\n\t  var outgoingParams = {};\n\n\t  if (count) outgoingParams.max = count;\n\t  if (start) outgoingParams.start = start;\n\t  if (end) outgoingParams.end = end;\n\n\t  return outgoingParams;\n\t}\n\n\tfunction handleResponse(modules, serverResponse) {\n\t  var response = {\n\t    channels: {}\n\t  };\n\n\t  Object.keys(serverResponse.channels || {}).forEach(function (channelName) {\n\t    response.channels[channelName] = [];\n\n\t    (serverResponse.channels[channelName] || []).forEach(function (messageEnvelope) {\n\t      var announce = {};\n\t      announce.channel = channelName;\n\t      announce.subscription = null;\n\t      announce.timetoken = messageEnvelope.timetoken;\n\t      announce.message = __processMessage(modules, messageEnvelope.message);\n\t      response.channels[channelName].push(announce);\n\t    });\n\t  });\n\n\t  return response;\n\t}\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOperation = getOperation;\n\texports.validateParams = validateParams;\n\texports.getURL = getURL;\n\texports.getRequestTimeout = getRequestTimeout;\n\texports.isAuthSupported = isAuthSupported;\n\texports.prepareParams = prepareParams;\n\texports.handleResponse = handleResponse;\n\n\tvar _flow_interfaces = __webpack_require__(8);\n\n\tvar _operations = __webpack_require__(22);\n\n\tvar _operations2 = _interopRequireDefault(_operations);\n\n\tvar _utils = __webpack_require__(23);\n\n\tvar _utils2 = _interopRequireDefault(_utils);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction getOperation() {\n\t  return _operations2.default.PNSubscribeOperation;\n\t}\n\n\tfunction validateParams(modules) {\n\t  var config = modules.config;\n\n\n\t  if (!config.subscribeKey) return 'Missing Subscribe Key';\n\t}\n\n\tfunction getURL(modules, incomingParams) {\n\t  var config = modules.config;\n\t  var _incomingParams$chann = incomingParams.channels,\n\t      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n\t  var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n\t  return '/v2/subscribe/' + config.subscribeKey + '/' + _utils2.default.encodeString(stringifiedChannels) + '/0';\n\t}\n\n\tfunction getRequestTimeout(_ref) {\n\t  var config = _ref.config;\n\n\t  return config.getSubscribeTimeout();\n\t}\n\n\tfunction isAuthSupported() {\n\t  return true;\n\t}\n\n\tfunction prepareParams(_ref2, incomingParams) {\n\t  var config = _ref2.config;\n\t  var _incomingParams$chann2 = incomingParams.channelGroups,\n\t      channelGroups = _incomingParams$chann2 === undefined ? [] : _incomingParams$chann2,\n\t      timetoken = incomingParams.timetoken,\n\t      filterExpression = incomingParams.filterExpression,\n\t      region = incomingParams.region;\n\n\t  var params = {\n\t    heartbeat: config.getPresenceTimeout()\n\t  };\n\n\t  if (channelGroups.length > 0) {\n\t    params['channel-group'] = channelGroups.join(',');\n\t  }\n\n\t  if (filterExpression && filterExpression.length > 0) {\n\t    params['filter-expr'] = filterExpression;\n\t  }\n\n\t  if (timetoken) {\n\t    params.tt = timetoken;\n\t  }\n\n\t  if (region) {\n\t    params.tr = region;\n\t  }\n\n\t  return params;\n\t}\n\n\tfunction handleResponse(modules, serverResponse) {\n\t  var messages = [];\n\n\t  serverResponse.m.forEach(function (rawMessage) {\n\t    var publishMetaData = {\n\t      publishTimetoken: rawMessage.p.t,\n\t      region: rawMessage.p.r\n\t    };\n\t    var parsedMessage = {\n\t      shard: parseInt(rawMessage.a, 10),\n\t      subscriptionMatch: rawMessage.b,\n\t      channel: rawMessage.c,\n\t      payload: rawMessage.d,\n\t      flags: rawMessage.f,\n\t      issuingClientId: rawMessage.i,\n\t      subscribeKey: rawMessage.k,\n\t      originationTimetoken: rawMessage.o,\n\t      publishMetaData: publishMetaData\n\t    };\n\t    messages.push(parsedMessage);\n\t  });\n\n\t  var metadata = {\n\t    timetoken: serverResponse.t.t,\n\t    region: serverResponse.t.r\n\t  };\n\n\t  return { messages: messages, metadata: metadata };\n\t}\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _base = __webpack_require__(11);\n\n\tvar _base2 = _interopRequireDefault(_base);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\tfunction sendBeacon(url) {\n\t  if (navigator && navigator.sendBeacon) {\n\t    navigator.sendBeacon(url);\n\t  } else {\n\t    return false;\n\t  }\n\t}\n\n\tvar _class = function (_Networking) {\n\t  _inherits(_class, _Networking);\n\n\t  function _class() {\n\t    _classCallCheck(this, _class);\n\n\t    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, { sendBeaconModule: sendBeacon }));\n\t  }\n\n\t  return _class;\n\t}(_base2.default);\n\n\texports.default = _class;\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ])\n});\n;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3B1Ym51Yi9kaXN0L3dlYi9wdWJudWIuanM/Y2M3NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgNC41LjAgLyBDb25zdW1lciAgKi9cbihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlB1Yk51YlwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJQdWJOdWJcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuXG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXG5cdHZhciBfcHVibnViQ29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXHR2YXIgX3B1Ym51YkNvbW1vbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wdWJudWJDb21tb24pO1xuXG5cdHZhciBfd2ViID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cblx0dmFyIF93ZWIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2ViKTtcblxuXHR2YXIgX2Zsb3dfaW50ZXJmYWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5cdHZhciBkYiA9IHtcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldChrZXkpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICB9LFxuXHQgIHNldDogZnVuY3Rpb24gc2V0KGtleSwgZGF0YSkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgZGF0YSk7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgIH1cblx0fTtcblxuXHR2YXIgX2NsYXNzID0gZnVuY3Rpb24gKF9QdWJOdWJDb3JlKSB7XG5cdCAgX2luaGVyaXRzKF9jbGFzcywgX1B1Yk51YkNvcmUpO1xuXG5cdCAgZnVuY3Rpb24gX2NsYXNzKHNldHVwKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgX2NsYXNzKTtcblxuXHQgICAgc2V0dXAuZGIgPSBkYjtcblx0ICAgIHNldHVwLnNka0ZhbWlseSA9ICdXZWInO1xuXHQgICAgc2V0dXAubmV0d29ya2luZyA9IG5ldyBfd2ViMi5kZWZhdWx0KCk7XG5cblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfY2xhc3MuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihfY2xhc3MpKS5jYWxsKHRoaXMsIHNldHVwKSk7XG5cblx0ICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5fX25ldHdvcmtEb3duRGV0ZWN0ZWQoKTtcblx0ICAgIH0pO1xuXG5cdCAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5fX25ldHdvcmtVcERldGVjdGVkKCk7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cblx0ICByZXR1cm4gX2NsYXNzO1xuXHR9KF9wdWJudWJDb21tb24yLmRlZmF1bHQpO1xuXG5cdGV4cG9ydHMuZGVmYXVsdCA9IF9jbGFzcztcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuXHR2YXIgX3V1aWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBfdXVpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dWlkKTtcblxuXHR2YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cblx0dmFyIF9jb25maWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlnKTtcblxuXHR2YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxuXHR2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4KTtcblxuXHR2YXIgX2Jhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblxuXHR2YXIgX2Jhc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmFzZSk7XG5cblx0dmFyIF9zdWJzY3JpcHRpb25fbWFuYWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXG5cdHZhciBfc3Vic2NyaXB0aW9uX21hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3Vic2NyaXB0aW9uX21hbmFnZXIpO1xuXG5cdHZhciBfbGlzdGVuZXJfbWFuYWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG5cdHZhciBfbGlzdGVuZXJfbWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9saXN0ZW5lcl9tYW5hZ2VyKTtcblxuXHR2YXIgX2VuZHBvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cblx0dmFyIF9lbmRwb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lbmRwb2ludCk7XG5cblx0dmFyIF9hZGRfY2hhbm5lbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxuXHR2YXIgYWRkQ2hhbm5lbHNDaGFubmVsR3JvdXBDb25maWcgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfYWRkX2NoYW5uZWxzKTtcblxuXHR2YXIgX3JlbW92ZV9jaGFubmVscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciByZW1vdmVDaGFubmVsc0NoYW5uZWxHcm91cENvbmZpZyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9yZW1vdmVfY2hhbm5lbHMpO1xuXG5cdHZhciBfZGVsZXRlX2dyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cblx0dmFyIGRlbGV0ZUNoYW5uZWxHcm91cENvbmZpZyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9kZWxldGVfZ3JvdXApO1xuXG5cdHZhciBfbGlzdF9ncm91cHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblxuXHR2YXIgbGlzdENoYW5uZWxHcm91cHNDb25maWcgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbGlzdF9ncm91cHMpO1xuXG5cdHZhciBfbGlzdF9jaGFubmVscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG5cdHZhciBsaXN0Q2hhbm5lbHNJbkNoYW5uZWxHcm91cENvbmZpZyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9saXN0X2NoYW5uZWxzKTtcblxuXHR2YXIgX2FkZF9wdXNoX2NoYW5uZWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cblx0dmFyIGFkZFB1c2hDaGFubmVsc0NvbmZpZyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9hZGRfcHVzaF9jaGFubmVscyk7XG5cblx0dmFyIF9yZW1vdmVfcHVzaF9jaGFubmVscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpO1xuXG5cdHZhciByZW1vdmVQdXNoQ2hhbm5lbHNDb25maWcgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfcmVtb3ZlX3B1c2hfY2hhbm5lbHMpO1xuXG5cdHZhciBfbGlzdF9wdXNoX2NoYW5uZWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cblx0dmFyIGxpc3RQdXNoQ2hhbm5lbHNDb25maWcgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbGlzdF9wdXNoX2NoYW5uZWxzKTtcblxuXHR2YXIgX3JlbW92ZV9kZXZpY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblxuXHR2YXIgcmVtb3ZlRGV2aWNlUHVzaENvbmZpZyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9yZW1vdmVfZGV2aWNlKTtcblxuXHR2YXIgX2xlYXZlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG5cblx0dmFyIHByZXNlbmNlTGVhdmVFbmRwb2ludENvbmZpZyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9sZWF2ZSk7XG5cblx0dmFyIF93aGVyZV9ub3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblxuXHR2YXIgcHJlc2VuY2VXaGVyZU5vd0VuZHBvaW50Q29uZmlnID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3doZXJlX25vdyk7XG5cblx0dmFyIF9oZWFydGJlYXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblxuXHR2YXIgcHJlc2VuY2VIZWFydGJlYXRFbmRwb2ludENvbmZpZyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9oZWFydGJlYXQpO1xuXG5cdHZhciBfZ2V0X3N0YXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cblx0dmFyIHByZXNlbmNlR2V0U3RhdGVDb25maWcgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZ2V0X3N0YXRlKTtcblxuXHR2YXIgX3NldF9zdGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXG5cdHZhciBwcmVzZW5jZVNldFN0YXRlQ29uZmlnID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3NldF9zdGF0ZSk7XG5cblx0dmFyIF9oZXJlX25vdyA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXG5cdHZhciBwcmVzZW5jZUhlcmVOb3dDb25maWcgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfaGVyZV9ub3cpO1xuXG5cdHZhciBfYXVkaXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblxuXHR2YXIgYXVkaXRFbmRwb2ludENvbmZpZyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9hdWRpdCk7XG5cblx0dmFyIF9ncmFudCA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG5cdHZhciBncmFudEVuZHBvaW50Q29uZmlnID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2dyYW50KTtcblxuXHR2YXIgX3B1Ymxpc2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblxuXHR2YXIgcHVibGlzaEVuZHBvaW50Q29uZmlnID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3B1Ymxpc2gpO1xuXG5cdHZhciBfaGlzdG9yeSA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXG5cdHZhciBoaXN0b3J5RW5kcG9pbnRDb25maWcgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfaGlzdG9yeSk7XG5cblx0dmFyIF9mZXRjaF9tZXNzYWdlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXG5cdHZhciBmZXRjaE1lc3NhZ2VzRW5kcG9pbnRDb25maWcgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZmV0Y2hfbWVzc2FnZXMpO1xuXG5cdHZhciBfdGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG5cdHZhciB0aW1lRW5kcG9pbnRDb25maWcgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGltZSk7XG5cblx0dmFyIF9zdWJzY3JpYmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblxuXHR2YXIgc3Vic2NyaWJlRW5kcG9pbnRDb25maWcgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfc3Vic2NyaWJlKTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0dmFyIF9jYXRlZ29yaWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cblx0dmFyIF9jYXRlZ29yaWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhdGVnb3JpZXMpO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXHR2YXIgX2NsYXNzID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIF9jbGFzcyhzZXR1cCkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIF9jbGFzcyk7XG5cblx0ICAgIHZhciBkYiA9IHNldHVwLmRiLFxuXHQgICAgICAgIG5ldHdvcmtpbmcgPSBzZXR1cC5uZXR3b3JraW5nO1xuXG5cblx0ICAgIHZhciBjb25maWcgPSB0aGlzLl9jb25maWcgPSBuZXcgX2NvbmZpZzIuZGVmYXVsdCh7IHNldHVwOiBzZXR1cCwgZGI6IGRiIH0pO1xuXHQgICAgdmFyIGNyeXB0byA9IG5ldyBfaW5kZXgyLmRlZmF1bHQoeyBjb25maWc6IGNvbmZpZyB9KTtcblxuXHQgICAgaWYgKCFuZXR3b3JraW5nKSB7XG5cdCAgICAgIG5ldHdvcmtpbmcgPSBuZXcgX2Jhc2UyLmRlZmF1bHQoe30pO1xuXHQgICAgfVxuXG5cdCAgICBuZXR3b3JraW5nLmluaXQoY29uZmlnKTtcblxuXHQgICAgdmFyIG1vZHVsZXMgPSB7IGNvbmZpZzogY29uZmlnLCBuZXR3b3JraW5nOiBuZXR3b3JraW5nLCBjcnlwdG86IGNyeXB0byB9O1xuXG5cdCAgICB2YXIgdGltZUVuZHBvaW50ID0gX2VuZHBvaW50Mi5kZWZhdWx0LmJpbmQodGhpcywgbW9kdWxlcywgdGltZUVuZHBvaW50Q29uZmlnKTtcblx0ICAgIHZhciBsZWF2ZUVuZHBvaW50ID0gX2VuZHBvaW50Mi5kZWZhdWx0LmJpbmQodGhpcywgbW9kdWxlcywgcHJlc2VuY2VMZWF2ZUVuZHBvaW50Q29uZmlnKTtcblx0ICAgIHZhciBoZWFydGJlYXRFbmRwb2ludCA9IF9lbmRwb2ludDIuZGVmYXVsdC5iaW5kKHRoaXMsIG1vZHVsZXMsIHByZXNlbmNlSGVhcnRiZWF0RW5kcG9pbnRDb25maWcpO1xuXHQgICAgdmFyIHNldFN0YXRlRW5kcG9pbnQgPSBfZW5kcG9pbnQyLmRlZmF1bHQuYmluZCh0aGlzLCBtb2R1bGVzLCBwcmVzZW5jZVNldFN0YXRlQ29uZmlnKTtcblx0ICAgIHZhciBzdWJzY3JpYmVFbmRwb2ludCA9IF9lbmRwb2ludDIuZGVmYXVsdC5iaW5kKHRoaXMsIG1vZHVsZXMsIHN1YnNjcmliZUVuZHBvaW50Q29uZmlnKTtcblxuXHQgICAgdmFyIGxpc3RlbmVyTWFuYWdlciA9IHRoaXMuX2xpc3RlbmVyTWFuYWdlciA9IG5ldyBfbGlzdGVuZXJfbWFuYWdlcjIuZGVmYXVsdCgpO1xuXG5cdCAgICB2YXIgc3Vic2NyaXB0aW9uTWFuYWdlciA9IG5ldyBfc3Vic2NyaXB0aW9uX21hbmFnZXIyLmRlZmF1bHQoe1xuXHQgICAgICB0aW1lRW5kcG9pbnQ6IHRpbWVFbmRwb2ludCxcblx0ICAgICAgbGVhdmVFbmRwb2ludDogbGVhdmVFbmRwb2ludCxcblx0ICAgICAgaGVhcnRiZWF0RW5kcG9pbnQ6IGhlYXJ0YmVhdEVuZHBvaW50LFxuXHQgICAgICBzZXRTdGF0ZUVuZHBvaW50OiBzZXRTdGF0ZUVuZHBvaW50LFxuXHQgICAgICBzdWJzY3JpYmVFbmRwb2ludDogc3Vic2NyaWJlRW5kcG9pbnQsXG5cdCAgICAgIGNyeXB0bzogbW9kdWxlcy5jcnlwdG8sXG5cdCAgICAgIGNvbmZpZzogbW9kdWxlcy5jb25maWcsXG5cdCAgICAgIGxpc3RlbmVyTWFuYWdlcjogbGlzdGVuZXJNYW5hZ2VyXG5cdCAgICB9KTtcblxuXHQgICAgdGhpcy5hZGRMaXN0ZW5lciA9IGxpc3RlbmVyTWFuYWdlci5hZGRMaXN0ZW5lci5iaW5kKGxpc3RlbmVyTWFuYWdlcik7XG5cdCAgICB0aGlzLnJlbW92ZUxpc3RlbmVyID0gbGlzdGVuZXJNYW5hZ2VyLnJlbW92ZUxpc3RlbmVyLmJpbmQobGlzdGVuZXJNYW5hZ2VyKTtcblx0ICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzID0gbGlzdGVuZXJNYW5hZ2VyLnJlbW92ZUFsbExpc3RlbmVycy5iaW5kKGxpc3RlbmVyTWFuYWdlcik7XG5cblx0ICAgIHRoaXMuY2hhbm5lbEdyb3VwcyA9IHtcblx0ICAgICAgbGlzdEdyb3VwczogX2VuZHBvaW50Mi5kZWZhdWx0LmJpbmQodGhpcywgbW9kdWxlcywgbGlzdENoYW5uZWxHcm91cHNDb25maWcpLFxuXHQgICAgICBsaXN0Q2hhbm5lbHM6IF9lbmRwb2ludDIuZGVmYXVsdC5iaW5kKHRoaXMsIG1vZHVsZXMsIGxpc3RDaGFubmVsc0luQ2hhbm5lbEdyb3VwQ29uZmlnKSxcblx0ICAgICAgYWRkQ2hhbm5lbHM6IF9lbmRwb2ludDIuZGVmYXVsdC5iaW5kKHRoaXMsIG1vZHVsZXMsIGFkZENoYW5uZWxzQ2hhbm5lbEdyb3VwQ29uZmlnKSxcblx0ICAgICAgcmVtb3ZlQ2hhbm5lbHM6IF9lbmRwb2ludDIuZGVmYXVsdC5iaW5kKHRoaXMsIG1vZHVsZXMsIHJlbW92ZUNoYW5uZWxzQ2hhbm5lbEdyb3VwQ29uZmlnKSxcblx0ICAgICAgZGVsZXRlR3JvdXA6IF9lbmRwb2ludDIuZGVmYXVsdC5iaW5kKHRoaXMsIG1vZHVsZXMsIGRlbGV0ZUNoYW5uZWxHcm91cENvbmZpZylcblx0ICAgIH07XG5cblx0ICAgIHRoaXMucHVzaCA9IHtcblx0ICAgICAgYWRkQ2hhbm5lbHM6IF9lbmRwb2ludDIuZGVmYXVsdC5iaW5kKHRoaXMsIG1vZHVsZXMsIGFkZFB1c2hDaGFubmVsc0NvbmZpZyksXG5cdCAgICAgIHJlbW92ZUNoYW5uZWxzOiBfZW5kcG9pbnQyLmRlZmF1bHQuYmluZCh0aGlzLCBtb2R1bGVzLCByZW1vdmVQdXNoQ2hhbm5lbHNDb25maWcpLFxuXHQgICAgICBkZWxldGVEZXZpY2U6IF9lbmRwb2ludDIuZGVmYXVsdC5iaW5kKHRoaXMsIG1vZHVsZXMsIHJlbW92ZURldmljZVB1c2hDb25maWcpLFxuXHQgICAgICBsaXN0Q2hhbm5lbHM6IF9lbmRwb2ludDIuZGVmYXVsdC5iaW5kKHRoaXMsIG1vZHVsZXMsIGxpc3RQdXNoQ2hhbm5lbHNDb25maWcpXG5cdCAgICB9O1xuXG5cdCAgICB0aGlzLmhlcmVOb3cgPSBfZW5kcG9pbnQyLmRlZmF1bHQuYmluZCh0aGlzLCBtb2R1bGVzLCBwcmVzZW5jZUhlcmVOb3dDb25maWcpO1xuXHQgICAgdGhpcy53aGVyZU5vdyA9IF9lbmRwb2ludDIuZGVmYXVsdC5iaW5kKHRoaXMsIG1vZHVsZXMsIHByZXNlbmNlV2hlcmVOb3dFbmRwb2ludENvbmZpZyk7XG5cdCAgICB0aGlzLmdldFN0YXRlID0gX2VuZHBvaW50Mi5kZWZhdWx0LmJpbmQodGhpcywgbW9kdWxlcywgcHJlc2VuY2VHZXRTdGF0ZUNvbmZpZyk7XG5cdCAgICB0aGlzLnNldFN0YXRlID0gc3Vic2NyaXB0aW9uTWFuYWdlci5hZGFwdFN0YXRlQ2hhbmdlLmJpbmQoc3Vic2NyaXB0aW9uTWFuYWdlcik7XG5cblx0ICAgIHRoaXMuZ3JhbnQgPSBfZW5kcG9pbnQyLmRlZmF1bHQuYmluZCh0aGlzLCBtb2R1bGVzLCBncmFudEVuZHBvaW50Q29uZmlnKTtcblx0ICAgIHRoaXMuYXVkaXQgPSBfZW5kcG9pbnQyLmRlZmF1bHQuYmluZCh0aGlzLCBtb2R1bGVzLCBhdWRpdEVuZHBvaW50Q29uZmlnKTtcblxuXHQgICAgdGhpcy5wdWJsaXNoID0gX2VuZHBvaW50Mi5kZWZhdWx0LmJpbmQodGhpcywgbW9kdWxlcywgcHVibGlzaEVuZHBvaW50Q29uZmlnKTtcblxuXHQgICAgdGhpcy5maXJlID0gZnVuY3Rpb24gKGFyZ3MsIGNhbGxiYWNrKSB7XG5cdCAgICAgIGFyZ3MucmVwbGljYXRlID0gZmFsc2U7XG5cdCAgICAgIGFyZ3Muc3RvcmVJbkhpc3RvcnkgPSBmYWxzZTtcblx0ICAgICAgX3RoaXMucHVibGlzaChhcmdzLCBjYWxsYmFjayk7XG5cdCAgICB9O1xuXG5cdCAgICB0aGlzLmhpc3RvcnkgPSBfZW5kcG9pbnQyLmRlZmF1bHQuYmluZCh0aGlzLCBtb2R1bGVzLCBoaXN0b3J5RW5kcG9pbnRDb25maWcpO1xuXHQgICAgdGhpcy5mZXRjaE1lc3NhZ2VzID0gX2VuZHBvaW50Mi5kZWZhdWx0LmJpbmQodGhpcywgbW9kdWxlcywgZmV0Y2hNZXNzYWdlc0VuZHBvaW50Q29uZmlnKTtcblxuXHQgICAgdGhpcy50aW1lID0gdGltZUVuZHBvaW50O1xuXG5cdCAgICB0aGlzLnN1YnNjcmliZSA9IHN1YnNjcmlwdGlvbk1hbmFnZXIuYWRhcHRTdWJzY3JpYmVDaGFuZ2UuYmluZChzdWJzY3JpcHRpb25NYW5hZ2VyKTtcblx0ICAgIHRoaXMudW5zdWJzY3JpYmUgPSBzdWJzY3JpcHRpb25NYW5hZ2VyLmFkYXB0VW5zdWJzY3JpYmVDaGFuZ2UuYmluZChzdWJzY3JpcHRpb25NYW5hZ2VyKTtcblx0ICAgIHRoaXMuZGlzY29ubmVjdCA9IHN1YnNjcmlwdGlvbk1hbmFnZXIuZGlzY29ubmVjdC5iaW5kKHN1YnNjcmlwdGlvbk1hbmFnZXIpO1xuXHQgICAgdGhpcy5yZWNvbm5lY3QgPSBzdWJzY3JpcHRpb25NYW5hZ2VyLnJlY29ubmVjdC5iaW5kKHN1YnNjcmlwdGlvbk1hbmFnZXIpO1xuXG5cdCAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHN1YnNjcmlwdGlvbk1hbmFnZXIudW5zdWJzY3JpYmVBbGwoKTtcblx0ICAgICAgc3Vic2NyaXB0aW9uTWFuYWdlci5kaXNjb25uZWN0KCk7XG5cdCAgICB9O1xuXG5cdCAgICB0aGlzLnN0b3AgPSB0aGlzLmRlc3Ryb3k7XG5cblx0ICAgIHRoaXMudW5zdWJzY3JpYmVBbGwgPSBzdWJzY3JpcHRpb25NYW5hZ2VyLnVuc3Vic2NyaWJlQWxsLmJpbmQoc3Vic2NyaXB0aW9uTWFuYWdlcik7XG5cblx0ICAgIHRoaXMuZ2V0U3Vic2NyaWJlZENoYW5uZWxzID0gc3Vic2NyaXB0aW9uTWFuYWdlci5nZXRTdWJzY3JpYmVkQ2hhbm5lbHMuYmluZChzdWJzY3JpcHRpb25NYW5hZ2VyKTtcblx0ICAgIHRoaXMuZ2V0U3Vic2NyaWJlZENoYW5uZWxHcm91cHMgPSBzdWJzY3JpcHRpb25NYW5hZ2VyLmdldFN1YnNjcmliZWRDaGFubmVsR3JvdXBzLmJpbmQoc3Vic2NyaXB0aW9uTWFuYWdlcik7XG5cblx0ICAgIHRoaXMuZW5jcnlwdCA9IGNyeXB0by5lbmNyeXB0LmJpbmQoY3J5cHRvKTtcblx0ICAgIHRoaXMuZGVjcnlwdCA9IGNyeXB0by5kZWNyeXB0LmJpbmQoY3J5cHRvKTtcblxuXHQgICAgdGhpcy5nZXRBdXRoS2V5ID0gbW9kdWxlcy5jb25maWcuZ2V0QXV0aEtleS5iaW5kKG1vZHVsZXMuY29uZmlnKTtcblx0ICAgIHRoaXMuc2V0QXV0aEtleSA9IG1vZHVsZXMuY29uZmlnLnNldEF1dGhLZXkuYmluZChtb2R1bGVzLmNvbmZpZyk7XG5cdCAgICB0aGlzLnNldENpcGhlcktleSA9IG1vZHVsZXMuY29uZmlnLnNldENpcGhlcktleS5iaW5kKG1vZHVsZXMuY29uZmlnKTtcblx0ICAgIHRoaXMuZ2V0VVVJRCA9IG1vZHVsZXMuY29uZmlnLmdldFVVSUQuYmluZChtb2R1bGVzLmNvbmZpZyk7XG5cdCAgICB0aGlzLnNldFVVSUQgPSBtb2R1bGVzLmNvbmZpZy5zZXRVVUlELmJpbmQobW9kdWxlcy5jb25maWcpO1xuXHQgICAgdGhpcy5nZXRGaWx0ZXJFeHByZXNzaW9uID0gbW9kdWxlcy5jb25maWcuZ2V0RmlsdGVyRXhwcmVzc2lvbi5iaW5kKG1vZHVsZXMuY29uZmlnKTtcblx0ICAgIHRoaXMuc2V0RmlsdGVyRXhwcmVzc2lvbiA9IG1vZHVsZXMuY29uZmlnLnNldEZpbHRlckV4cHJlc3Npb24uYmluZChtb2R1bGVzLmNvbmZpZyk7XG5cdCAgfVxuXG5cdCAgX2NyZWF0ZUNsYXNzKF9jbGFzcywgW3tcblx0ICAgIGtleTogJ2dldFZlcnNpb24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZlcnNpb24oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLl9jb25maWcuZ2V0VmVyc2lvbigpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19fbmV0d29ya0Rvd25EZXRlY3RlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX19uZXR3b3JrRG93bkRldGVjdGVkKCkge1xuXHQgICAgICB0aGlzLl9saXN0ZW5lck1hbmFnZXIuYW5ub3VuY2VOZXR3b3JrRG93bigpO1xuXG5cdCAgICAgIGlmICh0aGlzLl9jb25maWcucmVzdG9yZSkge1xuXHQgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX19uZXR3b3JrVXBEZXRlY3RlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX19uZXR3b3JrVXBEZXRlY3RlZCgpIHtcblx0ICAgICAgdGhpcy5fbGlzdGVuZXJNYW5hZ2VyLmFubm91bmNlTmV0d29ya1VwKCk7XG5cdCAgICAgIHRoaXMucmVjb25uZWN0KCk7XG5cdCAgICB9XG5cdCAgfV0sIFt7XG5cdCAgICBrZXk6ICdnZW5lcmF0ZVVVSUQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCgpIHtcblx0ICAgICAgcmV0dXJuIF91dWlkMi5kZWZhdWx0LnY0KCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIF9jbGFzcztcblx0fSgpO1xuXG5cdF9jbGFzcy5PUEVSQVRJT05TID0gX29wZXJhdGlvbnMyLmRlZmF1bHQ7XG5cdF9jbGFzcy5DQVRFR09SSUVTID0gX2NhdGVnb3JpZXMyLmRlZmF1bHQ7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IF9jbGFzcztcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgdjEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgdjQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5cdHZhciB1dWlkID0gdjQ7XG5cdHV1aWQudjEgPSB2MTtcblx0dXVpZC52NCA9IHY0O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gdXVpZDtcblxuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gIFdlIGZlYXR1cmVcblx0Ly8gZGV0ZWN0IHRvIGRldGVybWluZSB0aGUgYmVzdCBSTkcgc291cmNlLCBub3JtYWxpemluZyB0byBhIGZ1bmN0aW9uIHRoYXRcblx0Ly8gcmV0dXJucyAxMjgtYml0cyBvZiByYW5kb21uZXNzLCBzaW5jZSB0aGF0J3Mgd2hhdCdzIHVzdWFsbHkgcmVxdWlyZWRcblx0dmFyIHJuZyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdHZhciBieXRlc1RvVXVpZCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cblx0Ly8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuXHQvL1xuXHQvLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTGlvc0svVVVJRC5qc1xuXHQvLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG5cdC8vIHJhbmRvbSAjJ3Mgd2UgbmVlZCB0byBpbml0IG5vZGUgYW5kIGNsb2Nrc2VxXG5cdHZhciBfc2VlZEJ5dGVzID0gcm5nKCk7XG5cblx0Ly8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG5cdHZhciBfbm9kZUlkID0gW1xuXHQgIF9zZWVkQnl0ZXNbMF0gfCAweDAxLFxuXHQgIF9zZWVkQnl0ZXNbMV0sIF9zZWVkQnl0ZXNbMl0sIF9zZWVkQnl0ZXNbM10sIF9zZWVkQnl0ZXNbNF0sIF9zZWVkQnl0ZXNbNV1cblx0XTtcblxuXHQvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuXHR2YXIgX2Nsb2Nrc2VxID0gKF9zZWVkQnl0ZXNbNl0gPDwgOCB8IF9zZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuXG5cdC8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxuXHR2YXIgX2xhc3RNU2VjcyA9IDAsIF9sYXN0TlNlY3MgPSAwO1xuXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYnJvb2ZhL25vZGUtdXVpZCBmb3IgQVBJIGRldGFpbHNcblx0ZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcblx0ICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblx0ICB2YXIgYiA9IGJ1ZiB8fCBbXTtcblxuXHQgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdCAgdmFyIGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTtcblxuXHQgIC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG5cdCAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cblx0ICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2Vjcydcblx0ICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuXHQgIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuXHQgIC8vIFBlciA0LjIuMS4yLCB1c2UgY291bnQgb2YgdXVpZCdzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGN1cnJlbnQgY2xvY2tcblx0ICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuXHQgIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTtcblxuXHQgIC8vIFRpbWUgc2luY2UgbGFzdCB1dWlkIGNyZWF0aW9uIChpbiBtc2Vjcylcblx0ICB2YXIgZHQgPSAobXNlY3MgLSBfbGFzdE1TZWNzKSArIChuc2VjcyAtIF9sYXN0TlNlY3MpLzEwMDAwO1xuXG5cdCAgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuXHQgIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcblx0ICB9XG5cblx0ICAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuXHQgIC8vIHRpbWUgaW50ZXJ2YWxcblx0ICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgbnNlY3MgPSAwO1xuXHQgIH1cblxuXHQgIC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcblx0ICBpZiAobnNlY3MgPj0gMTAwMDApIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigndXVpZC52MSgpOiBDYW5cXCd0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlYycpO1xuXHQgIH1cblxuXHQgIF9sYXN0TVNlY3MgPSBtc2Vjcztcblx0ICBfbGFzdE5TZWNzID0gbnNlY3M7XG5cdCAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7XG5cblx0ICAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcblx0ICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDtcblxuXHQgIC8vIGB0aW1lX2xvd2Bcblx0ICB2YXIgdGwgPSAoKG1zZWNzICYgMHhmZmZmZmZmKSAqIDEwMDAwICsgbnNlY3MpICUgMHgxMDAwMDAwMDA7XG5cdCAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcblx0ICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuXHQgIGJbaSsrXSA9IHRsID4+PiA4ICYgMHhmZjtcblx0ICBiW2krK10gPSB0bCAmIDB4ZmY7XG5cblx0ICAvLyBgdGltZV9taWRgXG5cdCAgdmFyIHRtaCA9IChtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDApICYgMHhmZmZmZmZmO1xuXHQgIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG5cdCAgYltpKytdID0gdG1oICYgMHhmZjtcblxuXHQgIC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG5cdCAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuXHQgIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmO1xuXG5cdCAgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpXG5cdCAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwO1xuXG5cdCAgLy8gYGNsb2NrX3NlcV9sb3dgXG5cdCAgYltpKytdID0gY2xvY2tzZXEgJiAweGZmO1xuXG5cdCAgLy8gYG5vZGVgXG5cdCAgdmFyIG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDtcblx0ICBmb3IgKHZhciBuID0gMDsgbiA8IDY7ICsrbikge1xuXHQgICAgYltpICsgbl0gPSBub2RlW25dO1xuXHQgIH1cblxuXHQgIHJldHVybiBidWYgPyBidWYgOiBieXRlc1RvVXVpZChiKTtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0gdjE7XG5cblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG5cdC8vIGJyb3dzZXIgdGhpcyBpcyBhIGxpdHRsZSBjb21wbGljYXRlZCBkdWUgdG8gdW5rbm93biBxdWFsaXR5IG9mIE1hdGgucmFuZG9tKClcblx0Ly8gYW5kIGluY29uc2lzdGVudCBzdXBwb3J0IGZvciB0aGUgYGNyeXB0b2AgQVBJLiAgV2UgZG8gdGhlIGJlc3Qgd2UgY2FuIHZpYVxuXHQvLyBmZWF0dXJlLWRldGVjdGlvblxuXHR2YXIgcm5nO1xuXG5cdHZhciBjcnlwdG8gPSBnbG9iYWwuY3J5cHRvIHx8IGdsb2JhbC5tc0NyeXB0bzsgLy8gZm9yIElFIDExXG5cdGlmIChjcnlwdG8gJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuXHQgIC8vIFdIQVRXRyBjcnlwdG8gUk5HIC0gaHR0cDovL3dpa2kud2hhdHdnLm9yZy93aWtpL0NyeXB0b1xuXHQgIHZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcblx0ICBybmcgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG5cdCAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcblx0ICAgIHJldHVybiBybmRzODtcblx0ICB9O1xuXHR9XG5cblx0aWYgKCFybmcpIHtcblx0ICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG5cdCAgLy9cblx0ICAvLyBJZiBhbGwgZWxzZSBmYWlscywgdXNlIE1hdGgucmFuZG9tKCkuICBJdCdzIGZhc3QsIGJ1dCBpcyBvZiB1bnNwZWNpZmllZFxuXHQgIC8vIHF1YWxpdHkuXG5cdCAgdmFyICBybmRzID0gbmV3IEFycmF5KDE2KTtcblx0ICBybmcgPSBmdW5jdGlvbigpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykge1xuXHQgICAgICBpZiAoKGkgJiAweDAzKSA9PT0gMCkgciA9IE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMDtcblx0ICAgICAgcm5kc1tpXSA9IHIgPj4+ICgoaSAmIDB4MDMpIDw8IDMpICYgMHhmZjtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHJuZHM7XG5cdCAgfTtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0gcm5nO1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcblx0ICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcblx0ICovXG5cdHZhciBieXRlVG9IZXggPSBbXTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuXHQgIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG5cdH1cblxuXHRmdW5jdGlvbiBieXRlc1RvVXVpZChidWYsIG9mZnNldCkge1xuXHQgIHZhciBpID0gb2Zmc2V0IHx8IDA7XG5cdCAgdmFyIGJ0aCA9IGJ5dGVUb0hleDtcblx0ICByZXR1cm4gIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICtcblx0ICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgJy0nICtcblx0ICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgJy0nICtcblx0ICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgJy0nICtcblx0ICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgJy0nICtcblx0ICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICtcblx0ICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICtcblx0ICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dO1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBieXRlc1RvVXVpZDtcblxuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHJuZyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdHZhciBieXRlc1RvVXVpZCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cblx0ZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcblx0ICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuXHQgIGlmICh0eXBlb2Yob3B0aW9ucykgPT0gJ3N0cmluZycpIHtcblx0ICAgIGJ1ZiA9IG9wdGlvbnMgPT0gJ2JpbmFyeScgPyBuZXcgQXJyYXkoMTYpIDogbnVsbDtcblx0ICAgIG9wdGlvbnMgPSBudWxsO1xuXHQgIH1cblx0ICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHQgIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuXHQgIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblx0ICBybmRzWzZdID0gKHJuZHNbNl0gJiAweDBmKSB8IDB4NDA7XG5cdCAgcm5kc1s4XSA9IChybmRzWzhdICYgMHgzZikgfCAweDgwO1xuXG5cdCAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cdCAgaWYgKGJ1Zikge1xuXHQgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IDE2OyArK2lpKSB7XG5cdCAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0gdjQ7XG5cblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5cdHZhciBfdXVpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIF91dWlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V1aWQpO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblx0dmFyIF9jbGFzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBfY2xhc3MoX3JlZikge1xuXHQgICAgdmFyIHNldHVwID0gX3JlZi5zZXR1cCxcblx0ICAgICAgICBkYiA9IF9yZWYuZGI7XG5cblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBfY2xhc3MpO1xuXG5cdCAgICB0aGlzLl9kYiA9IGRiO1xuXG5cdCAgICB0aGlzLmluc3RhbmNlSWQgPSAncG4tJyArIF91dWlkMi5kZWZhdWx0LnY0KCk7XG5cdCAgICB0aGlzLnNlY3JldEtleSA9IHNldHVwLnNlY3JldEtleSB8fCBzZXR1cC5zZWNyZXRfa2V5O1xuXHQgICAgdGhpcy5zdWJzY3JpYmVLZXkgPSBzZXR1cC5zdWJzY3JpYmVLZXkgfHwgc2V0dXAuc3Vic2NyaWJlX2tleTtcblx0ICAgIHRoaXMucHVibGlzaEtleSA9IHNldHVwLnB1Ymxpc2hLZXkgfHwgc2V0dXAucHVibGlzaF9rZXk7XG5cdCAgICB0aGlzLnNka0ZhbWlseSA9IHNldHVwLnNka0ZhbWlseTtcblx0ICAgIHRoaXMucGFydG5lcklkID0gc2V0dXAucGFydG5lcklkO1xuXHQgICAgdGhpcy5zZXRBdXRoS2V5KHNldHVwLmF1dGhLZXkpO1xuXHQgICAgdGhpcy5zZXRDaXBoZXJLZXkoc2V0dXAuY2lwaGVyS2V5KTtcblxuXHQgICAgdGhpcy5zZXRGaWx0ZXJFeHByZXNzaW9uKHNldHVwLmZpbHRlckV4cHJlc3Npb24pO1xuXG5cdCAgICB0aGlzLm9yaWdpbiA9IHNldHVwLm9yaWdpbiB8fCAncHVic3ViLnB1Ym51Yi5jb20nO1xuXHQgICAgdGhpcy5zZWN1cmUgPSBzZXR1cC5zc2wgfHwgZmFsc2U7XG5cdCAgICB0aGlzLnJlc3RvcmUgPSBzZXR1cC5yZXN0b3JlIHx8IGZhbHNlO1xuXHQgICAgdGhpcy5wcm94eSA9IHNldHVwLnByb3h5O1xuXHQgICAgdGhpcy5rZWVwQWxpdmUgPSBzZXR1cC5rZWVwQWxpdmU7XG5cdCAgICB0aGlzLmtlZXBBbGl2ZVNldHRpbmdzID0gc2V0dXAua2VlcEFsaXZlU2V0dGluZ3M7XG5cblx0ICAgIGlmICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnICYmIGxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6Jykge1xuXHQgICAgICB0aGlzLnNlY3VyZSA9IHRydWU7XG5cdCAgICB9XG5cblx0ICAgIHRoaXMubG9nVmVyYm9zaXR5ID0gc2V0dXAubG9nVmVyYm9zaXR5IHx8IGZhbHNlO1xuXHQgICAgdGhpcy5zdXBwcmVzc0xlYXZlRXZlbnRzID0gc2V0dXAuc3VwcHJlc3NMZWF2ZUV2ZW50cyB8fCBmYWxzZTtcblxuXHQgICAgdGhpcy5hbm5vdW5jZUZhaWxlZEhlYXJ0YmVhdHMgPSBzZXR1cC5hbm5vdW5jZUZhaWxlZEhlYXJ0YmVhdHMgfHwgdHJ1ZTtcblx0ICAgIHRoaXMuYW5ub3VuY2VTdWNjZXNzZnVsSGVhcnRiZWF0cyA9IHNldHVwLmFubm91bmNlU3VjY2Vzc2Z1bEhlYXJ0YmVhdHMgfHwgZmFsc2U7XG5cblx0ICAgIHRoaXMudXNlSW5zdGFuY2VJZCA9IHNldHVwLnVzZUluc3RhbmNlSWQgfHwgZmFsc2U7XG5cdCAgICB0aGlzLnVzZVJlcXVlc3RJZCA9IHNldHVwLnVzZVJlcXVlc3RJZCB8fCBmYWxzZTtcblxuXHQgICAgdGhpcy5yZXF1ZXN0TWVzc2FnZUNvdW50VGhyZXNob2xkID0gc2V0dXAucmVxdWVzdE1lc3NhZ2VDb3VudFRocmVzaG9sZDtcblxuXHQgICAgdGhpcy5zZXRUcmFuc2FjdGlvblRpbWVvdXQoc2V0dXAudHJhbnNhY3Rpb25hbFJlcXVlc3RUaW1lb3V0IHx8IDE1ICogMTAwMCk7XG5cblx0ICAgIHRoaXMuc2V0U3Vic2NyaWJlVGltZW91dChzZXR1cC5zdWJzY3JpYmVSZXF1ZXN0VGltZW91dCB8fCAzMTAgKiAxMDAwKTtcblxuXHQgICAgdGhpcy5zZXRTZW5kQmVhY29uQ29uZmlnKHNldHVwLnVzZVNlbmRCZWFjb24gfHwgdHJ1ZSk7XG5cblx0ICAgIHRoaXMuc2V0UHJlc2VuY2VUaW1lb3V0KHNldHVwLnByZXNlbmNlVGltZW91dCB8fCAzMDApO1xuXG5cdCAgICBpZiAoc2V0dXAuaGVhcnRiZWF0SW50ZXJ2YWwpIHtcblx0ICAgICAgdGhpcy5zZXRIZWFydGJlYXRJbnRlcnZhbChzZXR1cC5oZWFydGJlYXRJbnRlcnZhbCk7XG5cdCAgICB9XG5cblx0ICAgIHRoaXMuc2V0VVVJRCh0aGlzLl9kZWNpZGVVVUlEKHNldHVwLnV1aWQpKTtcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoX2NsYXNzLCBbe1xuXHQgICAga2V5OiAnZ2V0QXV0aEtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXV0aEtleSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuYXV0aEtleTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRBdXRoS2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBdXRoS2V5KHZhbCkge1xuXHQgICAgICB0aGlzLmF1dGhLZXkgPSB2YWw7cmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0Q2lwaGVyS2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDaXBoZXJLZXkodmFsKSB7XG5cdCAgICAgIHRoaXMuY2lwaGVyS2V5ID0gdmFsO3JldHVybiB0aGlzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFVVSUQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVVSUQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlVVSUQ7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0VVVJRCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VVVJRCh2YWwpIHtcblx0ICAgICAgaWYgKHRoaXMuX2RiICYmIHRoaXMuX2RiLnNldCkgdGhpcy5fZGIuc2V0KHRoaXMuc3Vic2NyaWJlS2V5ICsgJ3V1aWQnLCB2YWwpO1xuXHQgICAgICB0aGlzLlVVSUQgPSB2YWw7XG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEZpbHRlckV4cHJlc3Npb24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpbHRlckV4cHJlc3Npb24oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmZpbHRlckV4cHJlc3Npb247XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0RmlsdGVyRXhwcmVzc2lvbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RmlsdGVyRXhwcmVzc2lvbih2YWwpIHtcblx0ICAgICAgdGhpcy5maWx0ZXJFeHByZXNzaW9uID0gdmFsO3JldHVybiB0aGlzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFByZXNlbmNlVGltZW91dCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UHJlc2VuY2VUaW1lb3V0KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5fcHJlc2VuY2VUaW1lb3V0O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldFByZXNlbmNlVGltZW91dCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UHJlc2VuY2VUaW1lb3V0KHZhbCkge1xuXHQgICAgICB0aGlzLl9wcmVzZW5jZVRpbWVvdXQgPSB2YWw7XG5cdCAgICAgIHRoaXMuc2V0SGVhcnRiZWF0SW50ZXJ2YWwodGhpcy5fcHJlc2VuY2VUaW1lb3V0IC8gMiAtIDEpO1xuXHQgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRIZWFydGJlYXRJbnRlcnZhbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SGVhcnRiZWF0SW50ZXJ2YWwoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLl9oZWFydGJlYXRJbnRlcnZhbDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRIZWFydGJlYXRJbnRlcnZhbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SGVhcnRiZWF0SW50ZXJ2YWwodmFsKSB7XG5cdCAgICAgIHRoaXMuX2hlYXJ0YmVhdEludGVydmFsID0gdmFsO3JldHVybiB0aGlzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFN1YnNjcmliZVRpbWVvdXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN1YnNjcmliZVRpbWVvdXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmVSZXF1ZXN0VGltZW91dDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRTdWJzY3JpYmVUaW1lb3V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTdWJzY3JpYmVUaW1lb3V0KHZhbCkge1xuXHQgICAgICB0aGlzLl9zdWJzY3JpYmVSZXF1ZXN0VGltZW91dCA9IHZhbDtyZXR1cm4gdGhpcztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRUcmFuc2FjdGlvblRpbWVvdXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRyYW5zYWN0aW9uVGltZW91dCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uYWxSZXF1ZXN0VGltZW91dDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRUcmFuc2FjdGlvblRpbWVvdXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRyYW5zYWN0aW9uVGltZW91dCh2YWwpIHtcblx0ICAgICAgdGhpcy5fdHJhbnNhY3Rpb25hbFJlcXVlc3RUaW1lb3V0ID0gdmFsO3JldHVybiB0aGlzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2lzU2VuZEJlYWNvbkVuYWJsZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGlzU2VuZEJlYWNvbkVuYWJsZWQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLl91c2VTZW5kQmVhY29uO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldFNlbmRCZWFjb25Db25maWcnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNlbmRCZWFjb25Db25maWcodmFsKSB7XG5cdCAgICAgIHRoaXMuX3VzZVNlbmRCZWFjb24gPSB2YWw7cmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0VmVyc2lvbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmVyc2lvbigpIHtcblx0ICAgICAgcmV0dXJuICc0LjUuMCc7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2RlY2lkZVVVSUQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWNpZGVVVUlEKHByb3ZpZGVkVVVJRCkge1xuXHQgICAgICBpZiAocHJvdmlkZWRVVUlEKSB7XG5cdCAgICAgICAgcmV0dXJuIHByb3ZpZGVkVVVJRDtcblx0ICAgICAgfVxuXG5cdCAgICAgIGlmICh0aGlzLl9kYiAmJiB0aGlzLl9kYi5nZXQgJiYgdGhpcy5fZGIuZ2V0KHRoaXMuc3Vic2NyaWJlS2V5ICsgJ3V1aWQnKSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9kYi5nZXQodGhpcy5zdWJzY3JpYmVLZXkgKyAndXVpZCcpO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuICdwbi0nICsgX3V1aWQyLmRlZmF1bHQudjQoKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cblx0ICByZXR1cm4gX2NsYXNzO1xuXHR9KCk7XG5cblx0ZXhwb3J0cy5kZWZhdWx0ID0gX2NsYXNzO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vKioqLyB9LFxuLyogOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG5cdHZhciBfY29uZmlnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpZyk7XG5cblx0dmFyIF9obWFjU2hhID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cblx0dmFyIF9obWFjU2hhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2htYWNTaGEpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXHR2YXIgX2NsYXNzID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIF9jbGFzcyhfcmVmKSB7XG5cdCAgICB2YXIgY29uZmlnID0gX3JlZi5jb25maWc7XG5cblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBfY2xhc3MpO1xuXG5cdCAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG5cblx0ICAgIHRoaXMuX2l2ID0gJzAxMjM0NTY3ODkwMTIzNDUnO1xuXG5cdCAgICB0aGlzLl9hbGxvd2VkS2V5RW5jb2RpbmdzID0gWydoZXgnLCAndXRmOCcsICdiYXNlNjQnLCAnYmluYXJ5J107XG5cdCAgICB0aGlzLl9hbGxvd2VkS2V5TGVuZ3RocyA9IFsxMjgsIDI1Nl07XG5cdCAgICB0aGlzLl9hbGxvd2VkTW9kZXMgPSBbJ2VjYicsICdjYmMnXTtcblxuXHQgICAgdGhpcy5fZGVmYXVsdE9wdGlvbnMgPSB7XG5cdCAgICAgIGVuY3J5cHRLZXk6IHRydWUsXG5cdCAgICAgIGtleUVuY29kaW5nOiAndXRmOCcsXG5cdCAgICAgIGtleUxlbmd0aDogMjU2LFxuXHQgICAgICBtb2RlOiAnY2JjJ1xuXHQgICAgfTtcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoX2NsYXNzLCBbe1xuXHQgICAga2V5OiAnSE1BQ1NIQTI1NicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gSE1BQ1NIQTI1NihkYXRhKSB7XG5cdCAgICAgIHZhciBoYXNoID0gX2htYWNTaGEyLmRlZmF1bHQuSG1hY1NIQTI1NihkYXRhLCB0aGlzLl9jb25maWcuc2VjcmV0S2V5KTtcblx0ICAgICAgcmV0dXJuIGhhc2gudG9TdHJpbmcoX2htYWNTaGEyLmRlZmF1bHQuZW5jLkJhc2U2NCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnU0hBMjU2Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBTSEEyNTYocykge1xuXHQgICAgICByZXR1cm4gX2htYWNTaGEyLmRlZmF1bHQuU0hBMjU2KHMpLnRvU3RyaW5nKF9obWFjU2hhMi5kZWZhdWx0LmVuYy5IZXgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19wYXJzZU9wdGlvbnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9wYXJzZU9wdGlvbnMoaW5jb21pbmdPcHRpb25zKSB7XG5cdCAgICAgIHZhciBvcHRpb25zID0gaW5jb21pbmdPcHRpb25zIHx8IHt9O1xuXHQgICAgICBpZiAoIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2VuY3J5cHRLZXknKSkgb3B0aW9ucy5lbmNyeXB0S2V5ID0gdGhpcy5fZGVmYXVsdE9wdGlvbnMuZW5jcnlwdEtleTtcblx0ICAgICAgaWYgKCFvcHRpb25zLmhhc093blByb3BlcnR5KCdrZXlFbmNvZGluZycpKSBvcHRpb25zLmtleUVuY29kaW5nID0gdGhpcy5fZGVmYXVsdE9wdGlvbnMua2V5RW5jb2Rpbmc7XG5cdCAgICAgIGlmICghb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgna2V5TGVuZ3RoJykpIG9wdGlvbnMua2V5TGVuZ3RoID0gdGhpcy5fZGVmYXVsdE9wdGlvbnMua2V5TGVuZ3RoO1xuXHQgICAgICBpZiAoIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ21vZGUnKSkgb3B0aW9ucy5tb2RlID0gdGhpcy5fZGVmYXVsdE9wdGlvbnMubW9kZTtcblxuXHQgICAgICBpZiAodGhpcy5fYWxsb3dlZEtleUVuY29kaW5ncy5pbmRleE9mKG9wdGlvbnMua2V5RW5jb2RpbmcudG9Mb3dlckNhc2UoKSkgPT09IC0xKSB7XG5cdCAgICAgICAgb3B0aW9ucy5rZXlFbmNvZGluZyA9IHRoaXMuX2RlZmF1bHRPcHRpb25zLmtleUVuY29kaW5nO1xuXHQgICAgICB9XG5cblx0ICAgICAgaWYgKHRoaXMuX2FsbG93ZWRLZXlMZW5ndGhzLmluZGV4T2YocGFyc2VJbnQob3B0aW9ucy5rZXlMZW5ndGgsIDEwKSkgPT09IC0xKSB7XG5cdCAgICAgICAgb3B0aW9ucy5rZXlMZW5ndGggPSB0aGlzLl9kZWZhdWx0T3B0aW9ucy5rZXlMZW5ndGg7XG5cdCAgICAgIH1cblxuXHQgICAgICBpZiAodGhpcy5fYWxsb3dlZE1vZGVzLmluZGV4T2Yob3B0aW9ucy5tb2RlLnRvTG93ZXJDYXNlKCkpID09PSAtMSkge1xuXHQgICAgICAgIG9wdGlvbnMubW9kZSA9IHRoaXMuX2RlZmF1bHRPcHRpb25zLm1vZGU7XG5cdCAgICAgIH1cblxuXHQgICAgICByZXR1cm4gb3B0aW9ucztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZGVjb2RlS2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVjb2RlS2V5KGtleSwgb3B0aW9ucykge1xuXHQgICAgICBpZiAob3B0aW9ucy5rZXlFbmNvZGluZyA9PT0gJ2Jhc2U2NCcpIHtcblx0ICAgICAgICByZXR1cm4gX2htYWNTaGEyLmRlZmF1bHQuZW5jLkJhc2U2NC5wYXJzZShrZXkpO1xuXHQgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMua2V5RW5jb2RpbmcgPT09ICdoZXgnKSB7XG5cdCAgICAgICAgcmV0dXJuIF9obWFjU2hhMi5kZWZhdWx0LmVuYy5IZXgucGFyc2Uoa2V5KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4ga2V5O1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldFBhZGRlZEtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFBhZGRlZEtleShrZXksIG9wdGlvbnMpIHtcblx0ICAgICAga2V5ID0gdGhpcy5fZGVjb2RlS2V5KGtleSwgb3B0aW9ucyk7XG5cdCAgICAgIGlmIChvcHRpb25zLmVuY3J5cHRLZXkpIHtcblx0ICAgICAgICByZXR1cm4gX2htYWNTaGEyLmRlZmF1bHQuZW5jLlV0ZjgucGFyc2UodGhpcy5TSEEyNTYoa2V5KS5zbGljZSgwLCAzMikpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBrZXk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0TW9kZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldE1vZGUob3B0aW9ucykge1xuXHQgICAgICBpZiAob3B0aW9ucy5tb2RlID09PSAnZWNiJykge1xuXHQgICAgICAgIHJldHVybiBfaG1hY1NoYTIuZGVmYXVsdC5tb2RlLkVDQjtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gX2htYWNTaGEyLmRlZmF1bHQubW9kZS5DQkM7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0SVYnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRJVihvcHRpb25zKSB7XG5cdCAgICAgIHJldHVybiBvcHRpb25zLm1vZGUgPT09ICdjYmMnID8gX2htYWNTaGEyLmRlZmF1bHQuZW5jLlV0ZjgucGFyc2UodGhpcy5faXYpIDogbnVsbDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdlbmNyeXB0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBlbmNyeXB0KGRhdGEsIGN1c3RvbUNpcGhlcktleSwgb3B0aW9ucykge1xuXHQgICAgICBpZiAoIWN1c3RvbUNpcGhlcktleSAmJiAhdGhpcy5fY29uZmlnLmNpcGhlcktleSkgcmV0dXJuIGRhdGE7XG5cdCAgICAgIG9wdGlvbnMgPSB0aGlzLl9wYXJzZU9wdGlvbnMob3B0aW9ucyk7XG5cdCAgICAgIHZhciBpdiA9IHRoaXMuX2dldElWKG9wdGlvbnMpO1xuXHQgICAgICB2YXIgbW9kZSA9IHRoaXMuX2dldE1vZGUob3B0aW9ucyk7XG5cdCAgICAgIHZhciBjaXBoZXJLZXkgPSB0aGlzLl9nZXRQYWRkZWRLZXkoY3VzdG9tQ2lwaGVyS2V5IHx8IHRoaXMuX2NvbmZpZy5jaXBoZXJLZXksIG9wdGlvbnMpO1xuXHQgICAgICB2YXIgZW5jcnlwdGVkSGV4QXJyYXkgPSBfaG1hY1NoYTIuZGVmYXVsdC5BRVMuZW5jcnlwdChkYXRhLCBjaXBoZXJLZXksIHsgaXY6IGl2LCBtb2RlOiBtb2RlIH0pLmNpcGhlcnRleHQ7XG5cdCAgICAgIHZhciBiYXNlNjRFbmNyeXB0ZWQgPSBlbmNyeXB0ZWRIZXhBcnJheS50b1N0cmluZyhfaG1hY1NoYTIuZGVmYXVsdC5lbmMuQmFzZTY0KTtcblx0ICAgICAgcmV0dXJuIGJhc2U2NEVuY3J5cHRlZCB8fCBkYXRhO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2RlY3J5cHQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRlY3J5cHQoZGF0YSwgY3VzdG9tQ2lwaGVyS2V5LCBvcHRpb25zKSB7XG5cdCAgICAgIGlmICghY3VzdG9tQ2lwaGVyS2V5ICYmICF0aGlzLl9jb25maWcuY2lwaGVyS2V5KSByZXR1cm4gZGF0YTtcblx0ICAgICAgb3B0aW9ucyA9IHRoaXMuX3BhcnNlT3B0aW9ucyhvcHRpb25zKTtcblx0ICAgICAgdmFyIGl2ID0gdGhpcy5fZ2V0SVYob3B0aW9ucyk7XG5cdCAgICAgIHZhciBtb2RlID0gdGhpcy5fZ2V0TW9kZShvcHRpb25zKTtcblx0ICAgICAgdmFyIGNpcGhlcktleSA9IHRoaXMuX2dldFBhZGRlZEtleShjdXN0b21DaXBoZXJLZXkgfHwgdGhpcy5fY29uZmlnLmNpcGhlcktleSwgb3B0aW9ucyk7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgdmFyIGNpcGhlcnRleHQgPSBfaG1hY1NoYTIuZGVmYXVsdC5lbmMuQmFzZTY0LnBhcnNlKGRhdGEpO1xuXHQgICAgICAgIHZhciBwbGFpbkpTT04gPSBfaG1hY1NoYTIuZGVmYXVsdC5BRVMuZGVjcnlwdCh7IGNpcGhlcnRleHQ6IGNpcGhlcnRleHQgfSwgY2lwaGVyS2V5LCB7IGl2OiBpdiwgbW9kZTogbW9kZSB9KS50b1N0cmluZyhfaG1hY1NoYTIuZGVmYXVsdC5lbmMuVXRmOCk7XG5cdCAgICAgICAgdmFyIHBsYWludGV4dCA9IEpTT04ucGFyc2UocGxhaW5KU09OKTtcblx0ICAgICAgICByZXR1cm4gcGxhaW50ZXh0O1xuXHQgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cblx0ICByZXR1cm4gX2NsYXNzO1xuXHR9KCk7XG5cblx0ZXhwb3J0cy5kZWZhdWx0ID0gX2NsYXNzO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgQ3J5cHRvSlMgPSBDcnlwdG9KUyB8fCBmdW5jdGlvbiAoaCwgcykge1xuXHQgIHZhciBmID0ge30sXG5cdCAgICAgIGcgPSBmLmxpYiA9IHt9LFxuXHQgICAgICBxID0gZnVuY3Rpb24gcSgpIHt9LFxuXHQgICAgICBtID0gZy5CYXNlID0geyBleHRlbmQ6IGZ1bmN0aW9uIGV4dGVuZChhKSB7XG5cdCAgICAgIHEucHJvdG90eXBlID0gdGhpczt2YXIgYyA9IG5ldyBxKCk7YSAmJiBjLm1peEluKGEpO2MuaGFzT3duUHJvcGVydHkoXCJpbml0XCIpIHx8IChjLmluaXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgYy4kc3VwZXIuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICB9KTtjLmluaXQucHJvdG90eXBlID0gYztjLiRzdXBlciA9IHRoaXM7cmV0dXJuIGM7XG5cdCAgICB9LCBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0ICAgICAgdmFyIGEgPSB0aGlzLmV4dGVuZCgpO2EuaW5pdC5hcHBseShhLCBhcmd1bWVudHMpO3JldHVybiBhO1xuXHQgICAgfSwgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHt9LCBtaXhJbjogZnVuY3Rpb24gbWl4SW4oYSkge1xuXHQgICAgICBmb3IgKHZhciBjIGluIGEpIHtcblx0ICAgICAgICBhLmhhc093blByb3BlcnR5KGMpICYmICh0aGlzW2NdID0gYVtjXSk7XG5cdCAgICAgIH1hLmhhc093blByb3BlcnR5KFwidG9TdHJpbmdcIikgJiYgKHRoaXMudG9TdHJpbmcgPSBhLnRvU3RyaW5nKTtcblx0ICAgIH0sIGNsb25lOiBmdW5jdGlvbiBjbG9uZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuaW5pdC5wcm90b3R5cGUuZXh0ZW5kKHRoaXMpO1xuXHQgICAgfSB9LFxuXHQgICAgICByID0gZy5Xb3JkQXJyYXkgPSBtLmV4dGVuZCh7IGluaXQ6IGZ1bmN0aW9uIGluaXQoYSwgYykge1xuXHQgICAgICBhID0gdGhpcy53b3JkcyA9IGEgfHwgW107dGhpcy5zaWdCeXRlcyA9IGMgIT0gcyA/IGMgOiA0ICogYS5sZW5ndGg7XG5cdCAgICB9LCB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoYSkge1xuXHQgICAgICByZXR1cm4gKGEgfHwgaykuc3RyaW5naWZ5KHRoaXMpO1xuXHQgICAgfSwgY29uY2F0OiBmdW5jdGlvbiBjb25jYXQoYSkge1xuXHQgICAgICB2YXIgYyA9IHRoaXMud29yZHMsXG5cdCAgICAgICAgICBkID0gYS53b3Jkcyxcblx0ICAgICAgICAgIGIgPSB0aGlzLnNpZ0J5dGVzO2EgPSBhLnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZiAoYiAlIDQpIGZvciAodmFyIGUgPSAwOyBlIDwgYTsgZSsrKSB7XG5cdCAgICAgICAgY1tiICsgZSA+Pj4gMl0gfD0gKGRbZSA+Pj4gMl0gPj4+IDI0IC0gOCAqIChlICUgNCkgJiAyNTUpIDw8IDI0IC0gOCAqICgoYiArIGUpICUgNCk7XG5cdCAgICAgIH0gZWxzZSBpZiAoNjU1MzUgPCBkLmxlbmd0aCkgZm9yIChlID0gMDsgZSA8IGE7IGUgKz0gNCkge1xuXHQgICAgICAgIGNbYiArIGUgPj4+IDJdID0gZFtlID4+PiAyXTtcblx0ICAgICAgfSBlbHNlIGMucHVzaC5hcHBseShjLCBkKTt0aGlzLnNpZ0J5dGVzICs9IGE7cmV0dXJuIHRoaXM7XG5cdCAgICB9LCBjbGFtcDogZnVuY3Rpb24gY2xhbXAoKSB7XG5cdCAgICAgIHZhciBhID0gdGhpcy53b3Jkcyxcblx0ICAgICAgICAgIGMgPSB0aGlzLnNpZ0J5dGVzO2FbYyA+Pj4gMl0gJj0gNDI5NDk2NzI5NSA8PCAzMiAtIDggKiAoYyAlIDQpO2EubGVuZ3RoID0gaC5jZWlsKGMgLyA0KTtcblx0ICAgIH0sIGNsb25lOiBmdW5jdGlvbiBjbG9uZSgpIHtcblx0ICAgICAgdmFyIGEgPSBtLmNsb25lLmNhbGwodGhpcyk7YS53b3JkcyA9IHRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIGE7XG5cdCAgICB9LCByYW5kb206IGZ1bmN0aW9uIHJhbmRvbShhKSB7XG5cdCAgICAgIGZvciAodmFyIGMgPSBbXSwgZCA9IDA7IGQgPCBhOyBkICs9IDQpIHtcblx0ICAgICAgICBjLnB1c2goNDI5NDk2NzI5NiAqIGgucmFuZG9tKCkgfCAwKTtcblx0ICAgICAgfXJldHVybiBuZXcgci5pbml0KGMsIGEpO1xuXHQgICAgfSB9KSxcblx0ICAgICAgbCA9IGYuZW5jID0ge30sXG5cdCAgICAgIGsgPSBsLkhleCA9IHsgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoYSkge1xuXHQgICAgICB2YXIgYyA9IGEud29yZHM7YSA9IGEuc2lnQnl0ZXM7Zm9yICh2YXIgZCA9IFtdLCBiID0gMDsgYiA8IGE7IGIrKykge1xuXHQgICAgICAgIHZhciBlID0gY1tiID4+PiAyXSA+Pj4gMjQgLSA4ICogKGIgJSA0KSAmIDI1NTtkLnB1c2goKGUgPj4+IDQpLnRvU3RyaW5nKDE2KSk7ZC5wdXNoKChlICYgMTUpLnRvU3RyaW5nKDE2KSk7XG5cdCAgICAgIH1yZXR1cm4gZC5qb2luKFwiXCIpO1xuXHQgICAgfSwgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGEpIHtcblx0ICAgICAgZm9yICh2YXIgYyA9IGEubGVuZ3RoLCBkID0gW10sIGIgPSAwOyBiIDwgYzsgYiArPSAyKSB7XG5cdCAgICAgICAgZFtiID4+PiAzXSB8PSBwYXJzZUludChhLnN1YnN0cihiLCAyKSwgMTYpIDw8IDI0IC0gNCAqIChiICUgOCk7XG5cdCAgICAgIH1yZXR1cm4gbmV3IHIuaW5pdChkLCBjIC8gMik7XG5cdCAgICB9IH0sXG5cdCAgICAgIG4gPSBsLkxhdGluMSA9IHsgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoYSkge1xuXHQgICAgICB2YXIgYyA9IGEud29yZHM7YSA9IGEuc2lnQnl0ZXM7Zm9yICh2YXIgZCA9IFtdLCBiID0gMDsgYiA8IGE7IGIrKykge1xuXHQgICAgICAgIGQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGNbYiA+Pj4gMl0gPj4+IDI0IC0gOCAqIChiICUgNCkgJiAyNTUpKTtcblx0ICAgICAgfXJldHVybiBkLmpvaW4oXCJcIik7XG5cdCAgICB9LCBwYXJzZTogZnVuY3Rpb24gcGFyc2UoYSkge1xuXHQgICAgICBmb3IgKHZhciBjID0gYS5sZW5ndGgsIGQgPSBbXSwgYiA9IDA7IGIgPCBjOyBiKyspIHtcblx0ICAgICAgICBkW2IgPj4+IDJdIHw9IChhLmNoYXJDb2RlQXQoYikgJiAyNTUpIDw8IDI0IC0gOCAqIChiICUgNCk7XG5cdCAgICAgIH1yZXR1cm4gbmV3IHIuaW5pdChkLCBjKTtcblx0ICAgIH0gfSxcblx0ICAgICAgaiA9IGwuVXRmOCA9IHsgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoYSkge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKG4uc3RyaW5naWZ5KGEpKSk7XG5cdCAgICAgIH0gY2F0Y2ggKGMpIHtcblx0ICAgICAgICB0aHJvdyBFcnJvcihcIk1hbGZvcm1lZCBVVEYtOCBkYXRhXCIpO1xuXHQgICAgICB9XG5cdCAgICB9LCBwYXJzZTogZnVuY3Rpb24gcGFyc2UoYSkge1xuXHQgICAgICByZXR1cm4gbi5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYSkpKTtcblx0ICAgIH0gfSxcblx0ICAgICAgdSA9IGcuQnVmZmVyZWRCbG9ja0FsZ29yaXRobSA9IG0uZXh0ZW5kKHsgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXHQgICAgICB0aGlzLl9kYXRhID0gbmV3IHIuaW5pdCgpO3RoaXMuX25EYXRhQnl0ZXMgPSAwO1xuXHQgICAgfSwgX2FwcGVuZDogZnVuY3Rpb24gX2FwcGVuZChhKSB7XG5cdCAgICAgIFwic3RyaW5nXCIgPT0gdHlwZW9mIGEgJiYgKGEgPSBqLnBhcnNlKGEpKTt0aGlzLl9kYXRhLmNvbmNhdChhKTt0aGlzLl9uRGF0YUJ5dGVzICs9IGEuc2lnQnl0ZXM7XG5cdCAgICB9LCBfcHJvY2VzczogZnVuY3Rpb24gX3Byb2Nlc3MoYSkge1xuXHQgICAgICB2YXIgYyA9IHRoaXMuX2RhdGEsXG5cdCAgICAgICAgICBkID0gYy53b3Jkcyxcblx0ICAgICAgICAgIGIgPSBjLnNpZ0J5dGVzLFxuXHQgICAgICAgICAgZSA9IHRoaXMuYmxvY2tTaXplLFxuXHQgICAgICAgICAgZiA9IGIgLyAoNCAqIGUpLFxuXHQgICAgICAgICAgZiA9IGEgPyBoLmNlaWwoZikgOiBoLm1heCgoZiB8IDApIC0gdGhpcy5fbWluQnVmZmVyU2l6ZSwgMCk7YSA9IGYgKiBlO2IgPSBoLm1pbig0ICogYSwgYik7aWYgKGEpIHtcblx0ICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IGE7IGcgKz0gZSkge1xuXHQgICAgICAgICAgdGhpcy5fZG9Qcm9jZXNzQmxvY2soZCwgZyk7XG5cdCAgICAgICAgfWcgPSBkLnNwbGljZSgwLCBhKTtjLnNpZ0J5dGVzIC09IGI7XG5cdCAgICAgIH1yZXR1cm4gbmV3IHIuaW5pdChnLCBiKTtcblx0ICAgIH0sIGNsb25lOiBmdW5jdGlvbiBjbG9uZSgpIHtcblx0ICAgICAgdmFyIGEgPSBtLmNsb25lLmNhbGwodGhpcyk7XG5cdCAgICAgIGEuX2RhdGEgPSB0aGlzLl9kYXRhLmNsb25lKCk7cmV0dXJuIGE7XG5cdCAgICB9LCBfbWluQnVmZmVyU2l6ZTogMCB9KTtnLkhhc2hlciA9IHUuZXh0ZW5kKHsgY2ZnOiBtLmV4dGVuZCgpLCBpbml0OiBmdW5jdGlvbiBpbml0KGEpIHtcblx0ICAgICAgdGhpcy5jZmcgPSB0aGlzLmNmZy5leHRlbmQoYSk7dGhpcy5yZXNldCgpO1xuXHQgICAgfSwgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXHQgICAgICB1LnJlc2V0LmNhbGwodGhpcyk7dGhpcy5fZG9SZXNldCgpO1xuXHQgICAgfSwgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoYSkge1xuXHQgICAgICB0aGlzLl9hcHBlbmQoYSk7dGhpcy5fcHJvY2VzcygpO3JldHVybiB0aGlzO1xuXHQgICAgfSwgZmluYWxpemU6IGZ1bmN0aW9uIGZpbmFsaXplKGEpIHtcblx0ICAgICAgYSAmJiB0aGlzLl9hcHBlbmQoYSk7cmV0dXJuIHRoaXMuX2RvRmluYWxpemUoKTtcblx0ICAgIH0sIGJsb2NrU2l6ZTogMTYsIF9jcmVhdGVIZWxwZXI6IGZ1bmN0aW9uIF9jcmVhdGVIZWxwZXIoYSkge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gKGMsIGQpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IGEuaW5pdChkKS5maW5hbGl6ZShjKTtcblx0ICAgICAgfTtcblx0ICAgIH0sIF9jcmVhdGVIbWFjSGVscGVyOiBmdW5jdGlvbiBfY3JlYXRlSG1hY0hlbHBlcihhKSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiAoYywgZCkge1xuXHQgICAgICAgIHJldHVybiBuZXcgdC5ITUFDLmluaXQoYSwgZCkuZmluYWxpemUoYyk7XG5cdCAgICAgIH07XG5cdCAgICB9IH0pO3ZhciB0ID0gZi5hbGdvID0ge307cmV0dXJuIGY7XG5cdH0oTWF0aCk7XG5cblx0KGZ1bmN0aW9uIChoKSB7XG5cdCAgZm9yICh2YXIgcyA9IENyeXB0b0pTLCBmID0gcy5saWIsIGcgPSBmLldvcmRBcnJheSwgcSA9IGYuSGFzaGVyLCBmID0gcy5hbGdvLCBtID0gW10sIHIgPSBbXSwgbCA9IGZ1bmN0aW9uIGwoYSkge1xuXHQgICAgcmV0dXJuIDQyOTQ5NjcyOTYgKiAoYSAtIChhIHwgMCkpIHwgMDtcblx0ICB9LCBrID0gMiwgbiA9IDA7IDY0ID4gbjspIHtcblx0ICAgIHZhciBqO2E6IHtcblx0ICAgICAgaiA9IGs7Zm9yICh2YXIgdSA9IGguc3FydChqKSwgdCA9IDI7IHQgPD0gdTsgdCsrKSB7XG5cdCAgICAgICAgaWYgKCEoaiAlIHQpKSB7XG5cdCAgICAgICAgICBqID0gITE7YnJlYWsgYTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1qID0gITA7XG5cdCAgICB9aiAmJiAoOCA+IG4gJiYgKG1bbl0gPSBsKGgucG93KGssIDAuNSkpKSwgcltuXSA9IGwoaC5wb3coaywgMSAvIDMpKSwgbisrKTtrKys7XG5cdCAgfXZhciBhID0gW10sXG5cdCAgICAgIGYgPSBmLlNIQTI1NiA9IHEuZXh0ZW5kKHsgX2RvUmVzZXQ6IGZ1bmN0aW9uIF9kb1Jlc2V0KCkge1xuXHQgICAgICB0aGlzLl9oYXNoID0gbmV3IGcuaW5pdChtLnNsaWNlKDApKTtcblx0ICAgIH0sIF9kb1Byb2Nlc3NCbG9jazogZnVuY3Rpb24gX2RvUHJvY2Vzc0Jsb2NrKGMsIGQpIHtcblx0ICAgICAgZm9yICh2YXIgYiA9IHRoaXMuX2hhc2gud29yZHMsIGUgPSBiWzBdLCBmID0gYlsxXSwgZyA9IGJbMl0sIGogPSBiWzNdLCBoID0gYls0XSwgbSA9IGJbNV0sIG4gPSBiWzZdLCBxID0gYls3XSwgcCA9IDA7IDY0ID4gcDsgcCsrKSB7XG5cdCAgICAgICAgaWYgKDE2ID4gcCkgYVtwXSA9IGNbZCArIHBdIHwgMDtlbHNlIHtcblx0ICAgICAgICAgIHZhciBrID0gYVtwIC0gMTVdLFxuXHQgICAgICAgICAgICAgIGwgPSBhW3AgLSAyXTthW3BdID0gKChrIDw8IDI1IHwgayA+Pj4gNykgXiAoayA8PCAxNCB8IGsgPj4+IDE4KSBeIGsgPj4+IDMpICsgYVtwIC0gN10gKyAoKGwgPDwgMTUgfCBsID4+PiAxNykgXiAobCA8PCAxMyB8IGwgPj4+IDE5KSBeIGwgPj4+IDEwKSArIGFbcCAtIDE2XTtcblx0ICAgICAgICB9ayA9IHEgKyAoKGggPDwgMjYgfCBoID4+PiA2KSBeIChoIDw8IDIxIHwgaCA+Pj4gMTEpIF4gKGggPDwgNyB8IGggPj4+IDI1KSkgKyAoaCAmIG0gXiB+aCAmIG4pICsgcltwXSArIGFbcF07bCA9ICgoZSA8PCAzMCB8IGUgPj4+IDIpIF4gKGUgPDwgMTkgfCBlID4+PiAxMykgXiAoZSA8PCAxMCB8IGUgPj4+IDIyKSkgKyAoZSAmIGYgXiBlICYgZyBeIGYgJiBnKTtxID0gbjtuID0gbTttID0gaDtoID0gaiArIGsgfCAwO2ogPSBnO2cgPSBmO2YgPSBlO2UgPSBrICsgbCB8IDA7XG5cdCAgICAgIH1iWzBdID0gYlswXSArIGUgfCAwO2JbMV0gPSBiWzFdICsgZiB8IDA7YlsyXSA9IGJbMl0gKyBnIHwgMDtiWzNdID0gYlszXSArIGogfCAwO2JbNF0gPSBiWzRdICsgaCB8IDA7Yls1XSA9IGJbNV0gKyBtIHwgMDtiWzZdID0gYls2XSArIG4gfCAwO2JbN10gPSBiWzddICsgcSB8IDA7XG5cdCAgICB9LCBfZG9GaW5hbGl6ZTogZnVuY3Rpb24gX2RvRmluYWxpemUoKSB7XG5cdCAgICAgIHZhciBhID0gdGhpcy5fZGF0YSxcblx0ICAgICAgICAgIGQgPSBhLndvcmRzLFxuXHQgICAgICAgICAgYiA9IDggKiB0aGlzLl9uRGF0YUJ5dGVzLFxuXHQgICAgICAgICAgZSA9IDggKiBhLnNpZ0J5dGVzO1xuXHQgICAgICBkW2UgPj4+IDVdIHw9IDEyOCA8PCAyNCAtIGUgJSAzMjtkWyhlICsgNjQgPj4+IDkgPDwgNCkgKyAxNF0gPSBoLmZsb29yKGIgLyA0Mjk0OTY3Mjk2KTtkWyhlICsgNjQgPj4+IDkgPDwgNCkgKyAxNV0gPSBiO2Euc2lnQnl0ZXMgPSA0ICogZC5sZW5ndGg7dGhpcy5fcHJvY2VzcygpO3JldHVybiB0aGlzLl9oYXNoO1xuXHQgICAgfSwgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKCkge1xuXHQgICAgICB2YXIgYSA9IHEuY2xvbmUuY2FsbCh0aGlzKTthLl9oYXNoID0gdGhpcy5faGFzaC5jbG9uZSgpO3JldHVybiBhO1xuXHQgICAgfSB9KTtzLlNIQTI1NiA9IHEuX2NyZWF0ZUhlbHBlcihmKTtzLkhtYWNTSEEyNTYgPSBxLl9jcmVhdGVIbWFjSGVscGVyKGYpO1xuXHR9KShNYXRoKTtcblxuXHQoZnVuY3Rpb24gKCkge1xuXHQgIHZhciBoID0gQ3J5cHRvSlMsXG5cdCAgICAgIHMgPSBoLmVuYy5VdGY4O2guYWxnby5ITUFDID0gaC5saWIuQmFzZS5leHRlbmQoeyBpbml0OiBmdW5jdGlvbiBpbml0KGYsIGcpIHtcblx0ICAgICAgZiA9IHRoaXMuX2hhc2hlciA9IG5ldyBmLmluaXQoKTtcInN0cmluZ1wiID09IHR5cGVvZiBnICYmIChnID0gcy5wYXJzZShnKSk7dmFyIGggPSBmLmJsb2NrU2l6ZSxcblx0ICAgICAgICAgIG0gPSA0ICogaDtnLnNpZ0J5dGVzID4gbSAmJiAoZyA9IGYuZmluYWxpemUoZykpO2cuY2xhbXAoKTtmb3IgKHZhciByID0gdGhpcy5fb0tleSA9IGcuY2xvbmUoKSwgbCA9IHRoaXMuX2lLZXkgPSBnLmNsb25lKCksIGsgPSByLndvcmRzLCBuID0gbC53b3JkcywgaiA9IDA7IGogPCBoOyBqKyspIHtcblx0ICAgICAgICBrW2pdIF49IDE1NDk1NTY4MjgsIG5bal0gXj0gOTA5NTIyNDg2O1xuXHQgICAgICB9ci5zaWdCeXRlcyA9IGwuc2lnQnl0ZXMgPSBtO3RoaXMucmVzZXQoKTtcblx0ICAgIH0sIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHtcblx0ICAgICAgdmFyIGYgPSB0aGlzLl9oYXNoZXI7Zi5yZXNldCgpO2YudXBkYXRlKHRoaXMuX2lLZXkpO1xuXHQgICAgfSwgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoZikge1xuXHQgICAgICB0aGlzLl9oYXNoZXIudXBkYXRlKGYpO3JldHVybiB0aGlzO1xuXHQgICAgfSwgZmluYWxpemU6IGZ1bmN0aW9uIGZpbmFsaXplKGYpIHtcblx0ICAgICAgdmFyIGcgPSB0aGlzLl9oYXNoZXI7ZiA9IGcuZmluYWxpemUoZik7Zy5yZXNldCgpO3JldHVybiBnLmZpbmFsaXplKHRoaXMuX29LZXkuY2xvbmUoKS5jb25jYXQoZikpO1xuXHQgICAgfSB9KTtcblx0fSkoKTtcblxuXHQoZnVuY3Rpb24gKCkge1xuXHQgIHZhciB1ID0gQ3J5cHRvSlMsXG5cdCAgICAgIHAgPSB1LmxpYi5Xb3JkQXJyYXk7dS5lbmMuQmFzZTY0ID0geyBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShkKSB7XG5cdCAgICAgIHZhciBsID0gZC53b3Jkcyxcblx0ICAgICAgICAgIHAgPSBkLnNpZ0J5dGVzLFxuXHQgICAgICAgICAgdCA9IHRoaXMuX21hcDtkLmNsYW1wKCk7ZCA9IFtdO2ZvciAodmFyIHIgPSAwOyByIDwgcDsgciArPSAzKSB7XG5cdCAgICAgICAgZm9yICh2YXIgdyA9IChsW3IgPj4+IDJdID4+PiAyNCAtIDggKiAociAlIDQpICYgMjU1KSA8PCAxNiB8IChsW3IgKyAxID4+PiAyXSA+Pj4gMjQgLSA4ICogKChyICsgMSkgJSA0KSAmIDI1NSkgPDwgOCB8IGxbciArIDIgPj4+IDJdID4+PiAyNCAtIDggKiAoKHIgKyAyKSAlIDQpICYgMjU1LCB2ID0gMDsgNCA+IHYgJiYgciArIDAuNzUgKiB2IDwgcDsgdisrKSB7XG5cdCAgICAgICAgICBkLnB1c2godC5jaGFyQXQodyA+Pj4gNiAqICgzIC0gdikgJiA2MykpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfWlmIChsID0gdC5jaGFyQXQoNjQpKSBmb3IgKDsgZC5sZW5ndGggJSA0Oykge1xuXHQgICAgICAgIGQucHVzaChsKTtcblx0ICAgICAgfXJldHVybiBkLmpvaW4oXCJcIik7XG5cdCAgICB9LCBwYXJzZTogZnVuY3Rpb24gcGFyc2UoZCkge1xuXHQgICAgICB2YXIgbCA9IGQubGVuZ3RoLFxuXHQgICAgICAgICAgcyA9IHRoaXMuX21hcCxcblx0ICAgICAgICAgIHQgPSBzLmNoYXJBdCg2NCk7dCAmJiAodCA9IGQuaW5kZXhPZih0KSwgLTEgIT0gdCAmJiAobCA9IHQpKTtmb3IgKHZhciB0ID0gW10sIHIgPSAwLCB3ID0gMDsgdyA8IGw7IHcrKykge1xuXHQgICAgICAgIGlmICh3ICUgNCkge1xuXHQgICAgICAgICAgdmFyIHYgPSBzLmluZGV4T2YoZC5jaGFyQXQodyAtIDEpKSA8PCAyICogKHcgJSA0KSxcblx0ICAgICAgICAgICAgICBiID0gcy5pbmRleE9mKGQuY2hhckF0KHcpKSA+Pj4gNiAtIDIgKiAodyAlIDQpO3RbciA+Pj4gMl0gfD0gKHYgfCBiKSA8PCAyNCAtIDggKiAociAlIDQpO3IrKztcblx0ICAgICAgICB9XG5cdCAgICAgIH1yZXR1cm4gcC5jcmVhdGUodCwgcik7XG5cdCAgICB9LCBfbWFwOiBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIgfTtcblx0fSkoKTtcblxuXHQoZnVuY3Rpb24gKHUpIHtcblx0ICBmdW5jdGlvbiBwKGIsIG4sIGEsIGMsIGUsIGosIGspIHtcblx0ICAgIGIgPSBiICsgKG4gJiBhIHwgfm4gJiBjKSArIGUgKyBrO3JldHVybiAoYiA8PCBqIHwgYiA+Pj4gMzIgLSBqKSArIG47XG5cdCAgfWZ1bmN0aW9uIGQoYiwgbiwgYSwgYywgZSwgaiwgaykge1xuXHQgICAgYiA9IGIgKyAobiAmIGMgfCBhICYgfmMpICsgZSArIGs7cmV0dXJuIChiIDw8IGogfCBiID4+PiAzMiAtIGopICsgbjtcblx0ICB9ZnVuY3Rpb24gbChiLCBuLCBhLCBjLCBlLCBqLCBrKSB7XG5cdCAgICBiID0gYiArIChuIF4gYSBeIGMpICsgZSArIGs7cmV0dXJuIChiIDw8IGogfCBiID4+PiAzMiAtIGopICsgbjtcblx0ICB9ZnVuY3Rpb24gcyhiLCBuLCBhLCBjLCBlLCBqLCBrKSB7XG5cdCAgICBiID0gYiArIChhIF4gKG4gfCB+YykpICsgZSArIGs7cmV0dXJuIChiIDw8IGogfCBiID4+PiAzMiAtIGopICsgbjtcblx0ICB9Zm9yICh2YXIgdCA9IENyeXB0b0pTLCByID0gdC5saWIsIHcgPSByLldvcmRBcnJheSwgdiA9IHIuSGFzaGVyLCByID0gdC5hbGdvLCBiID0gW10sIHggPSAwOyA2NCA+IHg7IHgrKykge1xuXHQgICAgYlt4XSA9IDQyOTQ5NjcyOTYgKiB1LmFicyh1LnNpbih4ICsgMSkpIHwgMDtcblx0ICB9ciA9IHIuTUQ1ID0gdi5leHRlbmQoeyBfZG9SZXNldDogZnVuY3Rpb24gX2RvUmVzZXQoKSB7XG5cdCAgICAgIHRoaXMuX2hhc2ggPSBuZXcgdy5pbml0KFsxNzMyNTg0MTkzLCA0MDIzMjMzNDE3LCAyNTYyMzgzMTAyLCAyNzE3MzM4NzhdKTtcblx0ICAgIH0sXG5cdCAgICBfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uIF9kb1Byb2Nlc3NCbG9jayhxLCBuKSB7XG5cdCAgICAgIGZvciAodmFyIGEgPSAwOyAxNiA+IGE7IGErKykge1xuXHQgICAgICAgIHZhciBjID0gbiArIGEsXG5cdCAgICAgICAgICAgIGUgPSBxW2NdO3FbY10gPSAoZSA8PCA4IHwgZSA+Pj4gMjQpICYgMTY3MTE5MzUgfCAoZSA8PCAyNCB8IGUgPj4+IDgpICYgNDI3ODI1NTM2MDtcblx0ICAgICAgfXZhciBhID0gdGhpcy5faGFzaC53b3Jkcyxcblx0ICAgICAgICAgIGMgPSBxW24gKyAwXSxcblx0ICAgICAgICAgIGUgPSBxW24gKyAxXSxcblx0ICAgICAgICAgIGogPSBxW24gKyAyXSxcblx0ICAgICAgICAgIGsgPSBxW24gKyAzXSxcblx0ICAgICAgICAgIHogPSBxW24gKyA0XSxcblx0ICAgICAgICAgIHIgPSBxW24gKyA1XSxcblx0ICAgICAgICAgIHQgPSBxW24gKyA2XSxcblx0ICAgICAgICAgIHcgPSBxW24gKyA3XSxcblx0ICAgICAgICAgIHYgPSBxW24gKyA4XSxcblx0ICAgICAgICAgIEEgPSBxW24gKyA5XSxcblx0ICAgICAgICAgIEIgPSBxW24gKyAxMF0sXG5cdCAgICAgICAgICBDID0gcVtuICsgMTFdLFxuXHQgICAgICAgICAgdSA9IHFbbiArIDEyXSxcblx0ICAgICAgICAgIEQgPSBxW24gKyAxM10sXG5cdCAgICAgICAgICBFID0gcVtuICsgMTRdLFxuXHQgICAgICAgICAgeCA9IHFbbiArIDE1XSxcblx0ICAgICAgICAgIGYgPSBhWzBdLFxuXHQgICAgICAgICAgbSA9IGFbMV0sXG5cdCAgICAgICAgICBnID0gYVsyXSxcblx0ICAgICAgICAgIGggPSBhWzNdLFxuXHQgICAgICAgICAgZiA9IHAoZiwgbSwgZywgaCwgYywgNywgYlswXSksXG5cdCAgICAgICAgICBoID0gcChoLCBmLCBtLCBnLCBlLCAxMiwgYlsxXSksXG5cdCAgICAgICAgICBnID0gcChnLCBoLCBmLCBtLCBqLCAxNywgYlsyXSksXG5cdCAgICAgICAgICBtID0gcChtLCBnLCBoLCBmLCBrLCAyMiwgYlszXSksXG5cdCAgICAgICAgICBmID0gcChmLCBtLCBnLCBoLCB6LCA3LCBiWzRdKSxcblx0ICAgICAgICAgIGggPSBwKGgsIGYsIG0sIGcsIHIsIDEyLCBiWzVdKSxcblx0ICAgICAgICAgIGcgPSBwKGcsIGgsIGYsIG0sIHQsIDE3LCBiWzZdKSxcblx0ICAgICAgICAgIG0gPSBwKG0sIGcsIGgsIGYsIHcsIDIyLCBiWzddKSxcblx0ICAgICAgICAgIGYgPSBwKGYsIG0sIGcsIGgsIHYsIDcsIGJbOF0pLFxuXHQgICAgICAgICAgaCA9IHAoaCwgZiwgbSwgZywgQSwgMTIsIGJbOV0pLFxuXHQgICAgICAgICAgZyA9IHAoZywgaCwgZiwgbSwgQiwgMTcsIGJbMTBdKSxcblx0ICAgICAgICAgIG0gPSBwKG0sIGcsIGgsIGYsIEMsIDIyLCBiWzExXSksXG5cdCAgICAgICAgICBmID0gcChmLCBtLCBnLCBoLCB1LCA3LCBiWzEyXSksXG5cdCAgICAgICAgICBoID0gcChoLCBmLCBtLCBnLCBELCAxMiwgYlsxM10pLFxuXHQgICAgICAgICAgZyA9IHAoZywgaCwgZiwgbSwgRSwgMTcsIGJbMTRdKSxcblx0ICAgICAgICAgIG0gPSBwKG0sIGcsIGgsIGYsIHgsIDIyLCBiWzE1XSksXG5cdCAgICAgICAgICBmID0gZChmLCBtLCBnLCBoLCBlLCA1LCBiWzE2XSksXG5cdCAgICAgICAgICBoID0gZChoLCBmLCBtLCBnLCB0LCA5LCBiWzE3XSksXG5cdCAgICAgICAgICBnID0gZChnLCBoLCBmLCBtLCBDLCAxNCwgYlsxOF0pLFxuXHQgICAgICAgICAgbSA9IGQobSwgZywgaCwgZiwgYywgMjAsIGJbMTldKSxcblx0ICAgICAgICAgIGYgPSBkKGYsIG0sIGcsIGgsIHIsIDUsIGJbMjBdKSxcblx0ICAgICAgICAgIGggPSBkKGgsIGYsIG0sIGcsIEIsIDksIGJbMjFdKSxcblx0ICAgICAgICAgIGcgPSBkKGcsIGgsIGYsIG0sIHgsIDE0LCBiWzIyXSksXG5cdCAgICAgICAgICBtID0gZChtLCBnLCBoLCBmLCB6LCAyMCwgYlsyM10pLFxuXHQgICAgICAgICAgZiA9IGQoZiwgbSwgZywgaCwgQSwgNSwgYlsyNF0pLFxuXHQgICAgICAgICAgaCA9IGQoaCwgZiwgbSwgZywgRSwgOSwgYlsyNV0pLFxuXHQgICAgICAgICAgZyA9IGQoZywgaCwgZiwgbSwgaywgMTQsIGJbMjZdKSxcblx0ICAgICAgICAgIG0gPSBkKG0sIGcsIGgsIGYsIHYsIDIwLCBiWzI3XSksXG5cdCAgICAgICAgICBmID0gZChmLCBtLCBnLCBoLCBELCA1LCBiWzI4XSksXG5cdCAgICAgICAgICBoID0gZChoLCBmLCBtLCBnLCBqLCA5LCBiWzI5XSksXG5cdCAgICAgICAgICBnID0gZChnLCBoLCBmLCBtLCB3LCAxNCwgYlszMF0pLFxuXHQgICAgICAgICAgbSA9IGQobSwgZywgaCwgZiwgdSwgMjAsIGJbMzFdKSxcblx0ICAgICAgICAgIGYgPSBsKGYsIG0sIGcsIGgsIHIsIDQsIGJbMzJdKSxcblx0ICAgICAgICAgIGggPSBsKGgsIGYsIG0sIGcsIHYsIDExLCBiWzMzXSksXG5cdCAgICAgICAgICBnID0gbChnLCBoLCBmLCBtLCBDLCAxNiwgYlszNF0pLFxuXHQgICAgICAgICAgbSA9IGwobSwgZywgaCwgZiwgRSwgMjMsIGJbMzVdKSxcblx0ICAgICAgICAgIGYgPSBsKGYsIG0sIGcsIGgsIGUsIDQsIGJbMzZdKSxcblx0ICAgICAgICAgIGggPSBsKGgsIGYsIG0sIGcsIHosIDExLCBiWzM3XSksXG5cdCAgICAgICAgICBnID0gbChnLCBoLCBmLCBtLCB3LCAxNiwgYlszOF0pLFxuXHQgICAgICAgICAgbSA9IGwobSwgZywgaCwgZiwgQiwgMjMsIGJbMzldKSxcblx0ICAgICAgICAgIGYgPSBsKGYsIG0sIGcsIGgsIEQsIDQsIGJbNDBdKSxcblx0ICAgICAgICAgIGggPSBsKGgsIGYsIG0sIGcsIGMsIDExLCBiWzQxXSksXG5cdCAgICAgICAgICBnID0gbChnLCBoLCBmLCBtLCBrLCAxNiwgYls0Ml0pLFxuXHQgICAgICAgICAgbSA9IGwobSwgZywgaCwgZiwgdCwgMjMsIGJbNDNdKSxcblx0ICAgICAgICAgIGYgPSBsKGYsIG0sIGcsIGgsIEEsIDQsIGJbNDRdKSxcblx0ICAgICAgICAgIGggPSBsKGgsIGYsIG0sIGcsIHUsIDExLCBiWzQ1XSksXG5cdCAgICAgICAgICBnID0gbChnLCBoLCBmLCBtLCB4LCAxNiwgYls0Nl0pLFxuXHQgICAgICAgICAgbSA9IGwobSwgZywgaCwgZiwgaiwgMjMsIGJbNDddKSxcblx0ICAgICAgICAgIGYgPSBzKGYsIG0sIGcsIGgsIGMsIDYsIGJbNDhdKSxcblx0ICAgICAgICAgIGggPSBzKGgsIGYsIG0sIGcsIHcsIDEwLCBiWzQ5XSksXG5cdCAgICAgICAgICBnID0gcyhnLCBoLCBmLCBtLCBFLCAxNSwgYls1MF0pLFxuXHQgICAgICAgICAgbSA9IHMobSwgZywgaCwgZiwgciwgMjEsIGJbNTFdKSxcblx0ICAgICAgICAgIGYgPSBzKGYsIG0sIGcsIGgsIHUsIDYsIGJbNTJdKSxcblx0ICAgICAgICAgIGggPSBzKGgsIGYsIG0sIGcsIGssIDEwLCBiWzUzXSksXG5cdCAgICAgICAgICBnID0gcyhnLCBoLCBmLCBtLCBCLCAxNSwgYls1NF0pLFxuXHQgICAgICAgICAgbSA9IHMobSwgZywgaCwgZiwgZSwgMjEsIGJbNTVdKSxcblx0ICAgICAgICAgIGYgPSBzKGYsIG0sIGcsIGgsIHYsIDYsIGJbNTZdKSxcblx0ICAgICAgICAgIGggPSBzKGgsIGYsIG0sIGcsIHgsIDEwLCBiWzU3XSksXG5cdCAgICAgICAgICBnID0gcyhnLCBoLCBmLCBtLCB0LCAxNSwgYls1OF0pLFxuXHQgICAgICAgICAgbSA9IHMobSwgZywgaCwgZiwgRCwgMjEsIGJbNTldKSxcblx0ICAgICAgICAgIGYgPSBzKGYsIG0sIGcsIGgsIHosIDYsIGJbNjBdKSxcblx0ICAgICAgICAgIGggPSBzKGgsIGYsIG0sIGcsIEMsIDEwLCBiWzYxXSksXG5cdCAgICAgICAgICBnID0gcyhnLCBoLCBmLCBtLCBqLCAxNSwgYls2Ml0pLFxuXHQgICAgICAgICAgbSA9IHMobSwgZywgaCwgZiwgQSwgMjEsIGJbNjNdKTthWzBdID0gYVswXSArIGYgfCAwO2FbMV0gPSBhWzFdICsgbSB8IDA7YVsyXSA9IGFbMl0gKyBnIHwgMDthWzNdID0gYVszXSArIGggfCAwO1xuXHQgICAgfSwgX2RvRmluYWxpemU6IGZ1bmN0aW9uIF9kb0ZpbmFsaXplKCkge1xuXHQgICAgICB2YXIgYiA9IHRoaXMuX2RhdGEsXG5cdCAgICAgICAgICBuID0gYi53b3Jkcyxcblx0ICAgICAgICAgIGEgPSA4ICogdGhpcy5fbkRhdGFCeXRlcyxcblx0ICAgICAgICAgIGMgPSA4ICogYi5zaWdCeXRlcztuW2MgPj4+IDVdIHw9IDEyOCA8PCAyNCAtIGMgJSAzMjt2YXIgZSA9IHUuZmxvb3IoYSAvIDQyOTQ5NjcyOTYpO25bKGMgKyA2NCA+Pj4gOSA8PCA0KSArIDE1XSA9IChlIDw8IDggfCBlID4+PiAyNCkgJiAxNjcxMTkzNSB8IChlIDw8IDI0IHwgZSA+Pj4gOCkgJiA0Mjc4MjU1MzYwO25bKGMgKyA2NCA+Pj4gOSA8PCA0KSArIDE0XSA9IChhIDw8IDggfCBhID4+PiAyNCkgJiAxNjcxMTkzNSB8IChhIDw8IDI0IHwgYSA+Pj4gOCkgJiA0Mjc4MjU1MzYwO2Iuc2lnQnl0ZXMgPSA0ICogKG4ubGVuZ3RoICsgMSk7dGhpcy5fcHJvY2VzcygpO2IgPSB0aGlzLl9oYXNoO24gPSBiLndvcmRzO2ZvciAoYSA9IDA7IDQgPiBhOyBhKyspIHtcblx0ICAgICAgICBjID0gblthXSwgblthXSA9IChjIDw8IDggfCBjID4+PiAyNCkgJiAxNjcxMTkzNSB8IChjIDw8IDI0IHwgYyA+Pj4gOCkgJiA0Mjc4MjU1MzYwO1xuXHQgICAgICB9cmV0dXJuIGI7XG5cdCAgICB9LCBjbG9uZTogZnVuY3Rpb24gY2xvbmUoKSB7XG5cdCAgICAgIHZhciBiID0gdi5jbG9uZS5jYWxsKHRoaXMpO2IuX2hhc2ggPSB0aGlzLl9oYXNoLmNsb25lKCk7cmV0dXJuIGI7XG5cdCAgICB9IH0pO3QuTUQ1ID0gdi5fY3JlYXRlSGVscGVyKHIpO3QuSG1hY01ENSA9IHYuX2NyZWF0ZUhtYWNIZWxwZXIocik7XG5cdH0pKE1hdGgpO1xuXHQoZnVuY3Rpb24gKCkge1xuXHQgIHZhciB1ID0gQ3J5cHRvSlMsXG5cdCAgICAgIHAgPSB1LmxpYixcblx0ICAgICAgZCA9IHAuQmFzZSxcblx0ICAgICAgbCA9IHAuV29yZEFycmF5LFxuXHQgICAgICBwID0gdS5hbGdvLFxuXHQgICAgICBzID0gcC5FdnBLREYgPSBkLmV4dGVuZCh7IGNmZzogZC5leHRlbmQoeyBrZXlTaXplOiA0LCBoYXNoZXI6IHAuTUQ1LCBpdGVyYXRpb25zOiAxIH0pLCBpbml0OiBmdW5jdGlvbiBpbml0KGQpIHtcblx0ICAgICAgdGhpcy5jZmcgPSB0aGlzLmNmZy5leHRlbmQoZCk7XG5cdCAgICB9LCBjb21wdXRlOiBmdW5jdGlvbiBjb21wdXRlKGQsIHIpIHtcblx0ICAgICAgZm9yICh2YXIgcCA9IHRoaXMuY2ZnLCBzID0gcC5oYXNoZXIuY3JlYXRlKCksIGIgPSBsLmNyZWF0ZSgpLCB1ID0gYi53b3JkcywgcSA9IHAua2V5U2l6ZSwgcCA9IHAuaXRlcmF0aW9uczsgdS5sZW5ndGggPCBxOykge1xuXHQgICAgICAgIG4gJiYgcy51cGRhdGUobik7dmFyIG4gPSBzLnVwZGF0ZShkKS5maW5hbGl6ZShyKTtzLnJlc2V0KCk7Zm9yICh2YXIgYSA9IDE7IGEgPCBwOyBhKyspIHtcblx0ICAgICAgICAgIG4gPSBzLmZpbmFsaXplKG4pLCBzLnJlc2V0KCk7XG5cdCAgICAgICAgfWIuY29uY2F0KG4pO1xuXHQgICAgICB9Yi5zaWdCeXRlcyA9IDQgKiBxO3JldHVybiBiO1xuXHQgICAgfSB9KTt1LkV2cEtERiA9IGZ1bmN0aW9uIChkLCBsLCBwKSB7XG5cdCAgICByZXR1cm4gcy5jcmVhdGUocCkuY29tcHV0ZShkLCBsKTtcblx0ICB9O1xuXHR9KSgpO1xuXG5cdENyeXB0b0pTLmxpYi5DaXBoZXIgfHwgZnVuY3Rpb24gKHUpIHtcblx0ICB2YXIgcCA9IENyeXB0b0pTLFxuXHQgICAgICBkID0gcC5saWIsXG5cdCAgICAgIGwgPSBkLkJhc2UsXG5cdCAgICAgIHMgPSBkLldvcmRBcnJheSxcblx0ICAgICAgdCA9IGQuQnVmZmVyZWRCbG9ja0FsZ29yaXRobSxcblx0ICAgICAgciA9IHAuZW5jLkJhc2U2NCxcblx0ICAgICAgdyA9IHAuYWxnby5FdnBLREYsXG5cdCAgICAgIHYgPSBkLkNpcGhlciA9IHQuZXh0ZW5kKHsgY2ZnOiBsLmV4dGVuZCgpLCBjcmVhdGVFbmNyeXB0b3I6IGZ1bmN0aW9uIGNyZWF0ZUVuY3J5cHRvcihlLCBhKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSh0aGlzLl9FTkNfWEZPUk1fTU9ERSwgZSwgYSk7XG5cdCAgICB9LCBjcmVhdGVEZWNyeXB0b3I6IGZ1bmN0aW9uIGNyZWF0ZURlY3J5cHRvcihlLCBhKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSh0aGlzLl9ERUNfWEZPUk1fTU9ERSwgZSwgYSk7XG5cdCAgICB9LCBpbml0OiBmdW5jdGlvbiBpbml0KGUsIGEsIGIpIHtcblx0ICAgICAgdGhpcy5jZmcgPSB0aGlzLmNmZy5leHRlbmQoYik7dGhpcy5feGZvcm1Nb2RlID0gZTt0aGlzLl9rZXkgPSBhO3RoaXMucmVzZXQoKTtcblx0ICAgIH0sIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHtcblx0ICAgICAgdC5yZXNldC5jYWxsKHRoaXMpO3RoaXMuX2RvUmVzZXQoKTtcblx0ICAgIH0sIHByb2Nlc3M6IGZ1bmN0aW9uIHByb2Nlc3MoZSkge1xuXHQgICAgICB0aGlzLl9hcHBlbmQoZSk7cmV0dXJuIHRoaXMuX3Byb2Nlc3MoKTtcblx0ICAgIH0sXG5cdCAgICBmaW5hbGl6ZTogZnVuY3Rpb24gZmluYWxpemUoZSkge1xuXHQgICAgICBlICYmIHRoaXMuX2FwcGVuZChlKTtyZXR1cm4gdGhpcy5fZG9GaW5hbGl6ZSgpO1xuXHQgICAgfSwga2V5U2l6ZTogNCwgaXZTaXplOiA0LCBfRU5DX1hGT1JNX01PREU6IDEsIF9ERUNfWEZPUk1fTU9ERTogMiwgX2NyZWF0ZUhlbHBlcjogZnVuY3Rpb24gX2NyZWF0ZUhlbHBlcihlKSB7XG5cdCAgICAgIHJldHVybiB7IGVuY3J5cHQ6IGZ1bmN0aW9uIGVuY3J5cHQoYiwgaywgZCkge1xuXHQgICAgICAgICAgcmV0dXJuIChcInN0cmluZ1wiID09IHR5cGVvZiBrID8gYyA6IGEpLmVuY3J5cHQoZSwgYiwgaywgZCk7XG5cdCAgICAgICAgfSwgZGVjcnlwdDogZnVuY3Rpb24gZGVjcnlwdChiLCBrLCBkKSB7XG5cdCAgICAgICAgICByZXR1cm4gKFwic3RyaW5nXCIgPT0gdHlwZW9mIGsgPyBjIDogYSkuZGVjcnlwdChlLCBiLCBrLCBkKTtcblx0ICAgICAgICB9IH07XG5cdCAgICB9IH0pO2QuU3RyZWFtQ2lwaGVyID0gdi5leHRlbmQoeyBfZG9GaW5hbGl6ZTogZnVuY3Rpb24gX2RvRmluYWxpemUoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzKCEwKTtcblx0ICAgIH0sIGJsb2NrU2l6ZTogMSB9KTt2YXIgYiA9IHAubW9kZSA9IHt9LFxuXHQgICAgICB4ID0gZnVuY3Rpb24geChlLCBhLCBiKSB7XG5cdCAgICB2YXIgYyA9IHRoaXMuX2l2O2MgPyB0aGlzLl9pdiA9IHUgOiBjID0gdGhpcy5fcHJldkJsb2NrO2ZvciAodmFyIGQgPSAwOyBkIDwgYjsgZCsrKSB7XG5cdCAgICAgIGVbYSArIGRdIF49IGNbZF07XG5cdCAgICB9XG5cdCAgfSxcblx0ICAgICAgcSA9IChkLkJsb2NrQ2lwaGVyTW9kZSA9IGwuZXh0ZW5kKHsgY3JlYXRlRW5jcnlwdG9yOiBmdW5jdGlvbiBjcmVhdGVFbmNyeXB0b3IoZSwgYSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5FbmNyeXB0b3IuY3JlYXRlKGUsIGEpO1xuXHQgICAgfSwgY3JlYXRlRGVjcnlwdG9yOiBmdW5jdGlvbiBjcmVhdGVEZWNyeXB0b3IoZSwgYSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5EZWNyeXB0b3IuY3JlYXRlKGUsIGEpO1xuXHQgICAgfSwgaW5pdDogZnVuY3Rpb24gaW5pdChlLCBhKSB7XG5cdCAgICAgIHRoaXMuX2NpcGhlciA9IGU7dGhpcy5faXYgPSBhO1xuXHQgICAgfSB9KSkuZXh0ZW5kKCk7cS5FbmNyeXB0b3IgPSBxLmV4dGVuZCh7IHByb2Nlc3NCbG9jazogZnVuY3Rpb24gcHJvY2Vzc0Jsb2NrKGUsIGEpIHtcblx0ICAgICAgdmFyIGIgPSB0aGlzLl9jaXBoZXIsXG5cdCAgICAgICAgICBjID0gYi5ibG9ja1NpemU7eC5jYWxsKHRoaXMsIGUsIGEsIGMpO2IuZW5jcnlwdEJsb2NrKGUsIGEpO3RoaXMuX3ByZXZCbG9jayA9IGUuc2xpY2UoYSwgYSArIGMpO1xuXHQgICAgfSB9KTtxLkRlY3J5cHRvciA9IHEuZXh0ZW5kKHsgcHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiBwcm9jZXNzQmxvY2soZSwgYSkge1xuXHQgICAgICB2YXIgYiA9IHRoaXMuX2NpcGhlcixcblx0ICAgICAgICAgIGMgPSBiLmJsb2NrU2l6ZSxcblx0ICAgICAgICAgIGQgPSBlLnNsaWNlKGEsIGEgKyBjKTtiLmRlY3J5cHRCbG9jayhlLCBhKTt4LmNhbGwodGhpcywgZSwgYSwgYyk7dGhpcy5fcHJldkJsb2NrID0gZDtcblx0ICAgIH0gfSk7YiA9IGIuQ0JDID0gcTtxID0gKHAucGFkID0ge30pLlBrY3M3ID0geyBwYWQ6IGZ1bmN0aW9uIHBhZChhLCBiKSB7XG5cdCAgICAgIGZvciAodmFyIGMgPSA0ICogYiwgYyA9IGMgLSBhLnNpZ0J5dGVzICUgYywgZCA9IGMgPDwgMjQgfCBjIDw8IDE2IHwgYyA8PCA4IHwgYywgbCA9IFtdLCBuID0gMDsgbiA8IGM7IG4gKz0gNCkge1xuXHQgICAgICAgIGwucHVzaChkKTtcblx0ICAgICAgfWMgPSBzLmNyZWF0ZShsLCBjKTthLmNvbmNhdChjKTtcblx0ICAgIH0sIHVucGFkOiBmdW5jdGlvbiB1bnBhZChhKSB7XG5cdCAgICAgIGEuc2lnQnl0ZXMgLT0gYS53b3Jkc1thLnNpZ0J5dGVzIC0gMSA+Pj4gMl0gJiAyNTU7XG5cdCAgICB9IH07ZC5CbG9ja0NpcGhlciA9IHYuZXh0ZW5kKHsgY2ZnOiB2LmNmZy5leHRlbmQoeyBtb2RlOiBiLCBwYWRkaW5nOiBxIH0pLCByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG5cdCAgICAgIHYucmVzZXQuY2FsbCh0aGlzKTt2YXIgYSA9IHRoaXMuY2ZnLFxuXHQgICAgICAgICAgYiA9IGEuaXYsXG5cdCAgICAgICAgICBhID0gYS5tb2RlO2lmICh0aGlzLl94Zm9ybU1vZGUgPT0gdGhpcy5fRU5DX1hGT1JNX01PREUpIHZhciBjID0gYS5jcmVhdGVFbmNyeXB0b3I7ZWxzZSBjID0gYS5jcmVhdGVEZWNyeXB0b3IsIHRoaXMuX21pbkJ1ZmZlclNpemUgPSAxO3RoaXMuX21vZGUgPSBjLmNhbGwoYSwgdGhpcywgYiAmJiBiLndvcmRzKTtcblx0ICAgIH0sIF9kb1Byb2Nlc3NCbG9jazogZnVuY3Rpb24gX2RvUHJvY2Vzc0Jsb2NrKGEsIGIpIHtcblx0ICAgICAgdGhpcy5fbW9kZS5wcm9jZXNzQmxvY2soYSwgYik7XG5cdCAgICB9LCBfZG9GaW5hbGl6ZTogZnVuY3Rpb24gX2RvRmluYWxpemUoKSB7XG5cdCAgICAgIHZhciBhID0gdGhpcy5jZmcucGFkZGluZztpZiAodGhpcy5feGZvcm1Nb2RlID09IHRoaXMuX0VOQ19YRk9STV9NT0RFKSB7XG5cdCAgICAgICAgYS5wYWQodGhpcy5fZGF0YSwgdGhpcy5ibG9ja1NpemUpO3ZhciBiID0gdGhpcy5fcHJvY2VzcyghMCk7XG5cdCAgICAgIH0gZWxzZSBiID0gdGhpcy5fcHJvY2VzcyghMCksIGEudW5wYWQoYik7cmV0dXJuIGI7XG5cdCAgICB9LCBibG9ja1NpemU6IDQgfSk7dmFyIG4gPSBkLkNpcGhlclBhcmFtcyA9IGwuZXh0ZW5kKHsgaW5pdDogZnVuY3Rpb24gaW5pdChhKSB7XG5cdCAgICAgIHRoaXMubWl4SW4oYSk7XG5cdCAgICB9LCB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoYSkge1xuXHQgICAgICByZXR1cm4gKGEgfHwgdGhpcy5mb3JtYXR0ZXIpLnN0cmluZ2lmeSh0aGlzKTtcblx0ICAgIH0gfSksXG5cdCAgICAgIGIgPSAocC5mb3JtYXQgPSB7fSkuT3BlblNTTCA9IHsgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoYSkge1xuXHQgICAgICB2YXIgYiA9IGEuY2lwaGVydGV4dDthID0gYS5zYWx0O3JldHVybiAoYSA/IHMuY3JlYXRlKFsxMzk4ODkzNjg0LCAxNzAxMDc2ODMxXSkuY29uY2F0KGEpLmNvbmNhdChiKSA6IGIpLnRvU3RyaW5nKHIpO1xuXHQgICAgfSwgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGEpIHtcblx0ICAgICAgYSA9IHIucGFyc2UoYSk7dmFyIGIgPSBhLndvcmRzO2lmICgxMzk4ODkzNjg0ID09IGJbMF0gJiYgMTcwMTA3NjgzMSA9PSBiWzFdKSB7XG5cdCAgICAgICAgdmFyIGMgPSBzLmNyZWF0ZShiLnNsaWNlKDIsIDQpKTtiLnNwbGljZSgwLCA0KTthLnNpZ0J5dGVzIC09IDE2O1xuXHQgICAgICB9cmV0dXJuIG4uY3JlYXRlKHsgY2lwaGVydGV4dDogYSwgc2FsdDogYyB9KTtcblx0ICAgIH0gfSxcblx0ICAgICAgYSA9IGQuU2VyaWFsaXphYmxlQ2lwaGVyID0gbC5leHRlbmQoeyBjZmc6IGwuZXh0ZW5kKHsgZm9ybWF0OiBiIH0pLCBlbmNyeXB0OiBmdW5jdGlvbiBlbmNyeXB0KGEsIGIsIGMsIGQpIHtcblx0ICAgICAgZCA9IHRoaXMuY2ZnLmV4dGVuZChkKTt2YXIgbCA9IGEuY3JlYXRlRW5jcnlwdG9yKGMsIGQpO2IgPSBsLmZpbmFsaXplKGIpO2wgPSBsLmNmZztyZXR1cm4gbi5jcmVhdGUoeyBjaXBoZXJ0ZXh0OiBiLCBrZXk6IGMsIGl2OiBsLml2LCBhbGdvcml0aG06IGEsIG1vZGU6IGwubW9kZSwgcGFkZGluZzogbC5wYWRkaW5nLCBibG9ja1NpemU6IGEuYmxvY2tTaXplLCBmb3JtYXR0ZXI6IGQuZm9ybWF0IH0pO1xuXHQgICAgfSxcblx0ICAgIGRlY3J5cHQ6IGZ1bmN0aW9uIGRlY3J5cHQoYSwgYiwgYywgZCkge1xuXHQgICAgICBkID0gdGhpcy5jZmcuZXh0ZW5kKGQpO2IgPSB0aGlzLl9wYXJzZShiLCBkLmZvcm1hdCk7cmV0dXJuIGEuY3JlYXRlRGVjcnlwdG9yKGMsIGQpLmZpbmFsaXplKGIuY2lwaGVydGV4dCk7XG5cdCAgICB9LCBfcGFyc2U6IGZ1bmN0aW9uIF9wYXJzZShhLCBiKSB7XG5cdCAgICAgIHJldHVybiBcInN0cmluZ1wiID09IHR5cGVvZiBhID8gYi5wYXJzZShhLCB0aGlzKSA6IGE7XG5cdCAgICB9IH0pLFxuXHQgICAgICBwID0gKHAua2RmID0ge30pLk9wZW5TU0wgPSB7IGV4ZWN1dGU6IGZ1bmN0aW9uIGV4ZWN1dGUoYSwgYiwgYywgZCkge1xuXHQgICAgICBkIHx8IChkID0gcy5yYW5kb20oOCkpO2EgPSB3LmNyZWF0ZSh7IGtleVNpemU6IGIgKyBjIH0pLmNvbXB1dGUoYSwgZCk7YyA9IHMuY3JlYXRlKGEud29yZHMuc2xpY2UoYiksIDQgKiBjKTthLnNpZ0J5dGVzID0gNCAqIGI7cmV0dXJuIG4uY3JlYXRlKHsga2V5OiBhLCBpdjogYywgc2FsdDogZCB9KTtcblx0ICAgIH0gfSxcblx0ICAgICAgYyA9IGQuUGFzc3dvcmRCYXNlZENpcGhlciA9IGEuZXh0ZW5kKHsgY2ZnOiBhLmNmZy5leHRlbmQoeyBrZGY6IHAgfSksIGVuY3J5cHQ6IGZ1bmN0aW9uIGVuY3J5cHQoYiwgYywgZCwgbCkge1xuXHQgICAgICBsID0gdGhpcy5jZmcuZXh0ZW5kKGwpO2QgPSBsLmtkZi5leGVjdXRlKGQsIGIua2V5U2l6ZSwgYi5pdlNpemUpO2wuaXYgPSBkLml2O2IgPSBhLmVuY3J5cHQuY2FsbCh0aGlzLCBiLCBjLCBkLmtleSwgbCk7Yi5taXhJbihkKTtyZXR1cm4gYjtcblx0ICAgIH0sIGRlY3J5cHQ6IGZ1bmN0aW9uIGRlY3J5cHQoYiwgYywgZCwgbCkge1xuXHQgICAgICBsID0gdGhpcy5jZmcuZXh0ZW5kKGwpO2MgPSB0aGlzLl9wYXJzZShjLCBsLmZvcm1hdCk7ZCA9IGwua2RmLmV4ZWN1dGUoZCwgYi5rZXlTaXplLCBiLml2U2l6ZSwgYy5zYWx0KTtsLml2ID0gZC5pdjtyZXR1cm4gYS5kZWNyeXB0LmNhbGwodGhpcywgYiwgYywgZC5rZXksIGwpO1xuXHQgICAgfSB9KTtcblx0fSgpO1xuXG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgZm9yICh2YXIgdSA9IENyeXB0b0pTLCBwID0gdS5saWIuQmxvY2tDaXBoZXIsIGQgPSB1LmFsZ28sIGwgPSBbXSwgcyA9IFtdLCB0ID0gW10sIHIgPSBbXSwgdyA9IFtdLCB2ID0gW10sIGIgPSBbXSwgeCA9IFtdLCBxID0gW10sIG4gPSBbXSwgYSA9IFtdLCBjID0gMDsgMjU2ID4gYzsgYysrKSB7XG5cdCAgICBhW2NdID0gMTI4ID4gYyA/IGMgPDwgMSA6IGMgPDwgMSBeIDI4Mztcblx0ICB9Zm9yICh2YXIgZSA9IDAsIGogPSAwLCBjID0gMDsgMjU2ID4gYzsgYysrKSB7XG5cdCAgICB2YXIgayA9IGogXiBqIDw8IDEgXiBqIDw8IDIgXiBqIDw8IDMgXiBqIDw8IDQsXG5cdCAgICAgICAgayA9IGsgPj4+IDggXiBrICYgMjU1IF4gOTk7bFtlXSA9IGs7c1trXSA9IGU7dmFyIHogPSBhW2VdLFxuXHQgICAgICAgIEYgPSBhW3pdLFxuXHQgICAgICAgIEcgPSBhW0ZdLFxuXHQgICAgICAgIHkgPSAyNTcgKiBhW2tdIF4gMTY4NDMwMDggKiBrO3RbZV0gPSB5IDw8IDI0IHwgeSA+Pj4gODtyW2VdID0geSA8PCAxNiB8IHkgPj4+IDE2O3dbZV0gPSB5IDw8IDggfCB5ID4+PiAyNDt2W2VdID0geTt5ID0gMTY4NDMwMDkgKiBHIF4gNjU1MzcgKiBGIF4gMjU3ICogeiBeIDE2ODQzMDA4ICogZTtiW2tdID0geSA8PCAyNCB8IHkgPj4+IDg7eFtrXSA9IHkgPDwgMTYgfCB5ID4+PiAxNjtxW2tdID0geSA8PCA4IHwgeSA+Pj4gMjQ7bltrXSA9IHk7ZSA/IChlID0geiBeIGFbYVthW0cgXiB6XV1dLCBqIF49IGFbYVtqXV0pIDogZSA9IGogPSAxO1xuXHQgIH12YXIgSCA9IFswLCAxLCAyLCA0LCA4LCAxNiwgMzIsIDY0LCAxMjgsIDI3LCA1NF0sXG5cdCAgICAgIGQgPSBkLkFFUyA9IHAuZXh0ZW5kKHsgX2RvUmVzZXQ6IGZ1bmN0aW9uIF9kb1Jlc2V0KCkge1xuXHQgICAgICBmb3IgKHZhciBhID0gdGhpcy5fa2V5LCBjID0gYS53b3JkcywgZCA9IGEuc2lnQnl0ZXMgLyA0LCBhID0gNCAqICgodGhpcy5fblJvdW5kcyA9IGQgKyA2KSArIDEpLCBlID0gdGhpcy5fa2V5U2NoZWR1bGUgPSBbXSwgaiA9IDA7IGogPCBhOyBqKyspIHtcblx0ICAgICAgICBpZiAoaiA8IGQpIGVbal0gPSBjW2pdO2Vsc2Uge1xuXHQgICAgICAgICAgdmFyIGsgPSBlW2ogLSAxXTtqICUgZCA/IDYgPCBkICYmIDQgPT0gaiAlIGQgJiYgKGsgPSBsW2sgPj4+IDI0XSA8PCAyNCB8IGxbayA+Pj4gMTYgJiAyNTVdIDw8IDE2IHwgbFtrID4+PiA4ICYgMjU1XSA8PCA4IHwgbFtrICYgMjU1XSkgOiAoayA9IGsgPDwgOCB8IGsgPj4+IDI0LCBrID0gbFtrID4+PiAyNF0gPDwgMjQgfCBsW2sgPj4+IDE2ICYgMjU1XSA8PCAxNiB8IGxbayA+Pj4gOCAmIDI1NV0gPDwgOCB8IGxbayAmIDI1NV0sIGsgXj0gSFtqIC8gZCB8IDBdIDw8IDI0KTtlW2pdID0gZVtqIC0gZF0gXiBrO1xuXHQgICAgICAgIH1cblx0ICAgICAgfWMgPSB0aGlzLl9pbnZLZXlTY2hlZHVsZSA9IFtdO2ZvciAoZCA9IDA7IGQgPCBhOyBkKyspIHtcblx0ICAgICAgICBqID0gYSAtIGQsIGsgPSBkICUgNCA/IGVbal0gOiBlW2ogLSA0XSwgY1tkXSA9IDQgPiBkIHx8IDQgPj0gaiA/IGsgOiBiW2xbayA+Pj4gMjRdXSBeIHhbbFtrID4+PiAxNiAmIDI1NV1dIF4gcVtsW2sgPj4+IDggJiAyNTVdXSBeIG5bbFtrICYgMjU1XV07XG5cdCAgICAgIH1cblx0ICAgIH0sIGVuY3J5cHRCbG9jazogZnVuY3Rpb24gZW5jcnlwdEJsb2NrKGEsIGIpIHtcblx0ICAgICAgdGhpcy5fZG9DcnlwdEJsb2NrKGEsIGIsIHRoaXMuX2tleVNjaGVkdWxlLCB0LCByLCB3LCB2LCBsKTtcblx0ICAgIH0sIGRlY3J5cHRCbG9jazogZnVuY3Rpb24gZGVjcnlwdEJsb2NrKGEsIGMpIHtcblx0ICAgICAgdmFyIGQgPSBhW2MgKyAxXTthW2MgKyAxXSA9IGFbYyArIDNdO2FbYyArIDNdID0gZDt0aGlzLl9kb0NyeXB0QmxvY2soYSwgYywgdGhpcy5faW52S2V5U2NoZWR1bGUsIGIsIHgsIHEsIG4sIHMpO2QgPSBhW2MgKyAxXTthW2MgKyAxXSA9IGFbYyArIDNdO2FbYyArIDNdID0gZDtcblx0ICAgIH0sIF9kb0NyeXB0QmxvY2s6IGZ1bmN0aW9uIF9kb0NyeXB0QmxvY2soYSwgYiwgYywgZCwgZSwgaiwgbCwgZikge1xuXHQgICAgICBmb3IgKHZhciBtID0gdGhpcy5fblJvdW5kcywgZyA9IGFbYl0gXiBjWzBdLCBoID0gYVtiICsgMV0gXiBjWzFdLCBrID0gYVtiICsgMl0gXiBjWzJdLCBuID0gYVtiICsgM10gXiBjWzNdLCBwID0gNCwgciA9IDE7IHIgPCBtOyByKyspIHtcblx0ICAgICAgICB2YXIgcSA9IGRbZyA+Pj4gMjRdIF4gZVtoID4+PiAxNiAmIDI1NV0gXiBqW2sgPj4+IDggJiAyNTVdIF4gbFtuICYgMjU1XSBeIGNbcCsrXSxcblx0ICAgICAgICAgICAgcyA9IGRbaCA+Pj4gMjRdIF4gZVtrID4+PiAxNiAmIDI1NV0gXiBqW24gPj4+IDggJiAyNTVdIF4gbFtnICYgMjU1XSBeIGNbcCsrXSxcblx0ICAgICAgICAgICAgdCA9IGRbayA+Pj4gMjRdIF4gZVtuID4+PiAxNiAmIDI1NV0gXiBqW2cgPj4+IDggJiAyNTVdIF4gbFtoICYgMjU1XSBeIGNbcCsrXSxcblx0ICAgICAgICAgICAgbiA9IGRbbiA+Pj4gMjRdIF4gZVtnID4+PiAxNiAmIDI1NV0gXiBqW2ggPj4+IDggJiAyNTVdIF4gbFtrICYgMjU1XSBeIGNbcCsrXSxcblx0ICAgICAgICAgICAgZyA9IHEsXG5cdCAgICAgICAgICAgIGggPSBzLFxuXHQgICAgICAgICAgICBrID0gdDtcblx0ICAgICAgfXEgPSAoZltnID4+PiAyNF0gPDwgMjQgfCBmW2ggPj4+IDE2ICYgMjU1XSA8PCAxNiB8IGZbayA+Pj4gOCAmIDI1NV0gPDwgOCB8IGZbbiAmIDI1NV0pIF4gY1twKytdO3MgPSAoZltoID4+PiAyNF0gPDwgMjQgfCBmW2sgPj4+IDE2ICYgMjU1XSA8PCAxNiB8IGZbbiA+Pj4gOCAmIDI1NV0gPDwgOCB8IGZbZyAmIDI1NV0pIF4gY1twKytdO3QgPSAoZltrID4+PiAyNF0gPDwgMjQgfCBmW24gPj4+IDE2ICYgMjU1XSA8PCAxNiB8IGZbZyA+Pj4gOCAmIDI1NV0gPDwgOCB8IGZbaCAmIDI1NV0pIF4gY1twKytdO24gPSAoZltuID4+PiAyNF0gPDwgMjQgfCBmW2cgPj4+IDE2ICYgMjU1XSA8PCAxNiB8IGZbaCA+Pj4gOCAmIDI1NV0gPDwgOCB8IGZbayAmIDI1NV0pIF4gY1twKytdO2FbYl0gPSBxO2FbYiArIDFdID0gczthW2IgKyAyXSA9IHQ7YVtiICsgM10gPSBuO1xuXHQgICAgfSwga2V5U2l6ZTogOCB9KTt1LkFFUyA9IHAuX2NyZWF0ZUhlbHBlcihkKTtcblx0fSkoKTtcblxuXHRDcnlwdG9KUy5tb2RlLkVDQiA9IGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgRUNCID0gQ3J5cHRvSlMubGliLkJsb2NrQ2lwaGVyTW9kZS5leHRlbmQoKTtcblxuXHQgIEVDQi5FbmNyeXB0b3IgPSBFQ0IuZXh0ZW5kKHtcblx0ICAgIHByb2Nlc3NCbG9jazogZnVuY3Rpb24gcHJvY2Vzc0Jsb2NrKHdvcmRzLCBvZmZzZXQpIHtcblx0ICAgICAgdGhpcy5fY2lwaGVyLmVuY3J5cHRCbG9jayh3b3Jkcywgb2Zmc2V0KTtcblx0ICAgIH1cblx0ICB9KTtcblxuXHQgIEVDQi5EZWNyeXB0b3IgPSBFQ0IuZXh0ZW5kKHtcblx0ICAgIHByb2Nlc3NCbG9jazogZnVuY3Rpb24gcHJvY2Vzc0Jsb2NrKHdvcmRzLCBvZmZzZXQpIHtcblx0ICAgICAgdGhpcy5fY2lwaGVyLmRlY3J5cHRCbG9jayh3b3Jkcywgb2Zmc2V0KTtcblx0ICAgIH1cblx0ICB9KTtcblxuXHQgIHJldHVybiBFQ0I7XG5cdH0oKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IENyeXB0b0pTO1xuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5cdHZhciBfc3VwZXJhZ2VudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG5cdHZhciBfc3VwZXJhZ2VudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdXBlcmFnZW50KTtcblxuXHR2YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cblx0dmFyIF9jb25maWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlnKTtcblxuXHR2YXIgX2NhdGVnb3JpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblxuXHR2YXIgX2NhdGVnb3JpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2F0ZWdvcmllcyk7XG5cblx0dmFyIF9mbG93X2ludGVyZmFjZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXHR2YXIgX2NsYXNzID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIF9jbGFzcyhtb2R1bGVzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgX2NsYXNzKTtcblxuXHQgICAgdmFyIGFnZW50S2VlcEFsaXZlTW9kdWxlID0gbW9kdWxlcy5hZ2VudEtlZXBBbGl2ZU1vZHVsZSxcblx0ICAgICAgICBzZW5kQmVhY29uTW9kdWxlID0gbW9kdWxlcy5zZW5kQmVhY29uTW9kdWxlO1xuXG5cblx0ICAgIHRoaXMuX2FnZW50S2VlcEFsaXZlID0gYWdlbnRLZWVwQWxpdmVNb2R1bGU7XG5cdCAgICB0aGlzLl9zZW5kQmVhY29uID0gc2VuZEJlYWNvbk1vZHVsZTtcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoX2NsYXNzLCBbe1xuXHQgICAga2V5OiAnaW5pdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChjb25maWcpIHtcblx0ICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuXG5cdCAgICAgIHRoaXMuX21heFN1YkRvbWFpbiA9IDIwO1xuXHQgICAgICB0aGlzLl9jdXJyZW50U3ViRG9tYWluID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5fbWF4U3ViRG9tYWluKTtcblx0ICAgICAgdGhpcy5fcHJvdmlkZWRGUUROID0gKHRoaXMuX2NvbmZpZy5zZWN1cmUgPyAnaHR0cHM6Ly8nIDogJ2h0dHA6Ly8nKSArIHRoaXMuX2NvbmZpZy5vcmlnaW47XG5cdCAgICAgIHRoaXMuX2NvcmVQYXJhbXMgPSB7fTtcblxuXHQgICAgICB0aGlzLnNoaWZ0U3RhbmRhcmRPcmlnaW4oKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICduZXh0T3JpZ2luJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBuZXh0T3JpZ2luKCkge1xuXHQgICAgICBpZiAodGhpcy5fcHJvdmlkZWRGUUROLmluZGV4T2YoJ3B1YnN1Yi4nKSA9PT0gLTEpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fcHJvdmlkZWRGUUROO1xuXHQgICAgICB9XG5cblx0ICAgICAgdmFyIG5ld1N1YkRvbWFpbiA9IHZvaWQgMDtcblxuXHQgICAgICB0aGlzLl9jdXJyZW50U3ViRG9tYWluID0gdGhpcy5fY3VycmVudFN1YkRvbWFpbiArIDE7XG5cblx0ICAgICAgaWYgKHRoaXMuX2N1cnJlbnRTdWJEb21haW4gPj0gdGhpcy5fbWF4U3ViRG9tYWluKSB7XG5cdCAgICAgICAgdGhpcy5fY3VycmVudFN1YkRvbWFpbiA9IDE7XG5cdCAgICAgIH1cblxuXHQgICAgICBuZXdTdWJEb21haW4gPSB0aGlzLl9jdXJyZW50U3ViRG9tYWluLnRvU3RyaW5nKCk7XG5cblx0ICAgICAgcmV0dXJuIHRoaXMuX3Byb3ZpZGVkRlFETi5yZXBsYWNlKCdwdWJzdWInLCAncHMnICsgbmV3U3ViRG9tYWluKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzaGlmdFN0YW5kYXJkT3JpZ2luJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzaGlmdFN0YW5kYXJkT3JpZ2luKCkge1xuXHQgICAgICB2YXIgZmFpbG92ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG5cdCAgICAgIHRoaXMuX3N0YW5kYXJkT3JpZ2luID0gdGhpcy5uZXh0T3JpZ2luKGZhaWxvdmVyKTtcblxuXHQgICAgICByZXR1cm4gdGhpcy5fc3RhbmRhcmRPcmlnaW47XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0U3RhbmRhcmRPcmlnaW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN0YW5kYXJkT3JpZ2luKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5fc3RhbmRhcmRPcmlnaW47XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnUE9TVCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gUE9TVChwYXJhbXMsIGJvZHksIGVuZHBvaW50LCBjYWxsYmFjaykge1xuXHQgICAgICB2YXIgc3VwZXJhZ2VudENvbnN0cnVjdCA9IF9zdXBlcmFnZW50Mi5kZWZhdWx0LnBvc3QodGhpcy5nZXRTdGFuZGFyZE9yaWdpbigpICsgZW5kcG9pbnQudXJsKS5xdWVyeShwYXJhbXMpLnNlbmQoYm9keSk7XG5cdCAgICAgIHJldHVybiB0aGlzLl9hYnN0cmFjdGVkWERSKHN1cGVyYWdlbnRDb25zdHJ1Y3QsIGVuZHBvaW50LCBjYWxsYmFjayk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnR0VUJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBHRVQocGFyYW1zLCBlbmRwb2ludCwgY2FsbGJhY2spIHtcblx0ICAgICAgdmFyIHN1cGVyYWdlbnRDb25zdHJ1Y3QgPSBfc3VwZXJhZ2VudDIuZGVmYXVsdC5nZXQodGhpcy5nZXRTdGFuZGFyZE9yaWdpbigpICsgZW5kcG9pbnQudXJsKS5xdWVyeShwYXJhbXMpO1xuXHQgICAgICByZXR1cm4gdGhpcy5fYWJzdHJhY3RlZFhEUihzdXBlcmFnZW50Q29uc3RydWN0LCBlbmRwb2ludCwgY2FsbGJhY2spO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19hYnN0cmFjdGVkWERSJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfYWJzdHJhY3RlZFhEUihzdXBlcmFnZW50Q29uc3RydWN0LCBlbmRwb2ludCwgY2FsbGJhY2spIHtcblx0ICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgICAgICBpZiAodGhpcy5fY29uZmlnLmxvZ1ZlcmJvc2l0eSkge1xuXHQgICAgICAgIHN1cGVyYWdlbnRDb25zdHJ1Y3QgPSBzdXBlcmFnZW50Q29uc3RydWN0LnVzZSh0aGlzLl9hdHRhY2hTdXBlcmFnZW50TG9nZ2VyKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIGlmICh0aGlzLl9jb25maWcucHJveHkpIHtcblx0ICAgICAgICBzdXBlcmFnZW50Q29uc3RydWN0ID0gc3VwZXJhZ2VudENvbnN0cnVjdC5wcm94eSh0aGlzLl9jb25maWcucHJveHkpO1xuXHQgICAgICB9XG5cblx0ICAgICAgaWYgKHRoaXMuX2NvbmZpZy5rZWVwQWxpdmUgJiYgdGhpcy5fYWdlbnRLZWVwQWxpdmUpIHtcblx0ICAgICAgICBzdXBlcmFnZW50Q29uc3RydWN0ID0gdGhpcy5fYWdlbnRLZWVwQWxpdmUoc3VwZXJhZ2VudENvbnN0cnVjdCk7XG5cdCAgICAgIH1cblxuXHQgICAgICByZXR1cm4gc3VwZXJhZ2VudENvbnN0cnVjdC50aW1lb3V0KGVuZHBvaW50LnRpbWVvdXQpLmVuZChmdW5jdGlvbiAoZXJyLCByZXNwKSB7XG5cdCAgICAgICAgdmFyIHN0YXR1cyA9IHt9O1xuXHQgICAgICAgIHN0YXR1cy5lcnJvciA9IGVyciAhPT0gbnVsbDtcblx0ICAgICAgICBzdGF0dXMub3BlcmF0aW9uID0gZW5kcG9pbnQub3BlcmF0aW9uO1xuXG5cdCAgICAgICAgaWYgKHJlc3AgJiYgcmVzcC5zdGF0dXMpIHtcblx0ICAgICAgICAgIHN0YXR1cy5zdGF0dXNDb2RlID0gcmVzcC5zdGF0dXM7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKGVycikge1xuXHQgICAgICAgICAgc3RhdHVzLmVycm9yRGF0YSA9IGVycjtcblx0ICAgICAgICAgIHN0YXR1cy5jYXRlZ29yeSA9IF90aGlzLl9kZXRlY3RFcnJvckNhdGVnb3J5KGVycik7XG5cdCAgICAgICAgICByZXR1cm4gY2FsbGJhY2soc3RhdHVzLCBudWxsKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgcGFyc2VkUmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3AudGV4dCk7XG5cdCAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHN0YXR1cywgcGFyc2VkUmVzcG9uc2UpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZGV0ZWN0RXJyb3JDYXRlZ29yeScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2RldGVjdEVycm9yQ2F0ZWdvcnkoZXJyKSB7XG5cdCAgICAgIGlmIChlcnIuY29kZSA9PT0gJ0VOT1RGT1VORCcpIHJldHVybiBfY2F0ZWdvcmllczIuZGVmYXVsdC5QTk5ldHdvcmtJc3N1ZXNDYXRlZ29yeTtcblx0ICAgICAgaWYgKGVyci5jb2RlID09PSAnRUNPTk5SRUZVU0VEJykgcmV0dXJuIF9jYXRlZ29yaWVzMi5kZWZhdWx0LlBOTmV0d29ya0lzc3Vlc0NhdGVnb3J5O1xuXHQgICAgICBpZiAoZXJyLmNvZGUgPT09ICdFQ09OTlJFU0VUJykgcmV0dXJuIF9jYXRlZ29yaWVzMi5kZWZhdWx0LlBOTmV0d29ya0lzc3Vlc0NhdGVnb3J5O1xuXHQgICAgICBpZiAoZXJyLmNvZGUgPT09ICdFQUlfQUdBSU4nKSByZXR1cm4gX2NhdGVnb3JpZXMyLmRlZmF1bHQuUE5OZXR3b3JrSXNzdWVzQ2F0ZWdvcnk7XG5cblx0ICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDAgfHwgZXJyLmhhc093blByb3BlcnR5KCdzdGF0dXMnKSAmJiB0eXBlb2YgZXJyLnN0YXR1cyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBfY2F0ZWdvcmllczIuZGVmYXVsdC5QTk5ldHdvcmtJc3N1ZXNDYXRlZ29yeTtcblx0ICAgICAgaWYgKGVyci50aW1lb3V0KSByZXR1cm4gX2NhdGVnb3JpZXMyLmRlZmF1bHQuUE5UaW1lb3V0Q2F0ZWdvcnk7XG5cblx0ICAgICAgaWYgKGVyci5yZXNwb25zZSkge1xuXHQgICAgICAgIGlmIChlcnIucmVzcG9uc2UuYmFkUmVxdWVzdCkgcmV0dXJuIF9jYXRlZ29yaWVzMi5kZWZhdWx0LlBOQmFkUmVxdWVzdENhdGVnb3J5O1xuXHQgICAgICAgIGlmIChlcnIucmVzcG9uc2UuZm9yYmlkZGVuKSByZXR1cm4gX2NhdGVnb3JpZXMyLmRlZmF1bHQuUE5BY2Nlc3NEZW5pZWRDYXRlZ29yeTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHJldHVybiBfY2F0ZWdvcmllczIuZGVmYXVsdC5QTlVua25vd25DYXRlZ29yeTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfYXR0YWNoU3VwZXJhZ2VudExvZ2dlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2F0dGFjaFN1cGVyYWdlbnRMb2dnZXIocmVxKSB7XG5cdCAgICAgIHZhciBfcGlja0xvZ2dlciA9IGZ1bmN0aW9uIF9waWNrTG9nZ2VyKCkge1xuXHQgICAgICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGUubG9nKSByZXR1cm4gY29uc29sZTtcblx0ICAgICAgICBpZiAod2luZG93ICYmIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZykgcmV0dXJuIHdpbmRvdy5jb25zb2xlO1xuXHQgICAgICAgIHJldHVybiBjb25zb2xlO1xuXHQgICAgICB9O1xuXG5cdCAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHQgICAgICB2YXIgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXHQgICAgICB2YXIgbG9nZ2VyID0gX3BpY2tMb2dnZXIoKTtcblx0ICAgICAgbG9nZ2VyLmxvZygnPDw8PDwnKTtcblx0ICAgICAgbG9nZ2VyLmxvZygnWycgKyB0aW1lc3RhbXAgKyAnXScsICdcXG4nLCByZXEudXJsLCAnXFxuJywgcmVxLnFzKTtcblx0ICAgICAgbG9nZ2VyLmxvZygnLS0tLS0nKTtcblxuXHQgICAgICByZXEub24oJ3Jlc3BvbnNlJywgZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0ICAgICAgICB2YXIgZWxhcHNlZCA9IG5vdyAtIHN0YXJ0O1xuXHQgICAgICAgIHZhciB0aW1lc3RhbXBEb25lID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdCAgICAgICAgbG9nZ2VyLmxvZygnPj4+Pj4+Jyk7XG5cdCAgICAgICAgbG9nZ2VyLmxvZygnWycgKyB0aW1lc3RhbXBEb25lICsgJyAvICcgKyBlbGFwc2VkICsgJ10nLCAnXFxuJywgcmVxLnVybCwgJ1xcbicsIHJlcS5xcywgJ1xcbicsIHJlcy50ZXh0KTtcblx0ICAgICAgICBsb2dnZXIubG9nKCctLS0tLScpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cblx0ICByZXR1cm4gX2NsYXNzO1xuXHR9KCk7XG5cblx0ZXhwb3J0cy5kZWZhdWx0ID0gX2NsYXNzO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogUm9vdCByZWZlcmVuY2UgZm9yIGlmcmFtZXMuXG5cdCAqL1xuXG5cdHZhciByb290O1xuXHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsgLy8gQnJvd3NlciB3aW5kb3dcblx0ICByb290ID0gd2luZG93O1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykgeyAvLyBXZWIgV29ya2VyXG5cdCAgcm9vdCA9IHNlbGY7XG5cdH0gZWxzZSB7IC8vIE90aGVyIGVudmlyb25tZW50c1xuXHQgIGNvbnNvbGUud2FybihcIlVzaW5nIGJyb3dzZXItb25seSB2ZXJzaW9uIG9mIHN1cGVyYWdlbnQgaW4gbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdCAgcm9vdCA9IHRoaXM7XG5cdH1cblxuXHR2YXIgRW1pdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHR2YXIgcmVxdWVzdEJhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblx0dmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cblx0LyoqXG5cdCAqIE5vb3AuXG5cdCAqL1xuXG5cdGZ1bmN0aW9uIG5vb3AoKXt9O1xuXG5cdC8qKlxuXHQgKiBFeHBvc2UgYHJlcXVlc3RgLlxuXHQgKi9cblxuXHR2YXIgcmVxdWVzdCA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNikuYmluZChudWxsLCBSZXF1ZXN0KTtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lIFhIUi5cblx0ICovXG5cblx0cmVxdWVzdC5nZXRYSFIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgaWYgKHJvb3QuWE1MSHR0cFJlcXVlc3Rcblx0ICAgICAgJiYgKCFyb290LmxvY2F0aW9uIHx8ICdmaWxlOicgIT0gcm9vdC5sb2NhdGlvbi5wcm90b2NvbFxuXHQgICAgICAgICAgfHwgIXJvb3QuQWN0aXZlWE9iamVjdCkpIHtcblx0ICAgIHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3Q7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHRyeSB7IHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTWljcm9zb2Z0LlhNTEhUVFAnKTsgfSBjYXRjaChlKSB7fVxuXHQgICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNc3htbDIuWE1MSFRUUC42LjAnKTsgfSBjYXRjaChlKSB7fVxuXHQgICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNc3htbDIuWE1MSFRUUC4zLjAnKTsgfSBjYXRjaChlKSB7fVxuXHQgICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNc3htbDIuWE1MSFRUUCcpOyB9IGNhdGNoKGUpIHt9XG5cdCAgfVxuXHQgIHRocm93IEVycm9yKFwiQnJvd3Nlci1vbmx5IHZlcmlzb24gb2Ygc3VwZXJhZ2VudCBjb3VsZCBub3QgZmluZCBYSFJcIik7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgYWRkZWQgdG8gc3VwcG9ydCBJRS5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNcblx0ICogQHJldHVybiB7U3RyaW5nfVxuXHQgKiBAYXBpIHByaXZhdGVcblx0ICovXG5cblx0dmFyIHRyaW0gPSAnJy50cmltXG5cdCAgPyBmdW5jdGlvbihzKSB7IHJldHVybiBzLnRyaW0oKTsgfVxuXHQgIDogZnVuY3Rpb24ocykgeyByZXR1cm4gcy5yZXBsYWNlKC8oXlxccyp8XFxzKiQpL2csICcnKTsgfTtcblxuXHQvKipcblx0ICogU2VyaWFsaXplIHRoZSBnaXZlbiBgb2JqYC5cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IG9ialxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAqIEBhcGkgcHJpdmF0ZVxuXHQgKi9cblxuXHRmdW5jdGlvbiBzZXJpYWxpemUob2JqKSB7XG5cdCAgaWYgKCFpc09iamVjdChvYmopKSByZXR1cm4gb2JqO1xuXHQgIHZhciBwYWlycyA9IFtdO1xuXHQgIGZvciAodmFyIGtleSBpbiBvYmopIHtcblx0ICAgIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXksIG9ialtrZXldKTtcblx0ICB9XG5cdCAgcmV0dXJuIHBhaXJzLmpvaW4oJyYnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBIZWxwcyAnc2VyaWFsaXplJyB3aXRoIHNlcmlhbGl6aW5nIGFycmF5cy5cblx0ICogTXV0YXRlcyB0aGUgcGFpcnMgYXJyYXkuXG5cdCAqXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcblx0ICogQHBhcmFtIHtNaXhlZH0gdmFsXG5cdCAqL1xuXG5cdGZ1bmN0aW9uIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXksIHZhbCkge1xuXHQgIGlmICh2YWwgIT0gbnVsbCkge1xuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuXHQgICAgICB2YWwuZm9yRWFjaChmdW5jdGlvbih2KSB7XG5cdCAgICAgICAgcHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsIGtleSwgdik7XG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpKSB7XG5cdCAgICAgIGZvcih2YXIgc3Via2V5IGluIHZhbCkge1xuXHQgICAgICAgIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXkgKyAnWycgKyBzdWJrZXkgKyAnXScsIHZhbFtzdWJrZXldKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcGFpcnMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KVxuXHQgICAgICAgICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkpO1xuXHQgICAgfVxuXHQgIH0gZWxzZSBpZiAodmFsID09PSBudWxsKSB7XG5cdCAgICBwYWlycy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpKTtcblx0ICB9XG5cdH1cblxuXHQvKipcblx0ICogRXhwb3NlIHNlcmlhbGl6YXRpb24gbWV0aG9kLlxuXHQgKi9cblxuXHQgcmVxdWVzdC5zZXJpYWxpemVPYmplY3QgPSBzZXJpYWxpemU7XG5cblx0IC8qKlxuXHQgICogUGFyc2UgdGhlIGdpdmVuIHgtd3d3LWZvcm0tdXJsZW5jb2RlZCBgc3RyYC5cblx0ICAqXG5cdCAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG5cdCAgKiBAcmV0dXJuIHtPYmplY3R9XG5cdCAgKiBAYXBpIHByaXZhdGVcblx0ICAqL1xuXG5cdGZ1bmN0aW9uIHBhcnNlU3RyaW5nKHN0cikge1xuXHQgIHZhciBvYmogPSB7fTtcblx0ICB2YXIgcGFpcnMgPSBzdHIuc3BsaXQoJyYnKTtcblx0ICB2YXIgcGFpcjtcblx0ICB2YXIgcG9zO1xuXG5cdCAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhaXJzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICBwYWlyID0gcGFpcnNbaV07XG5cdCAgICBwb3MgPSBwYWlyLmluZGV4T2YoJz0nKTtcblx0ICAgIGlmIChwb3MgPT0gLTEpIHtcblx0ICAgICAgb2JqW2RlY29kZVVSSUNvbXBvbmVudChwYWlyKV0gPSAnJztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQocGFpci5zbGljZSgwLCBwb3MpKV0gPVxuXHQgICAgICAgIGRlY29kZVVSSUNvbXBvbmVudChwYWlyLnNsaWNlKHBvcyArIDEpKTtcblx0ICAgIH1cblx0ICB9XG5cblx0ICByZXR1cm4gb2JqO1xuXHR9XG5cblx0LyoqXG5cdCAqIEV4cG9zZSBwYXJzZXIuXG5cdCAqL1xuXG5cdHJlcXVlc3QucGFyc2VTdHJpbmcgPSBwYXJzZVN0cmluZztcblxuXHQvKipcblx0ICogRGVmYXVsdCBNSU1FIHR5cGUgbWFwLlxuXHQgKlxuXHQgKiAgICAgc3VwZXJhZ2VudC50eXBlcy54bWwgPSAnYXBwbGljYXRpb24veG1sJztcblx0ICpcblx0ICovXG5cblx0cmVxdWVzdC50eXBlcyA9IHtcblx0ICBodG1sOiAndGV4dC9odG1sJyxcblx0ICBqc29uOiAnYXBwbGljYXRpb24vanNvbicsXG5cdCAgeG1sOiAnYXBwbGljYXRpb24veG1sJyxcblx0ICB1cmxlbmNvZGVkOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcblx0ICAnZm9ybSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuXHQgICdmb3JtLWRhdGEnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEZWZhdWx0IHNlcmlhbGl6YXRpb24gbWFwLlxuXHQgKlxuXHQgKiAgICAgc3VwZXJhZ2VudC5zZXJpYWxpemVbJ2FwcGxpY2F0aW9uL3htbCddID0gZnVuY3Rpb24ob2JqKXtcblx0ICogICAgICAgcmV0dXJuICdnZW5lcmF0ZWQgeG1sIGhlcmUnO1xuXHQgKiAgICAgfTtcblx0ICpcblx0ICovXG5cblx0IHJlcXVlc3Quc2VyaWFsaXplID0ge1xuXHQgICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzogc2VyaWFsaXplLFxuXHQgICAnYXBwbGljYXRpb24vanNvbic6IEpTT04uc3RyaW5naWZ5XG5cdCB9O1xuXG5cdCAvKipcblx0ICAqIERlZmF1bHQgcGFyc2Vycy5cblx0ICAqXG5cdCAgKiAgICAgc3VwZXJhZ2VudC5wYXJzZVsnYXBwbGljYXRpb24veG1sJ10gPSBmdW5jdGlvbihzdHIpe1xuXHQgICogICAgICAgcmV0dXJuIHsgb2JqZWN0IHBhcnNlZCBmcm9tIHN0ciB9O1xuXHQgICogICAgIH07XG5cdCAgKlxuXHQgICovXG5cblx0cmVxdWVzdC5wYXJzZSA9IHtcblx0ICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzogcGFyc2VTdHJpbmcsXG5cdCAgJ2FwcGxpY2F0aW9uL2pzb24nOiBKU09OLnBhcnNlXG5cdH07XG5cblx0LyoqXG5cdCAqIFBhcnNlIHRoZSBnaXZlbiBoZWFkZXIgYHN0cmAgaW50b1xuXHQgKiBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgbWFwcGVkIGZpZWxkcy5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0clxuXHQgKiBAcmV0dXJuIHtPYmplY3R9XG5cdCAqIEBhcGkgcHJpdmF0ZVxuXHQgKi9cblxuXHRmdW5jdGlvbiBwYXJzZUhlYWRlcihzdHIpIHtcblx0ICB2YXIgbGluZXMgPSBzdHIuc3BsaXQoL1xccj9cXG4vKTtcblx0ICB2YXIgZmllbGRzID0ge307XG5cdCAgdmFyIGluZGV4O1xuXHQgIHZhciBsaW5lO1xuXHQgIHZhciBmaWVsZDtcblx0ICB2YXIgdmFsO1xuXG5cdCAgbGluZXMucG9wKCk7IC8vIHRyYWlsaW5nIENSTEZcblxuXHQgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaW5lcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuXHQgICAgbGluZSA9IGxpbmVzW2ldO1xuXHQgICAgaW5kZXggPSBsaW5lLmluZGV4T2YoJzonKTtcblx0ICAgIGZpZWxkID0gbGluZS5zbGljZSgwLCBpbmRleCkudG9Mb3dlckNhc2UoKTtcblx0ICAgIHZhbCA9IHRyaW0obGluZS5zbGljZShpbmRleCArIDEpKTtcblx0ICAgIGZpZWxkc1tmaWVsZF0gPSB2YWw7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIGZpZWxkcztcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVjayBpZiBgbWltZWAgaXMganNvbiBvciBoYXMgK2pzb24gc3RydWN0dXJlZCBzeW50YXggc3VmZml4LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbWltZVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKiBAYXBpIHByaXZhdGVcblx0ICovXG5cblx0ZnVuY3Rpb24gaXNKU09OKG1pbWUpIHtcblx0ICByZXR1cm4gL1tcXC8rXWpzb25cXGIvLnRlc3QobWltZSk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJuIHRoZSBtaW1lIHR5cGUgZm9yIHRoZSBnaXZlbiBgc3RyYC5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0clxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAqIEBhcGkgcHJpdmF0ZVxuXHQgKi9cblxuXHRmdW5jdGlvbiB0eXBlKHN0cil7XG5cdCAgcmV0dXJuIHN0ci5zcGxpdCgvICo7ICovKS5zaGlmdCgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm4gaGVhZGVyIGZpZWxkIHBhcmFtZXRlcnMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcblx0ICogQHJldHVybiB7T2JqZWN0fVxuXHQgKiBAYXBpIHByaXZhdGVcblx0ICovXG5cblx0ZnVuY3Rpb24gcGFyYW1zKHN0cil7XG5cdCAgcmV0dXJuIHN0ci5zcGxpdCgvICo7ICovKS5yZWR1Y2UoZnVuY3Rpb24ob2JqLCBzdHIpe1xuXHQgICAgdmFyIHBhcnRzID0gc3RyLnNwbGl0KC8gKj0gKi8pLFxuXHQgICAgICAgIGtleSA9IHBhcnRzLnNoaWZ0KCksXG5cdCAgICAgICAgdmFsID0gcGFydHMuc2hpZnQoKTtcblxuXHQgICAgaWYgKGtleSAmJiB2YWwpIG9ialtrZXldID0gdmFsO1xuXHQgICAgcmV0dXJuIG9iajtcblx0ICB9LCB7fSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemUgYSBuZXcgYFJlc3BvbnNlYCB3aXRoIHRoZSBnaXZlbiBgeGhyYC5cblx0ICpcblx0ICogIC0gc2V0IGZsYWdzICgub2ssIC5lcnJvciwgZXRjKVxuXHQgKiAgLSBwYXJzZSBoZWFkZXJcblx0ICpcblx0ICogRXhhbXBsZXM6XG5cdCAqXG5cdCAqICBBbGlhc2luZyBgc3VwZXJhZ2VudGAgYXMgYHJlcXVlc3RgIGlzIG5pY2U6XG5cdCAqXG5cdCAqICAgICAgcmVxdWVzdCA9IHN1cGVyYWdlbnQ7XG5cdCAqXG5cdCAqICBXZSBjYW4gdXNlIHRoZSBwcm9taXNlLWxpa2UgQVBJLCBvciBwYXNzIGNhbGxiYWNrczpcblx0ICpcblx0ICogICAgICByZXF1ZXN0LmdldCgnLycpLmVuZChmdW5jdGlvbihyZXMpe30pO1xuXHQgKiAgICAgIHJlcXVlc3QuZ2V0KCcvJywgZnVuY3Rpb24ocmVzKXt9KTtcblx0ICpcblx0ICogIFNlbmRpbmcgZGF0YSBjYW4gYmUgY2hhaW5lZDpcblx0ICpcblx0ICogICAgICByZXF1ZXN0XG5cdCAqICAgICAgICAucG9zdCgnL3VzZXInKVxuXHQgKiAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0pXG5cdCAqICAgICAgICAuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG5cdCAqXG5cdCAqICBPciBwYXNzZWQgdG8gYC5zZW5kKClgOlxuXHQgKlxuXHQgKiAgICAgIHJlcXVlc3Rcblx0ICogICAgICAgIC5wb3N0KCcvdXNlcicpXG5cdCAqICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSwgZnVuY3Rpb24ocmVzKXt9KTtcblx0ICpcblx0ICogIE9yIHBhc3NlZCB0byBgLnBvc3QoKWA6XG5cdCAqXG5cdCAqICAgICAgcmVxdWVzdFxuXHQgKiAgICAgICAgLnBvc3QoJy91c2VyJywgeyBuYW1lOiAndGonIH0pXG5cdCAqICAgICAgICAuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG5cdCAqXG5cdCAqIE9yIGZ1cnRoZXIgcmVkdWNlZCB0byBhIHNpbmdsZSBjYWxsIGZvciBzaW1wbGUgY2FzZXM6XG5cdCAqXG5cdCAqICAgICAgcmVxdWVzdFxuXHQgKiAgICAgICAgLnBvc3QoJy91c2VyJywgeyBuYW1lOiAndGonIH0sIGZ1bmN0aW9uKHJlcyl7fSk7XG5cdCAqXG5cdCAqIEBwYXJhbSB7WE1MSFRUUFJlcXVlc3R9IHhoclxuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuXHQgKiBAYXBpIHByaXZhdGVcblx0ICovXG5cblx0ZnVuY3Rpb24gUmVzcG9uc2UocmVxLCBvcHRpb25zKSB7XG5cdCAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdCAgdGhpcy5yZXEgPSByZXE7XG5cdCAgdGhpcy54aHIgPSB0aGlzLnJlcS54aHI7XG5cdCAgLy8gcmVzcG9uc2VUZXh0IGlzIGFjY2Vzc2libGUgb25seSBpZiByZXNwb25zZVR5cGUgaXMgJycgb3IgJ3RleHQnIGFuZCBvbiBvbGRlciBicm93c2Vyc1xuXHQgIHRoaXMudGV4dCA9ICgodGhpcy5yZXEubWV0aG9kICE9J0hFQUQnICYmICh0aGlzLnhoci5yZXNwb25zZVR5cGUgPT09ICcnIHx8IHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnKSkgfHwgdHlwZW9mIHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCcpXG5cdCAgICAgPyB0aGlzLnhoci5yZXNwb25zZVRleHRcblx0ICAgICA6IG51bGw7XG5cdCAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5yZXEueGhyLnN0YXR1c1RleHQ7XG5cdCAgdGhpcy5fc2V0U3RhdHVzUHJvcGVydGllcyh0aGlzLnhoci5zdGF0dXMpO1xuXHQgIHRoaXMuaGVhZGVyID0gdGhpcy5oZWFkZXJzID0gcGFyc2VIZWFkZXIodGhpcy54aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpO1xuXHQgIC8vIGdldEFsbFJlc3BvbnNlSGVhZGVycyBzb21ldGltZXMgZmFsc2VseSByZXR1cm5zIFwiXCIgZm9yIENPUlMgcmVxdWVzdHMsIGJ1dFxuXHQgIC8vIGdldFJlc3BvbnNlSGVhZGVyIHN0aWxsIHdvcmtzLiBzbyB3ZSBnZXQgY29udGVudC10eXBlIGV2ZW4gaWYgZ2V0dGluZ1xuXHQgIC8vIG90aGVyIGhlYWRlcnMgZmFpbHMuXG5cdCAgdGhpcy5oZWFkZXJbJ2NvbnRlbnQtdHlwZSddID0gdGhpcy54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtdHlwZScpO1xuXHQgIHRoaXMuX3NldEhlYWRlclByb3BlcnRpZXModGhpcy5oZWFkZXIpO1xuXHQgIHRoaXMuYm9keSA9IHRoaXMucmVxLm1ldGhvZCAhPSAnSEVBRCdcblx0ICAgID8gdGhpcy5fcGFyc2VCb2R5KHRoaXMudGV4dCA/IHRoaXMudGV4dCA6IHRoaXMueGhyLnJlc3BvbnNlKVxuXHQgICAgOiBudWxsO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBjYXNlLWluc2Vuc2l0aXZlIGBmaWVsZGAgdmFsdWUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAqIEBhcGkgcHVibGljXG5cdCAqL1xuXG5cdFJlc3BvbnNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihmaWVsZCl7XG5cdCAgcmV0dXJuIHRoaXMuaGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTZXQgaGVhZGVyIHJlbGF0ZWQgcHJvcGVydGllczpcblx0ICpcblx0ICogICAtIGAudHlwZWAgdGhlIGNvbnRlbnQgdHlwZSB3aXRob3V0IHBhcmFtc1xuXHQgKlxuXHQgKiBBIHJlc3BvbnNlIG9mIFwiQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XCJcblx0ICogd2lsbCBwcm92aWRlIHlvdSB3aXRoIGEgYC50eXBlYCBvZiBcInRleHQvcGxhaW5cIi5cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IGhlYWRlclxuXHQgKiBAYXBpIHByaXZhdGVcblx0ICovXG5cblx0UmVzcG9uc2UucHJvdG90eXBlLl9zZXRIZWFkZXJQcm9wZXJ0aWVzID0gZnVuY3Rpb24oaGVhZGVyKXtcblx0ICAvLyBjb250ZW50LXR5cGVcblx0ICB2YXIgY3QgPSB0aGlzLmhlYWRlclsnY29udGVudC10eXBlJ10gfHwgJyc7XG5cdCAgdGhpcy50eXBlID0gdHlwZShjdCk7XG5cblx0ICAvLyBwYXJhbXNcblx0ICB2YXIgb2JqID0gcGFyYW1zKGN0KTtcblx0ICBmb3IgKHZhciBrZXkgaW4gb2JqKSB0aGlzW2tleV0gPSBvYmpba2V5XTtcblx0fTtcblxuXHQvKipcblx0ICogUGFyc2UgdGhlIGdpdmVuIGJvZHkgYHN0cmAuXG5cdCAqXG5cdCAqIFVzZWQgZm9yIGF1dG8tcGFyc2luZyBvZiBib2RpZXMuIFBhcnNlcnNcblx0ICogYXJlIGRlZmluZWQgb24gdGhlIGBzdXBlcmFnZW50LnBhcnNlYCBvYmplY3QuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcblx0ICogQHJldHVybiB7TWl4ZWR9XG5cdCAqIEBhcGkgcHJpdmF0ZVxuXHQgKi9cblxuXHRSZXNwb25zZS5wcm90b3R5cGUuX3BhcnNlQm9keSA9IGZ1bmN0aW9uKHN0cil7XG5cdCAgdmFyIHBhcnNlID0gcmVxdWVzdC5wYXJzZVt0aGlzLnR5cGVdO1xuXHQgIGlmICghcGFyc2UgJiYgaXNKU09OKHRoaXMudHlwZSkpIHtcblx0ICAgIHBhcnNlID0gcmVxdWVzdC5wYXJzZVsnYXBwbGljYXRpb24vanNvbiddO1xuXHQgIH1cblx0ICByZXR1cm4gcGFyc2UgJiYgc3RyICYmIChzdHIubGVuZ3RoIHx8IHN0ciBpbnN0YW5jZW9mIE9iamVjdClcblx0ICAgID8gcGFyc2Uoc3RyKVxuXHQgICAgOiBudWxsO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTZXQgZmxhZ3Mgc3VjaCBhcyBgLm9rYCBiYXNlZCBvbiBgc3RhdHVzYC5cblx0ICpcblx0ICogRm9yIGV4YW1wbGUgYSAyeHggcmVzcG9uc2Ugd2lsbCBnaXZlIHlvdSBhIGAub2tgIG9mIF9fdHJ1ZV9fXG5cdCAqIHdoZXJlYXMgNXh4IHdpbGwgYmUgX19mYWxzZV9fIGFuZCBgLmVycm9yYCB3aWxsIGJlIF9fdHJ1ZV9fLiBUaGVcblx0ICogYC5jbGllbnRFcnJvcmAgYW5kIGAuc2VydmVyRXJyb3JgIGFyZSBhbHNvIGF2YWlsYWJsZSB0byBiZSBtb3JlXG5cdCAqIHNwZWNpZmljLCBhbmQgYC5zdGF0dXNUeXBlYCBpcyB0aGUgY2xhc3Mgb2YgZXJyb3IgcmFuZ2luZyBmcm9tIDEuLjVcblx0ICogc29tZXRpbWVzIHVzZWZ1bCBmb3IgbWFwcGluZyByZXNwb25kIGNvbG9ycyBldGMuXG5cdCAqXG5cdCAqIFwic3VnYXJcIiBwcm9wZXJ0aWVzIGFyZSBhbHNvIGRlZmluZWQgZm9yIGNvbW1vbiBjYXNlcy4gQ3VycmVudGx5IHByb3ZpZGluZzpcblx0ICpcblx0ICogICAtIC5ub0NvbnRlbnRcblx0ICogICAtIC5iYWRSZXF1ZXN0XG5cdCAqICAgLSAudW5hdXRob3JpemVkXG5cdCAqICAgLSAubm90QWNjZXB0YWJsZVxuXHQgKiAgIC0gLm5vdEZvdW5kXG5cdCAqXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBzdGF0dXNcblx0ICogQGFwaSBwcml2YXRlXG5cdCAqL1xuXG5cdFJlc3BvbnNlLnByb3RvdHlwZS5fc2V0U3RhdHVzUHJvcGVydGllcyA9IGZ1bmN0aW9uKHN0YXR1cyl7XG5cdCAgLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuXHQgIGlmIChzdGF0dXMgPT09IDEyMjMpIHtcblx0ICAgIHN0YXR1cyA9IDIwNDtcblx0ICB9XG5cblx0ICB2YXIgdHlwZSA9IHN0YXR1cyAvIDEwMCB8IDA7XG5cblx0ICAvLyBzdGF0dXMgLyBjbGFzc1xuXHQgIHRoaXMuc3RhdHVzID0gdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzO1xuXHQgIHRoaXMuc3RhdHVzVHlwZSA9IHR5cGU7XG5cblx0ICAvLyBiYXNpY3Ncblx0ICB0aGlzLmluZm8gPSAxID09IHR5cGU7XG5cdCAgdGhpcy5vayA9IDIgPT0gdHlwZTtcblx0ICB0aGlzLmNsaWVudEVycm9yID0gNCA9PSB0eXBlO1xuXHQgIHRoaXMuc2VydmVyRXJyb3IgPSA1ID09IHR5cGU7XG5cdCAgdGhpcy5lcnJvciA9ICg0ID09IHR5cGUgfHwgNSA9PSB0eXBlKVxuXHQgICAgPyB0aGlzLnRvRXJyb3IoKVxuXHQgICAgOiBmYWxzZTtcblxuXHQgIC8vIHN1Z2FyXG5cdCAgdGhpcy5hY2NlcHRlZCA9IDIwMiA9PSBzdGF0dXM7XG5cdCAgdGhpcy5ub0NvbnRlbnQgPSAyMDQgPT0gc3RhdHVzO1xuXHQgIHRoaXMuYmFkUmVxdWVzdCA9IDQwMCA9PSBzdGF0dXM7XG5cdCAgdGhpcy51bmF1dGhvcml6ZWQgPSA0MDEgPT0gc3RhdHVzO1xuXHQgIHRoaXMubm90QWNjZXB0YWJsZSA9IDQwNiA9PSBzdGF0dXM7XG5cdCAgdGhpcy5ub3RGb3VuZCA9IDQwNCA9PSBzdGF0dXM7XG5cdCAgdGhpcy5mb3JiaWRkZW4gPSA0MDMgPT0gc3RhdHVzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm4gYW4gYEVycm9yYCByZXByZXNlbnRhdGl2ZSBvZiB0aGlzIHJlc3BvbnNlLlxuXHQgKlxuXHQgKiBAcmV0dXJuIHtFcnJvcn1cblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cblx0UmVzcG9uc2UucHJvdG90eXBlLnRvRXJyb3IgPSBmdW5jdGlvbigpe1xuXHQgIHZhciByZXEgPSB0aGlzLnJlcTtcblx0ICB2YXIgbWV0aG9kID0gcmVxLm1ldGhvZDtcblx0ICB2YXIgdXJsID0gcmVxLnVybDtcblxuXHQgIHZhciBtc2cgPSAnY2Fubm90ICcgKyBtZXRob2QgKyAnICcgKyB1cmwgKyAnICgnICsgdGhpcy5zdGF0dXMgKyAnKSc7XG5cdCAgdmFyIGVyciA9IG5ldyBFcnJvcihtc2cpO1xuXHQgIGVyci5zdGF0dXMgPSB0aGlzLnN0YXR1cztcblx0ICBlcnIubWV0aG9kID0gbWV0aG9kO1xuXHQgIGVyci51cmwgPSB1cmw7XG5cblx0ICByZXR1cm4gZXJyO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBFeHBvc2UgYFJlc3BvbnNlYC5cblx0ICovXG5cblx0cmVxdWVzdC5SZXNwb25zZSA9IFJlc3BvbnNlO1xuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplIGEgbmV3IGBSZXF1ZXN0YCB3aXRoIHRoZSBnaXZlbiBgbWV0aG9kYCBhbmQgYHVybGAuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2Rcblx0ICogQHBhcmFtIHtTdHJpbmd9IHVybFxuXHQgKiBAYXBpIHB1YmxpY1xuXHQgKi9cblxuXHRmdW5jdGlvbiBSZXF1ZXN0KG1ldGhvZCwgdXJsKSB7XG5cdCAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgIHRoaXMuX3F1ZXJ5ID0gdGhpcy5fcXVlcnkgfHwgW107XG5cdCAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG5cdCAgdGhpcy51cmwgPSB1cmw7XG5cdCAgdGhpcy5oZWFkZXIgPSB7fTsgLy8gcHJlc2VydmVzIGhlYWRlciBuYW1lIGNhc2Vcblx0ICB0aGlzLl9oZWFkZXIgPSB7fTsgLy8gY29lcmNlcyBoZWFkZXIgbmFtZXMgdG8gbG93ZXJjYXNlXG5cdCAgdGhpcy5vbignZW5kJywgZnVuY3Rpb24oKXtcblx0ICAgIHZhciBlcnIgPSBudWxsO1xuXHQgICAgdmFyIHJlcyA9IG51bGw7XG5cblx0ICAgIHRyeSB7XG5cdCAgICAgIHJlcyA9IG5ldyBSZXNwb25zZShzZWxmKTtcblx0ICAgIH0gY2F0Y2goZSkge1xuXHQgICAgICBlcnIgPSBuZXcgRXJyb3IoJ1BhcnNlciBpcyB1bmFibGUgdG8gcGFyc2UgdGhlIHJlc3BvbnNlJyk7XG5cdCAgICAgIGVyci5wYXJzZSA9IHRydWU7XG5cdCAgICAgIGVyci5vcmlnaW5hbCA9IGU7XG5cdCAgICAgIC8vIGlzc3VlICM2NzU6IHJldHVybiB0aGUgcmF3IHJlc3BvbnNlIGlmIHRoZSByZXNwb25zZSBwYXJzaW5nIGZhaWxzXG5cdCAgICAgIGVyci5yYXdSZXNwb25zZSA9IHNlbGYueGhyICYmIHNlbGYueGhyLnJlc3BvbnNlVGV4dCA/IHNlbGYueGhyLnJlc3BvbnNlVGV4dCA6IG51bGw7XG5cdCAgICAgIC8vIGlzc3VlICM4NzY6IHJldHVybiB0aGUgaHR0cCBzdGF0dXMgY29kZSBpZiB0aGUgcmVzcG9uc2UgcGFyc2luZyBmYWlsc1xuXHQgICAgICBlcnIuc3RhdHVzQ29kZSA9IHNlbGYueGhyICYmIHNlbGYueGhyLnN0YXR1cyA/IHNlbGYueGhyLnN0YXR1cyA6IG51bGw7XG5cdCAgICAgIHJldHVybiBzZWxmLmNhbGxiYWNrKGVycik7XG5cdCAgICB9XG5cblx0ICAgIHNlbGYuZW1pdCgncmVzcG9uc2UnLCByZXMpO1xuXG5cdCAgICB2YXIgbmV3X2Vycjtcblx0ICAgIHRyeSB7XG5cdCAgICAgIGlmIChyZXMuc3RhdHVzIDwgMjAwIHx8IHJlcy5zdGF0dXMgPj0gMzAwKSB7XG5cdCAgICAgICAgbmV3X2VyciA9IG5ldyBFcnJvcihyZXMuc3RhdHVzVGV4dCB8fCAnVW5zdWNjZXNzZnVsIEhUVFAgcmVzcG9uc2UnKTtcblx0ICAgICAgICBuZXdfZXJyLm9yaWdpbmFsID0gZXJyO1xuXHQgICAgICAgIG5ld19lcnIucmVzcG9uc2UgPSByZXM7XG5cdCAgICAgICAgbmV3X2Vyci5zdGF0dXMgPSByZXMuc3RhdHVzO1xuXHQgICAgICB9XG5cdCAgICB9IGNhdGNoKGUpIHtcblx0ICAgICAgbmV3X2VyciA9IGU7IC8vICM5ODUgdG91Y2hpbmcgcmVzIG1heSBjYXVzZSBJTlZBTElEX1NUQVRFX0VSUiBvbiBvbGQgQW5kcm9pZFxuXHQgICAgfVxuXG5cdCAgICAvLyAjMTAwMCBkb24ndCBjYXRjaCBlcnJvcnMgZnJvbSB0aGUgY2FsbGJhY2sgdG8gYXZvaWQgZG91YmxlIGNhbGxpbmcgaXRcblx0ICAgIGlmIChuZXdfZXJyKSB7XG5cdCAgICAgIHNlbGYuY2FsbGJhY2sobmV3X2VyciwgcmVzKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHNlbGYuY2FsbGJhY2sobnVsbCwgcmVzKTtcblx0ICAgIH1cblx0ICB9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBNaXhpbiBgRW1pdHRlcmAgYW5kIGByZXF1ZXN0QmFzZWAuXG5cdCAqL1xuXG5cdEVtaXR0ZXIoUmVxdWVzdC5wcm90b3R5cGUpO1xuXHRmb3IgKHZhciBrZXkgaW4gcmVxdWVzdEJhc2UpIHtcblx0ICBSZXF1ZXN0LnByb3RvdHlwZVtrZXldID0gcmVxdWVzdEJhc2Vba2V5XTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXQgQ29udGVudC1UeXBlIHRvIGB0eXBlYCwgbWFwcGluZyB2YWx1ZXMgZnJvbSBgcmVxdWVzdC50eXBlc2AuXG5cdCAqXG5cdCAqIEV4YW1wbGVzOlxuXHQgKlxuXHQgKiAgICAgIHN1cGVyYWdlbnQudHlwZXMueG1sID0gJ2FwcGxpY2F0aW9uL3htbCc7XG5cdCAqXG5cdCAqICAgICAgcmVxdWVzdC5wb3N0KCcvJylcblx0ICogICAgICAgIC50eXBlKCd4bWwnKVxuXHQgKiAgICAgICAgLnNlbmQoeG1sc3RyaW5nKVxuXHQgKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG5cdCAqXG5cdCAqICAgICAgcmVxdWVzdC5wb3N0KCcvJylcblx0ICogICAgICAgIC50eXBlKCdhcHBsaWNhdGlvbi94bWwnKVxuXHQgKiAgICAgICAgLnNlbmQoeG1sc3RyaW5nKVxuXHQgKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG5cdCAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuXHQgKiBAYXBpIHB1YmxpY1xuXHQgKi9cblxuXHRSZXF1ZXN0LnByb3RvdHlwZS50eXBlID0gZnVuY3Rpb24odHlwZSl7XG5cdCAgdGhpcy5zZXQoJ0NvbnRlbnQtVHlwZScsIHJlcXVlc3QudHlwZXNbdHlwZV0gfHwgdHlwZSk7XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFNldCByZXNwb25zZVR5cGUgdG8gYHZhbGAuIFByZXNlbnRseSB2YWxpZCByZXNwb25zZVR5cGVzIGFyZSAnYmxvYicgYW5kXG5cdCAqICdhcnJheWJ1ZmZlcicuXG5cdCAqXG5cdCAqIEV4YW1wbGVzOlxuXHQgKlxuXHQgKiAgICAgIHJlcS5nZXQoJy8nKVxuXHQgKiAgICAgICAgLnJlc3BvbnNlVHlwZSgnYmxvYicpXG5cdCAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHZhbFxuXHQgKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cblx0UmVxdWVzdC5wcm90b3R5cGUucmVzcG9uc2VUeXBlID0gZnVuY3Rpb24odmFsKXtcblx0ICB0aGlzLl9yZXNwb25zZVR5cGUgPSB2YWw7XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFNldCBBY2NlcHQgdG8gYHR5cGVgLCBtYXBwaW5nIHZhbHVlcyBmcm9tIGByZXF1ZXN0LnR5cGVzYC5cblx0ICpcblx0ICogRXhhbXBsZXM6XG5cdCAqXG5cdCAqICAgICAgc3VwZXJhZ2VudC50eXBlcy5qc29uID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXHQgKlxuXHQgKiAgICAgIHJlcXVlc3QuZ2V0KCcvYWdlbnQnKVxuXHQgKiAgICAgICAgLmFjY2VwdCgnanNvbicpXG5cdCAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcblx0ICpcblx0ICogICAgICByZXF1ZXN0LmdldCgnL2FnZW50Jylcblx0ICogICAgICAgIC5hY2NlcHQoJ2FwcGxpY2F0aW9uL2pzb24nKVxuXHQgKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBhY2NlcHRcblx0ICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG5cdCAqIEBhcGkgcHVibGljXG5cdCAqL1xuXG5cdFJlcXVlc3QucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uKHR5cGUpe1xuXHQgIHRoaXMuc2V0KCdBY2NlcHQnLCByZXF1ZXN0LnR5cGVzW3R5cGVdIHx8IHR5cGUpO1xuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTZXQgQXV0aG9yaXphdGlvbiBmaWVsZCB2YWx1ZSB3aXRoIGB1c2VyYCBhbmQgYHBhc3NgLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdXNlclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gcGFzc1xuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyB3aXRoICd0eXBlJyBwcm9wZXJ0eSAnYXV0bycgb3IgJ2Jhc2ljJyAoZGVmYXVsdCAnYmFzaWMnKVxuXHQgKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cblx0UmVxdWVzdC5wcm90b3R5cGUuYXV0aCA9IGZ1bmN0aW9uKHVzZXIsIHBhc3MsIG9wdGlvbnMpe1xuXHQgIGlmICghb3B0aW9ucykge1xuXHQgICAgb3B0aW9ucyA9IHtcblx0ICAgICAgdHlwZTogJ2Jhc2ljJ1xuXHQgICAgfVxuXHQgIH1cblxuXHQgIHN3aXRjaCAob3B0aW9ucy50eXBlKSB7XG5cdCAgICBjYXNlICdiYXNpYyc6XG5cdCAgICAgIHZhciBzdHIgPSBidG9hKHVzZXIgKyAnOicgKyBwYXNzKTtcblx0ICAgICAgdGhpcy5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmFzaWMgJyArIHN0cik7XG5cdCAgICBicmVhaztcblxuXHQgICAgY2FzZSAnYXV0byc6XG5cdCAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VyO1xuXHQgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzcztcblx0ICAgIGJyZWFrO1xuXHQgIH1cblx0ICByZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0KiBBZGQgcXVlcnktc3RyaW5nIGB2YWxgLlxuXHQqXG5cdCogRXhhbXBsZXM6XG5cdCpcblx0KiAgIHJlcXVlc3QuZ2V0KCcvc2hvZXMnKVxuXHQqICAgICAucXVlcnkoJ3NpemU9MTAnKVxuXHQqICAgICAucXVlcnkoeyBjb2xvcjogJ2JsdWUnIH0pXG5cdCpcblx0KiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IHZhbFxuXHQqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cblx0UmVxdWVzdC5wcm90b3R5cGUucXVlcnkgPSBmdW5jdGlvbih2YWwpe1xuXHQgIGlmICgnc3RyaW5nJyAhPSB0eXBlb2YgdmFsKSB2YWwgPSBzZXJpYWxpemUodmFsKTtcblx0ICBpZiAodmFsKSB0aGlzLl9xdWVyeS5wdXNoKHZhbCk7XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFF1ZXVlIHRoZSBnaXZlbiBgZmlsZWAgYXMgYW4gYXR0YWNobWVudCB0byB0aGUgc3BlY2lmaWVkIGBmaWVsZGAsXG5cdCAqIHdpdGggb3B0aW9uYWwgYGZpbGVuYW1lYC5cblx0ICpcblx0ICogYGBgIGpzXG5cdCAqIHJlcXVlc3QucG9zdCgnL3VwbG9hZCcpXG5cdCAqICAgLmF0dGFjaCgnY29udGVudCcsIG5ldyBCbG9iKFsnPGEgaWQ9XCJhXCI+PGIgaWQ9XCJiXCI+aGV5ITwvYj48L2E+J10sIHsgdHlwZTogXCJ0ZXh0L2h0bWxcIn0pKVxuXHQgKiAgIC5lbmQoY2FsbGJhY2spO1xuXHQgKiBgYGBcblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG5cdCAqIEBwYXJhbSB7QmxvYnxGaWxlfSBmaWxlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlbmFtZVxuXHQgKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cblx0UmVxdWVzdC5wcm90b3R5cGUuYXR0YWNoID0gZnVuY3Rpb24oZmllbGQsIGZpbGUsIGZpbGVuYW1lKXtcblx0ICB0aGlzLl9nZXRGb3JtRGF0YSgpLmFwcGVuZChmaWVsZCwgZmlsZSwgZmlsZW5hbWUgfHwgZmlsZS5uYW1lKTtcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblxuXHRSZXF1ZXN0LnByb3RvdHlwZS5fZ2V0Rm9ybURhdGEgPSBmdW5jdGlvbigpe1xuXHQgIGlmICghdGhpcy5fZm9ybURhdGEpIHtcblx0ICAgIHRoaXMuX2Zvcm1EYXRhID0gbmV3IHJvb3QuRm9ybURhdGEoKTtcblx0ICB9XG5cdCAgcmV0dXJuIHRoaXMuX2Zvcm1EYXRhO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBJbnZva2UgdGhlIGNhbGxiYWNrIHdpdGggYGVycmAgYW5kIGByZXNgXG5cdCAqIGFuZCBoYW5kbGUgYXJpdHkgY2hlY2suXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXJyb3J9IGVyclxuXHQgKiBAcGFyYW0ge1Jlc3BvbnNlfSByZXNcblx0ICogQGFwaSBwcml2YXRlXG5cdCAqL1xuXG5cdFJlcXVlc3QucHJvdG90eXBlLmNhbGxiYWNrID0gZnVuY3Rpb24oZXJyLCByZXMpe1xuXHQgIHZhciBmbiA9IHRoaXMuX2NhbGxiYWNrO1xuXHQgIHRoaXMuY2xlYXJUaW1lb3V0KCk7XG5cdCAgZm4oZXJyLCByZXMpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBJbnZva2UgY2FsbGJhY2sgd2l0aCB4LWRvbWFpbiBlcnJvci5cblx0ICpcblx0ICogQGFwaSBwcml2YXRlXG5cdCAqL1xuXG5cdFJlcXVlc3QucHJvdG90eXBlLmNyb3NzRG9tYWluRXJyb3IgPSBmdW5jdGlvbigpe1xuXHQgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1JlcXVlc3QgaGFzIGJlZW4gdGVybWluYXRlZFxcblBvc3NpYmxlIGNhdXNlczogdGhlIG5ldHdvcmsgaXMgb2ZmbGluZSwgT3JpZ2luIGlzIG5vdCBhbGxvd2VkIGJ5IEFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiwgdGhlIHBhZ2UgaXMgYmVpbmcgdW5sb2FkZWQsIGV0Yy4nKTtcblx0ICBlcnIuY3Jvc3NEb21haW4gPSB0cnVlO1xuXG5cdCAgZXJyLnN0YXR1cyA9IHRoaXMuc3RhdHVzO1xuXHQgIGVyci5tZXRob2QgPSB0aGlzLm1ldGhvZDtcblx0ICBlcnIudXJsID0gdGhpcy51cmw7XG5cblx0ICB0aGlzLmNhbGxiYWNrKGVycik7XG5cdH07XG5cblx0LyoqXG5cdCAqIEludm9rZSBjYWxsYmFjayB3aXRoIHRpbWVvdXQgZXJyb3IuXG5cdCAqXG5cdCAqIEBhcGkgcHJpdmF0ZVxuXHQgKi9cblxuXHRSZXF1ZXN0LnByb3RvdHlwZS5fdGltZW91dEVycm9yID0gZnVuY3Rpb24oKXtcblx0ICB2YXIgdGltZW91dCA9IHRoaXMuX3RpbWVvdXQ7XG5cdCAgdmFyIGVyciA9IG5ldyBFcnJvcigndGltZW91dCBvZiAnICsgdGltZW91dCArICdtcyBleGNlZWRlZCcpO1xuXHQgIGVyci50aW1lb3V0ID0gdGltZW91dDtcblx0ICB0aGlzLmNhbGxiYWNrKGVycik7XG5cdH07XG5cblx0LyoqXG5cdCAqIENvbXBvc2UgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIHJlcS51cmxcblx0ICpcblx0ICogQGFwaSBwcml2YXRlXG5cdCAqL1xuXG5cdFJlcXVlc3QucHJvdG90eXBlLl9hcHBlbmRRdWVyeVN0cmluZyA9IGZ1bmN0aW9uKCl7XG5cdCAgdmFyIHF1ZXJ5ID0gdGhpcy5fcXVlcnkuam9pbignJicpO1xuXHQgIGlmIChxdWVyeSkge1xuXHQgICAgdGhpcy51cmwgKz0gfnRoaXMudXJsLmluZGV4T2YoJz8nKVxuXHQgICAgICA/ICcmJyArIHF1ZXJ5XG5cdCAgICAgIDogJz8nICsgcXVlcnk7XG5cdCAgfVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBJbml0aWF0ZSByZXF1ZXN0LCBpbnZva2luZyBjYWxsYmFjayBgZm4ocmVzKWBcblx0ICogd2l0aCBhbiBpbnN0YW5jZW9mIGBSZXNwb25zZWAuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG5cdCAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuXHQgKiBAYXBpIHB1YmxpY1xuXHQgKi9cblxuXHRSZXF1ZXN0LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbihmbil7XG5cdCAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgIHZhciB4aHIgPSB0aGlzLnhociA9IHJlcXVlc3QuZ2V0WEhSKCk7XG5cdCAgdmFyIHRpbWVvdXQgPSB0aGlzLl90aW1lb3V0O1xuXHQgIHZhciBkYXRhID0gdGhpcy5fZm9ybURhdGEgfHwgdGhpcy5fZGF0YTtcblxuXHQgIC8vIHN0b3JlIGNhbGxiYWNrXG5cdCAgdGhpcy5fY2FsbGJhY2sgPSBmbiB8fCBub29wO1xuXG5cdCAgLy8gc3RhdGUgY2hhbmdlXG5cdCAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCl7XG5cdCAgICBpZiAoNCAhPSB4aHIucmVhZHlTdGF0ZSkgcmV0dXJuO1xuXG5cdCAgICAvLyBJbiBJRTksIHJlYWRzIHRvIGFueSBwcm9wZXJ0eSAoZS5nLiBzdGF0dXMpIG9mZiBvZiBhbiBhYm9ydGVkIFhIUiB3aWxsXG5cdCAgICAvLyByZXN1bHQgaW4gdGhlIGVycm9yIFwiQ291bGQgbm90IGNvbXBsZXRlIHRoZSBvcGVyYXRpb24gZHVlIHRvIGVycm9yIGMwMGMwMjNmXCJcblx0ICAgIHZhciBzdGF0dXM7XG5cdCAgICB0cnkgeyBzdGF0dXMgPSB4aHIuc3RhdHVzIH0gY2F0Y2goZSkgeyBzdGF0dXMgPSAwOyB9XG5cblx0ICAgIGlmICgwID09IHN0YXR1cykge1xuXHQgICAgICBpZiAoc2VsZi50aW1lZG91dCkgcmV0dXJuIHNlbGYuX3RpbWVvdXRFcnJvcigpO1xuXHQgICAgICBpZiAoc2VsZi5fYWJvcnRlZCkgcmV0dXJuO1xuXHQgICAgICByZXR1cm4gc2VsZi5jcm9zc0RvbWFpbkVycm9yKCk7XG5cdCAgICB9XG5cdCAgICBzZWxmLmVtaXQoJ2VuZCcpO1xuXHQgIH07XG5cblx0ICAvLyBwcm9ncmVzc1xuXHQgIHZhciBoYW5kbGVQcm9ncmVzcyA9IGZ1bmN0aW9uKGRpcmVjdGlvbiwgZSkge1xuXHQgICAgaWYgKGUudG90YWwgPiAwKSB7XG5cdCAgICAgIGUucGVyY2VudCA9IGUubG9hZGVkIC8gZS50b3RhbCAqIDEwMDtcblx0ICAgIH1cblx0ICAgIGUuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXHQgICAgc2VsZi5lbWl0KCdwcm9ncmVzcycsIGUpO1xuXHQgIH1cblx0ICBpZiAodGhpcy5oYXNMaXN0ZW5lcnMoJ3Byb2dyZXNzJykpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIHhoci5vbnByb2dyZXNzID0gaGFuZGxlUHJvZ3Jlc3MuYmluZChudWxsLCAnZG93bmxvYWQnKTtcblx0ICAgICAgaWYgKHhoci51cGxvYWQpIHtcblx0ICAgICAgICB4aHIudXBsb2FkLm9ucHJvZ3Jlc3MgPSBoYW5kbGVQcm9ncmVzcy5iaW5kKG51bGwsICd1cGxvYWQnKTtcblx0ICAgICAgfVxuXHQgICAgfSBjYXRjaChlKSB7XG5cdCAgICAgIC8vIEFjY2Vzc2luZyB4aHIudXBsb2FkIGZhaWxzIGluIElFIGZyb20gYSB3ZWIgd29ya2VyLCBzbyBqdXN0IHByZXRlbmQgaXQgZG9lc24ndCBleGlzdC5cblx0ICAgICAgLy8gUmVwb3J0ZWQgaGVyZTpcblx0ICAgICAgLy8gaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy84MzcyNDUveG1saHR0cHJlcXVlc3QtdXBsb2FkLXRocm93cy1pbnZhbGlkLWFyZ3VtZW50LXdoZW4tdXNlZC1mcm9tLXdlYi13b3JrZXItY29udGV4dFxuXHQgICAgfVxuXHQgIH1cblxuXHQgIC8vIHRpbWVvdXRcblx0ICBpZiAodGltZW91dCAmJiAhdGhpcy5fdGltZXIpIHtcblx0ICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuXHQgICAgICBzZWxmLnRpbWVkb3V0ID0gdHJ1ZTtcblx0ICAgICAgc2VsZi5hYm9ydCgpO1xuXHQgICAgfSwgdGltZW91dCk7XG5cdCAgfVxuXG5cdCAgLy8gcXVlcnlzdHJpbmdcblx0ICB0aGlzLl9hcHBlbmRRdWVyeVN0cmluZygpO1xuXG5cdCAgLy8gaW5pdGlhdGUgcmVxdWVzdFxuXHQgIGlmICh0aGlzLnVzZXJuYW1lICYmIHRoaXMucGFzc3dvcmQpIHtcblx0ICAgIHhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVybCwgdHJ1ZSwgdGhpcy51c2VybmFtZSwgdGhpcy5wYXNzd29yZCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVybCwgdHJ1ZSk7XG5cdCAgfVxuXG5cdCAgLy8gQ09SU1xuXHQgIGlmICh0aGlzLl93aXRoQ3JlZGVudGlhbHMpIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuXG5cdCAgLy8gYm9keVxuXHQgIGlmICgnR0VUJyAhPSB0aGlzLm1ldGhvZCAmJiAnSEVBRCcgIT0gdGhpcy5tZXRob2QgJiYgJ3N0cmluZycgIT0gdHlwZW9mIGRhdGEgJiYgIXRoaXMuX2lzSG9zdChkYXRhKSkge1xuXHQgICAgLy8gc2VyaWFsaXplIHN0dWZmXG5cdCAgICB2YXIgY29udGVudFR5cGUgPSB0aGlzLl9oZWFkZXJbJ2NvbnRlbnQtdHlwZSddO1xuXHQgICAgdmFyIHNlcmlhbGl6ZSA9IHRoaXMuX3NlcmlhbGl6ZXIgfHwgcmVxdWVzdC5zZXJpYWxpemVbY29udGVudFR5cGUgPyBjb250ZW50VHlwZS5zcGxpdCgnOycpWzBdIDogJyddO1xuXHQgICAgaWYgKCFzZXJpYWxpemUgJiYgaXNKU09OKGNvbnRlbnRUeXBlKSkgc2VyaWFsaXplID0gcmVxdWVzdC5zZXJpYWxpemVbJ2FwcGxpY2F0aW9uL2pzb24nXTtcblx0ICAgIGlmIChzZXJpYWxpemUpIGRhdGEgPSBzZXJpYWxpemUoZGF0YSk7XG5cdCAgfVxuXG5cdCAgLy8gc2V0IGhlYWRlciBmaWVsZHNcblx0ICBmb3IgKHZhciBmaWVsZCBpbiB0aGlzLmhlYWRlcikge1xuXHQgICAgaWYgKG51bGwgPT0gdGhpcy5oZWFkZXJbZmllbGRdKSBjb250aW51ZTtcblx0ICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGZpZWxkLCB0aGlzLmhlYWRlcltmaWVsZF0pO1xuXHQgIH1cblxuXHQgIGlmICh0aGlzLl9yZXNwb25zZVR5cGUpIHtcblx0ICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLl9yZXNwb25zZVR5cGU7XG5cdCAgfVxuXG5cdCAgLy8gc2VuZCBzdHVmZlxuXHQgIHRoaXMuZW1pdCgncmVxdWVzdCcsIHRoaXMpO1xuXG5cdCAgLy8gSUUxMSB4aHIuc2VuZCh1bmRlZmluZWQpIHNlbmRzICd1bmRlZmluZWQnIHN0cmluZyBhcyBQT1NUIHBheWxvYWQgKGluc3RlYWQgb2Ygbm90aGluZylcblx0ICAvLyBXZSBuZWVkIG51bGwgaGVyZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuXHQgIHhoci5zZW5kKHR5cGVvZiBkYXRhICE9PSAndW5kZWZpbmVkJyA/IGRhdGEgOiBudWxsKTtcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBFeHBvc2UgYFJlcXVlc3RgLlxuXHQgKi9cblxuXHRyZXF1ZXN0LlJlcXVlc3QgPSBSZXF1ZXN0O1xuXG5cdC8qKlxuXHQgKiBHRVQgYHVybGAgd2l0aCBvcHRpb25hbCBjYWxsYmFjayBgZm4ocmVzKWAuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcblx0ICogQHBhcmFtIHtNaXhlZHxGdW5jdGlvbn0gW2RhdGFdIG9yIGZuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cblx0ICogQHJldHVybiB7UmVxdWVzdH1cblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cblx0cmVxdWVzdC5nZXQgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcblx0ICB2YXIgcmVxID0gcmVxdWVzdCgnR0VUJywgdXJsKTtcblx0ICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcblx0ICBpZiAoZGF0YSkgcmVxLnF1ZXJ5KGRhdGEpO1xuXHQgIGlmIChmbikgcmVxLmVuZChmbik7XG5cdCAgcmV0dXJuIHJlcTtcblx0fTtcblxuXHQvKipcblx0ICogSEVBRCBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHVybFxuXHQgKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuXHQgKiBAcmV0dXJuIHtSZXF1ZXN0fVxuXHQgKiBAYXBpIHB1YmxpY1xuXHQgKi9cblxuXHRyZXF1ZXN0LmhlYWQgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcblx0ICB2YXIgcmVxID0gcmVxdWVzdCgnSEVBRCcsIHVybCk7XG5cdCAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG5cdCAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuXHQgIGlmIChmbikgcmVxLmVuZChmbik7XG5cdCAgcmV0dXJuIHJlcTtcblx0fTtcblxuXHQvKipcblx0ICogT1BUSU9OUyBxdWVyeSB0byBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHVybFxuXHQgKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuXHQgKiBAcmV0dXJuIHtSZXF1ZXN0fVxuXHQgKiBAYXBpIHB1YmxpY1xuXHQgKi9cblxuXHRyZXF1ZXN0Lm9wdGlvbnMgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcblx0ICB2YXIgcmVxID0gcmVxdWVzdCgnT1BUSU9OUycsIHVybCk7XG5cdCAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG5cdCAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuXHQgIGlmIChmbikgcmVxLmVuZChmbik7XG5cdCAgcmV0dXJuIHJlcTtcblx0fTtcblxuXHQvKipcblx0ICogREVMRVRFIGB1cmxgIHdpdGggb3B0aW9uYWwgY2FsbGJhY2sgYGZuKHJlcylgLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdXJsXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cblx0ICogQHJldHVybiB7UmVxdWVzdH1cblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cblx0ZnVuY3Rpb24gZGVsKHVybCwgZm4pe1xuXHQgIHZhciByZXEgPSByZXF1ZXN0KCdERUxFVEUnLCB1cmwpO1xuXHQgIGlmIChmbikgcmVxLmVuZChmbik7XG5cdCAgcmV0dXJuIHJlcTtcblx0fTtcblxuXHRyZXF1ZXN0WydkZWwnXSA9IGRlbDtcblx0cmVxdWVzdFsnZGVsZXRlJ10gPSBkZWw7XG5cblx0LyoqXG5cdCAqIFBBVENIIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcblx0ICogQHBhcmFtIHtNaXhlZH0gW2RhdGFdXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cblx0ICogQHJldHVybiB7UmVxdWVzdH1cblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cblx0cmVxdWVzdC5wYXRjaCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgZm4pe1xuXHQgIHZhciByZXEgPSByZXF1ZXN0KCdQQVRDSCcsIHVybCk7XG5cdCAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG5cdCAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuXHQgIGlmIChmbikgcmVxLmVuZChmbik7XG5cdCAgcmV0dXJuIHJlcTtcblx0fTtcblxuXHQvKipcblx0ICogUE9TVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGBkYXRhYCBhbmQgY2FsbGJhY2sgYGZuKHJlcylgLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdXJsXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IFtkYXRhXVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG5cdCAqIEByZXR1cm4ge1JlcXVlc3R9XG5cdCAqIEBhcGkgcHVibGljXG5cdCAqL1xuXG5cdHJlcXVlc3QucG9zdCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgZm4pe1xuXHQgIHZhciByZXEgPSByZXF1ZXN0KCdQT1NUJywgdXJsKTtcblx0ICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcblx0ICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG5cdCAgaWYgKGZuKSByZXEuZW5kKGZuKTtcblx0ICByZXR1cm4gcmVxO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBQVVQgYHVybGAgd2l0aCBvcHRpb25hbCBgZGF0YWAgYW5kIGNhbGxiYWNrIGBmbihyZXMpYC5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHVybFxuXHQgKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuXHQgKiBAcmV0dXJuIHtSZXF1ZXN0fVxuXHQgKiBAYXBpIHB1YmxpY1xuXHQgKi9cblxuXHRyZXF1ZXN0LnB1dCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgZm4pe1xuXHQgIHZhciByZXEgPSByZXF1ZXN0KCdQVVQnLCB1cmwpO1xuXHQgIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBkYXRhKSBmbiA9IGRhdGEsIGRhdGEgPSBudWxsO1xuXHQgIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcblx0ICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuXHQgIHJldHVybiByZXE7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcclxuXHQvKipcclxuXHQgKiBFeHBvc2UgYEVtaXR0ZXJgLlxyXG5cdCAqL1xyXG5cclxuXHRpZiAodHJ1ZSkge1xyXG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBFbWl0dGVyO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSW5pdGlhbGl6ZSBhIG5ldyBgRW1pdHRlcmAuXHJcblx0ICpcclxuXHQgKiBAYXBpIHB1YmxpY1xyXG5cdCAqL1xyXG5cclxuXHRmdW5jdGlvbiBFbWl0dGVyKG9iaikge1xyXG5cdCAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogTWl4aW4gdGhlIGVtaXR0ZXIgcHJvcGVydGllcy5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9XHJcblx0ICogQGFwaSBwcml2YXRlXHJcblx0ICovXHJcblxyXG5cdGZ1bmN0aW9uIG1peGluKG9iaikge1xyXG5cdCAgZm9yICh2YXIga2V5IGluIEVtaXR0ZXIucHJvdG90eXBlKSB7XHJcblx0ICAgIG9ialtrZXldID0gRW1pdHRlci5wcm90b3R5cGVba2V5XTtcclxuXHQgIH1cclxuXHQgIHJldHVybiBvYmo7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMaXN0ZW4gb24gdGhlIGdpdmVuIGBldmVudGAgd2l0aCBgZm5gLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuXHQgKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG5cdCAqIEBhcGkgcHVibGljXHJcblx0ICovXHJcblxyXG5cdEVtaXR0ZXIucHJvdG90eXBlLm9uID1cclxuXHRFbWl0dGVyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuXHQgIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuXHQgICh0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXSlcclxuXHQgICAgLnB1c2goZm4pO1xyXG5cdCAgcmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQWRkcyBhbiBgZXZlbnRgIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBpbnZva2VkIGEgc2luZ2xlXHJcblx0ICogdGltZSB0aGVuIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcblx0ICogQHJldHVybiB7RW1pdHRlcn1cclxuXHQgKiBAYXBpIHB1YmxpY1xyXG5cdCAqL1xyXG5cclxuXHRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuXHQgIGZ1bmN0aW9uIG9uKCkge1xyXG5cdCAgICB0aGlzLm9mZihldmVudCwgb24pO1xyXG5cdCAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdCAgfVxyXG5cclxuXHQgIG9uLmZuID0gZm47XHJcblx0ICB0aGlzLm9uKGV2ZW50LCBvbik7XHJcblx0ICByZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmUgdGhlIGdpdmVuIGNhbGxiYWNrIGZvciBgZXZlbnRgIG9yIGFsbFxyXG5cdCAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuXHQgKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG5cdCAqIEBhcGkgcHVibGljXHJcblx0ICovXHJcblxyXG5cdEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9XHJcblx0RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxyXG5cdEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XHJcblx0RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XHJcblx0ICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcblxyXG5cdCAgLy8gYWxsXHJcblx0ICBpZiAoMCA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XHJcblx0ICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xyXG5cdCAgICByZXR1cm4gdGhpcztcclxuXHQgIH1cclxuXHJcblx0ICAvLyBzcGVjaWZpYyBldmVudFxyXG5cdCAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XHJcblx0ICBpZiAoIWNhbGxiYWNrcykgcmV0dXJuIHRoaXM7XHJcblxyXG5cdCAgLy8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xyXG5cdCAgaWYgKDEgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xyXG5cdCAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuXHQgICAgcmV0dXJuIHRoaXM7XHJcblx0ICB9XHJcblxyXG5cdCAgLy8gcmVtb3ZlIHNwZWNpZmljIGhhbmRsZXJcclxuXHQgIHZhciBjYjtcclxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcblx0ICAgIGNiID0gY2FsbGJhY2tzW2ldO1xyXG5cdCAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xyXG5cdCAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XHJcblx0ICAgICAgYnJlYWs7XHJcblx0ICAgIH1cclxuXHQgIH1cclxuXHQgIHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEVtaXQgYGV2ZW50YCB3aXRoIHRoZSBnaXZlbiBhcmdzLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcblx0ICogQHBhcmFtIHtNaXhlZH0gLi4uXHJcblx0ICogQHJldHVybiB7RW1pdHRlcn1cclxuXHQgKi9cclxuXHJcblx0RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50KXtcclxuXHQgIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuXHQgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpXHJcblx0ICAgICwgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuXHJcblx0ICBpZiAoY2FsbGJhY2tzKSB7XHJcblx0ICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcy5zbGljZSgwKTtcclxuXHQgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xyXG5cdCAgICAgIGNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuXHQgICAgfVxyXG5cdCAgfVxyXG5cclxuXHQgIHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybiBhcnJheSBvZiBjYWxsYmFja3MgZm9yIGBldmVudGAuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuXHQgKiBAcmV0dXJuIHtBcnJheX1cclxuXHQgKiBAYXBpIHB1YmxpY1xyXG5cdCAqL1xyXG5cclxuXHRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XHJcblx0ICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcblx0ICByZXR1cm4gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpZiB0aGlzIGVtaXR0ZXIgaGFzIGBldmVudGAgaGFuZGxlcnMuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxyXG5cdCAqIEBhcGkgcHVibGljXHJcblx0ICovXHJcblxyXG5cdEVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcclxuXHQgIHJldHVybiAhISB0aGlzLmxpc3RlbmVycyhldmVudCkubGVuZ3RoO1xyXG5cdH07XHJcblxuXG4vKioqLyB9LFxuLyogMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBNb2R1bGUgb2YgbWl4ZWQtaW4gZnVuY3Rpb25zIHNoYXJlZCBiZXR3ZWVuIG5vZGUgYW5kIGNsaWVudCBjb2RlXG5cdCAqL1xuXHR2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxuXHQvKipcblx0ICogQ2xlYXIgcHJldmlvdXMgdGltZW91dC5cblx0ICpcblx0ICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG5cdCAqIEBhcGkgcHVibGljXG5cdCAqL1xuXG5cdGV4cG9ydHMuY2xlYXJUaW1lb3V0ID0gZnVuY3Rpb24gX2NsZWFyVGltZW91dCgpe1xuXHQgIHRoaXMuX3RpbWVvdXQgPSAwO1xuXHQgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIE92ZXJyaWRlIGRlZmF1bHQgcmVzcG9uc2UgYm9keSBwYXJzZXJcblx0ICpcblx0ICogVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB0byBjb252ZXJ0IGluY29taW5nIGRhdGEgaW50byByZXF1ZXN0LmJvZHlcblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn1cblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cblx0ZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlKGZuKXtcblx0ICB0aGlzLl9wYXJzZXIgPSBmbjtcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogT3ZlcnJpZGUgZGVmYXVsdCByZXF1ZXN0IGJvZHkgc2VyaWFsaXplclxuXHQgKlxuXHQgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHRvIGNvbnZlcnQgZGF0YSBzZXQgdmlhIC5zZW5kIG9yIC5hdHRhY2ggaW50byBwYXlsb2FkIHRvIHNlbmRcblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn1cblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cblx0ZXhwb3J0cy5zZXJpYWxpemUgPSBmdW5jdGlvbiBzZXJpYWxpemUoZm4pe1xuXHQgIHRoaXMuX3NlcmlhbGl6ZXIgPSBmbjtcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogU2V0IHRpbWVvdXQgdG8gYG1zYC5cblx0ICpcblx0ICogQHBhcmFtIHtOdW1iZXJ9IG1zXG5cdCAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuXHQgKiBAYXBpIHB1YmxpY1xuXHQgKi9cblxuXHRleHBvcnRzLnRpbWVvdXQgPSBmdW5jdGlvbiB0aW1lb3V0KG1zKXtcblx0ICB0aGlzLl90aW1lb3V0ID0gbXM7XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFByb21pc2Ugc3VwcG9ydFxuXHQgKlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdFxuXHQgKiBAcmV0dXJuIHtSZXF1ZXN0fVxuXHQgKi9cblxuXHRleHBvcnRzLnRoZW4gPSBmdW5jdGlvbiB0aGVuKHJlc29sdmUsIHJlamVjdCkge1xuXHQgIGlmICghdGhpcy5fZnVsbGZpbGxlZFByb21pc2UpIHtcblx0ICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgIHRoaXMuX2Z1bGxmaWxsZWRQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24oaW5uZXJSZXNvbHZlLCBpbm5lclJlamVjdCl7XG5cdCAgICAgIHNlbGYuZW5kKGZ1bmN0aW9uKGVyciwgcmVzKXtcblx0ICAgICAgICBpZiAoZXJyKSBpbm5lclJlamVjdChlcnIpOyBlbHNlIGlubmVyUmVzb2x2ZShyZXMpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH1cblx0ICByZXR1cm4gdGhpcy5fZnVsbGZpbGxlZFByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuXHR9XG5cblx0ZXhwb3J0cy5jYXRjaCA9IGZ1bmN0aW9uKGNiKSB7XG5cdCAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIGNiKTtcblx0fTtcblxuXHQvKipcblx0ICogQWxsb3cgZm9yIGV4dGVuc2lvblxuXHQgKi9cblxuXHRleHBvcnRzLnVzZSA9IGZ1bmN0aW9uIHVzZShmbikge1xuXHQgIGZuKHRoaXMpO1xuXHQgIHJldHVybiB0aGlzO1xuXHR9XG5cblxuXHQvKipcblx0ICogR2V0IHJlcXVlc3QgaGVhZGVyIGBmaWVsZGAuXG5cdCAqIENhc2UtaW5zZW5zaXRpdmUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAqIEBhcGkgcHVibGljXG5cdCAqL1xuXG5cdGV4cG9ydHMuZ2V0ID0gZnVuY3Rpb24oZmllbGQpe1xuXHQgIHJldHVybiB0aGlzLl9oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV07XG5cdH07XG5cblx0LyoqXG5cdCAqIEdldCBjYXNlLWluc2Vuc2l0aXZlIGhlYWRlciBgZmllbGRgIHZhbHVlLlxuXHQgKiBUaGlzIGlzIGEgZGVwcmVjYXRlZCBpbnRlcm5hbCBBUEkuIFVzZSBgLmdldChmaWVsZClgIGluc3RlYWQuXG5cdCAqXG5cdCAqIChnZXRIZWFkZXIgaXMgbm8gbG9uZ2VyIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgc3VwZXJhZ2VudCBjb2RlIGJhc2UpXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAqIEBhcGkgcHJpdmF0ZVxuXHQgKiBAZGVwcmVjYXRlZFxuXHQgKi9cblxuXHRleHBvcnRzLmdldEhlYWRlciA9IGV4cG9ydHMuZ2V0O1xuXG5cdC8qKlxuXHQgKiBTZXQgaGVhZGVyIGBmaWVsZGAgdG8gYHZhbGAsIG9yIG11bHRpcGxlIGZpZWxkcyB3aXRoIG9uZSBvYmplY3QuXG5cdCAqIENhc2UtaW5zZW5zaXRpdmUuXG5cdCAqXG5cdCAqIEV4YW1wbGVzOlxuXHQgKlxuXHQgKiAgICAgIHJlcS5nZXQoJy8nKVxuXHQgKiAgICAgICAgLnNldCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKVxuXHQgKiAgICAgICAgLnNldCgnWC1BUEktS2V5JywgJ2Zvb2JhcicpXG5cdCAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcblx0ICpcblx0ICogICAgICByZXEuZ2V0KCcvJylcblx0ICogICAgICAgIC5zZXQoeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJywgJ1gtQVBJLUtleSc6ICdmb29iYXInIH0pXG5cdCAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBmaWVsZFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdmFsXG5cdCAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuXHQgKiBAYXBpIHB1YmxpY1xuXHQgKi9cblxuXHRleHBvcnRzLnNldCA9IGZ1bmN0aW9uKGZpZWxkLCB2YWwpe1xuXHQgIGlmIChpc09iamVjdChmaWVsZCkpIHtcblx0ICAgIGZvciAodmFyIGtleSBpbiBmaWVsZCkge1xuXHQgICAgICB0aGlzLnNldChrZXksIGZpZWxkW2tleV0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfVxuXHQgIHRoaXMuX2hlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXSA9IHZhbDtcblx0ICB0aGlzLmhlYWRlcltmaWVsZF0gPSB2YWw7XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlbW92ZSBoZWFkZXIgYGZpZWxkYC5cblx0ICogQ2FzZS1pbnNlbnNpdGl2ZS5cblx0ICpcblx0ICogRXhhbXBsZTpcblx0ICpcblx0ICogICAgICByZXEuZ2V0KCcvJylcblx0ICogICAgICAgIC51bnNldCgnVXNlci1BZ2VudCcpXG5cdCAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG5cdCAqL1xuXHRleHBvcnRzLnVuc2V0ID0gZnVuY3Rpb24oZmllbGQpe1xuXHQgIGRlbGV0ZSB0aGlzLl9oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV07XG5cdCAgZGVsZXRlIHRoaXMuaGVhZGVyW2ZpZWxkXTtcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogV3JpdGUgdGhlIGZpZWxkIGBuYW1lYCBhbmQgYHZhbGAsIG9yIG11bHRpcGxlIGZpZWxkcyB3aXRoIG9uZSBvYmplY3Rcblx0ICogZm9yIFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiIHJlcXVlc3QgYm9kaWVzLlxuXHQgKlxuXHQgKiBgYGAganNcblx0ICogcmVxdWVzdC5wb3N0KCcvdXBsb2FkJylcblx0ICogICAuZmllbGQoJ2ZvbycsICdiYXInKVxuXHQgKiAgIC5lbmQoY2FsbGJhY2spO1xuXHQgKlxuXHQgKiByZXF1ZXN0LnBvc3QoJy91cGxvYWQnKVxuXHQgKiAgIC5maWVsZCh7IGZvbzogJ2JhcicsIGJhejogJ3F1eCcgfSlcblx0ICogICAuZW5kKGNhbGxiYWNrKTtcblx0ICogYGBgXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gbmFtZVxuXHQgKiBAcGFyYW0ge1N0cmluZ3xCbG9ifEZpbGV8QnVmZmVyfGZzLlJlYWRTdHJlYW19IHZhbFxuXHQgKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cdGV4cG9ydHMuZmllbGQgPSBmdW5jdGlvbihuYW1lLCB2YWwpIHtcblxuXHQgIC8vIG5hbWUgc2hvdWxkIGJlIGVpdGhlciBhIHN0cmluZyBvciBhbiBvYmplY3QuXG5cdCAgaWYgKG51bGwgPT09IG5hbWUgfHwgIHVuZGVmaW5lZCA9PT0gbmFtZSkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCcuZmllbGQobmFtZSwgdmFsKSBuYW1lIGNhbiBub3QgYmUgZW1wdHknKTtcblx0ICB9XG5cblx0ICBpZiAoaXNPYmplY3QobmFtZSkpIHtcblx0ICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7XG5cdCAgICAgIHRoaXMuZmllbGQoa2V5LCBuYW1lW2tleV0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfVxuXG5cdCAgLy8gdmFsIHNob3VsZCBiZSBkZWZpbmVkIG5vd1xuXHQgIGlmIChudWxsID09PSB2YWwgfHwgdW5kZWZpbmVkID09PSB2YWwpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignLmZpZWxkKG5hbWUsIHZhbCkgdmFsIGNhbiBub3QgYmUgZW1wdHknKTtcblx0ICB9XG5cdCAgdGhpcy5fZ2V0Rm9ybURhdGEoKS5hcHBlbmQobmFtZSwgdmFsKTtcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQWJvcnQgdGhlIHJlcXVlc3QsIGFuZCBjbGVhciBwb3RlbnRpYWwgdGltZW91dC5cblx0ICpcblx0ICogQHJldHVybiB7UmVxdWVzdH1cblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cdGV4cG9ydHMuYWJvcnQgPSBmdW5jdGlvbigpe1xuXHQgIGlmICh0aGlzLl9hYm9ydGVkKSB7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9XG5cdCAgdGhpcy5fYWJvcnRlZCA9IHRydWU7XG5cdCAgdGhpcy54aHIgJiYgdGhpcy54aHIuYWJvcnQoKTsgLy8gYnJvd3NlclxuXHQgIHRoaXMucmVxICYmIHRoaXMucmVxLmFib3J0KCk7IC8vIG5vZGVcblx0ICB0aGlzLmNsZWFyVGltZW91dCgpO1xuXHQgIHRoaXMuZW1pdCgnYWJvcnQnKTtcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogRW5hYmxlIHRyYW5zbWlzc2lvbiBvZiBjb29raWVzIHdpdGggeC1kb21haW4gcmVxdWVzdHMuXG5cdCAqXG5cdCAqIE5vdGUgdGhhdCBmb3IgdGhpcyB0byB3b3JrIHRoZSBvcmlnaW4gbXVzdCBub3QgYmVcblx0ICogdXNpbmcgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiB3aXRoIGEgd2lsZGNhcmQsXG5cdCAqIGFuZCBhbHNvIG11c3Qgc2V0IFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHNcIlxuXHQgKiB0byBcInRydWVcIi5cblx0ICpcblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cblx0ZXhwb3J0cy53aXRoQ3JlZGVudGlhbHMgPSBmdW5jdGlvbigpe1xuXHQgIC8vIFRoaXMgaXMgYnJvd3Nlci1vbmx5IGZ1bmN0aW9uYWxpdHkuIE5vZGUgc2lkZSBpcyBuby1vcC5cblx0ICB0aGlzLl93aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTZXQgdGhlIG1heCByZWRpcmVjdHMgdG8gYG5gLiBEb2VzIG5vdGluZyBpbiBicm93c2VyIFhIUiBpbXBsZW1lbnRhdGlvbi5cblx0ICpcblx0ICogQHBhcmFtIHtOdW1iZXJ9IG5cblx0ICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG5cdCAqIEBhcGkgcHVibGljXG5cdCAqL1xuXG5cdGV4cG9ydHMucmVkaXJlY3RzID0gZnVuY3Rpb24obil7XG5cdCAgdGhpcy5fbWF4UmVkaXJlY3RzID0gbjtcblx0ICByZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQ29udmVydCB0byBhIHBsYWluIGphdmFzY3JpcHQgb2JqZWN0IChub3QgSlNPTiBzdHJpbmcpIG9mIHNjYWxhciBwcm9wZXJ0aWVzLlxuXHQgKiBOb3RlIGFzIHRoaXMgbWV0aG9kIGlzIGRlc2lnbmVkIHRvIHJldHVybiBhIHVzZWZ1bCBub24tdGhpcyB2YWx1ZSxcblx0ICogaXQgY2Fubm90IGJlIGNoYWluZWQuXG5cdCAqXG5cdCAqIEByZXR1cm4ge09iamVjdH0gZGVzY3JpYmluZyBtZXRob2QsIHVybCwgYW5kIGRhdGEgb2YgdGhpcyByZXF1ZXN0XG5cdCAqIEBhcGkgcHVibGljXG5cdCAqL1xuXG5cdGV4cG9ydHMudG9KU09OID0gZnVuY3Rpb24oKXtcblx0ICByZXR1cm4ge1xuXHQgICAgbWV0aG9kOiB0aGlzLm1ldGhvZCxcblx0ICAgIHVybDogdGhpcy51cmwsXG5cdCAgICBkYXRhOiB0aGlzLl9kYXRhLFxuXHQgICAgaGVhZGVyczogdGhpcy5faGVhZGVyXG5cdCAgfTtcblx0fTtcblxuXHQvKipcblx0ICogQ2hlY2sgaWYgYG9iamAgaXMgYSBob3N0IG9iamVjdCxcblx0ICogd2UgZG9uJ3Qgd2FudCB0byBzZXJpYWxpemUgdGhlc2UgOilcblx0ICpcblx0ICogVE9ETzogZnV0dXJlIHByb29mLCBtb3ZlIHRvIGNvbXBvZW50IGxhbmRcblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IG9ialxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKiBAYXBpIHByaXZhdGVcblx0ICovXG5cblx0ZXhwb3J0cy5faXNIb3N0ID0gZnVuY3Rpb24gX2lzSG9zdChvYmopIHtcblx0ICB2YXIgc3RyID0ge30udG9TdHJpbmcuY2FsbChvYmopO1xuXG5cdCAgc3dpdGNoIChzdHIpIHtcblx0ICAgIGNhc2UgJ1tvYmplY3QgRmlsZV0nOlxuXHQgICAgY2FzZSAnW29iamVjdCBCbG9iXSc6XG5cdCAgICBjYXNlICdbb2JqZWN0IEZvcm1EYXRhXSc6XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgZGVmYXVsdDpcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTZW5kIGBkYXRhYCBhcyB0aGUgcmVxdWVzdCBib2R5LCBkZWZhdWx0aW5nIHRoZSBgLnR5cGUoKWAgdG8gXCJqc29uXCIgd2hlblxuXHQgKiBhbiBvYmplY3QgaXMgZ2l2ZW4uXG5cdCAqXG5cdCAqIEV4YW1wbGVzOlxuXHQgKlxuXHQgKiAgICAgICAvLyBtYW51YWwganNvblxuXHQgKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcblx0ICogICAgICAgICAudHlwZSgnanNvbicpXG5cdCAqICAgICAgICAgLnNlbmQoJ3tcIm5hbWVcIjpcInRqXCJ9Jylcblx0ICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuXHQgKlxuXHQgKiAgICAgICAvLyBhdXRvIGpzb25cblx0ICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG5cdCAqICAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0pXG5cdCAqICAgICAgICAgLmVuZChjYWxsYmFjaylcblx0ICpcblx0ICogICAgICAgLy8gbWFudWFsIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuXHQgKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcblx0ICogICAgICAgICAudHlwZSgnZm9ybScpXG5cdCAqICAgICAgICAgLnNlbmQoJ25hbWU9dGonKVxuXHQgKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG5cdCAqXG5cdCAqICAgICAgIC8vIGF1dG8geC13d3ctZm9ybS11cmxlbmNvZGVkXG5cdCAqICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuXHQgKiAgICAgICAgIC50eXBlKCdmb3JtJylcblx0ICogICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSlcblx0ICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuXHQgKlxuXHQgKiAgICAgICAvLyBkZWZhdWx0cyB0byB4LXd3dy1mb3JtLXVybGVuY29kZWRcblx0ICogICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcblx0ICogICAgICAgIC5zZW5kKCduYW1lPXRvYmknKVxuXHQgKiAgICAgICAgLnNlbmQoJ3NwZWNpZXM9ZmVycmV0Jylcblx0ICogICAgICAgIC5lbmQoY2FsbGJhY2spXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gZGF0YVxuXHQgKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cblx0ZXhwb3J0cy5zZW5kID0gZnVuY3Rpb24oZGF0YSl7XG5cdCAgdmFyIG9iaiA9IGlzT2JqZWN0KGRhdGEpO1xuXHQgIHZhciB0eXBlID0gdGhpcy5faGVhZGVyWydjb250ZW50LXR5cGUnXTtcblxuXHQgIC8vIG1lcmdlXG5cdCAgaWYgKG9iaiAmJiBpc09iamVjdCh0aGlzLl9kYXRhKSkge1xuXHQgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHtcblx0ICAgICAgdGhpcy5fZGF0YVtrZXldID0gZGF0YVtrZXldO1xuXHQgICAgfVxuXHQgIH0gZWxzZSBpZiAoJ3N0cmluZycgPT0gdHlwZW9mIGRhdGEpIHtcblx0ICAgIC8vIGRlZmF1bHQgdG8geC13d3ctZm9ybS11cmxlbmNvZGVkXG5cdCAgICBpZiAoIXR5cGUpIHRoaXMudHlwZSgnZm9ybScpO1xuXHQgICAgdHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG5cdCAgICBpZiAoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgPT0gdHlwZSkge1xuXHQgICAgICB0aGlzLl9kYXRhID0gdGhpcy5fZGF0YVxuXHQgICAgICAgID8gdGhpcy5fZGF0YSArICcmJyArIGRhdGFcblx0ICAgICAgICA6IGRhdGE7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLl9kYXRhID0gKHRoaXMuX2RhdGEgfHwgJycpICsgZGF0YTtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG5cdCAgfVxuXG5cdCAgaWYgKCFvYmogfHwgdGhpcy5faXNIb3N0KGRhdGEpKSByZXR1cm4gdGhpcztcblxuXHQgIC8vIGRlZmF1bHQgdG8ganNvblxuXHQgIGlmICghdHlwZSkgdGhpcy50eXBlKCdqc29uJyk7XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ2hlY2sgaWYgYG9iamAgaXMgYW4gb2JqZWN0LlxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCAqIEBhcGkgcHJpdmF0ZVxuXHQgKi9cblxuXHRmdW5jdGlvbiBpc09iamVjdChvYmopIHtcblx0ICByZXR1cm4gbnVsbCAhPT0gb2JqICYmICdvYmplY3QnID09PSB0eXBlb2Ygb2JqO1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdDtcblxuXG4vKioqLyB9LFxuLyogMTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIFRoZSBub2RlIGFuZCBicm93c2VyIG1vZHVsZXMgZXhwb3NlIHZlcnNpb25zIG9mIHRoaXMgd2l0aCB0aGVcblx0Ly8gYXBwcm9wcmlhdGUgY29uc3RydWN0b3IgZnVuY3Rpb24gYm91bmQgYXMgZmlyc3QgYXJndW1lbnRcblx0LyoqXG5cdCAqIElzc3VlIGEgcmVxdWVzdDpcblx0ICpcblx0ICogRXhhbXBsZXM6XG5cdCAqXG5cdCAqICAgIHJlcXVlc3QoJ0dFVCcsICcvdXNlcnMnKS5lbmQoY2FsbGJhY2spXG5cdCAqICAgIHJlcXVlc3QoJy91c2VycycpLmVuZChjYWxsYmFjaylcblx0ICogICAgcmVxdWVzdCgnL3VzZXJzJywgY2FsbGJhY2spXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2Rcblx0ICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHVybCBvciBjYWxsYmFja1xuXHQgKiBAcmV0dXJuIHtSZXF1ZXN0fVxuXHQgKiBAYXBpIHB1YmxpY1xuXHQgKi9cblxuXHRmdW5jdGlvbiByZXF1ZXN0KFJlcXVlc3RDb25zdHJ1Y3RvciwgbWV0aG9kLCB1cmwpIHtcblx0ICAvLyBjYWxsYmFja1xuXHQgIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiB1cmwpIHtcblx0ICAgIHJldHVybiBuZXcgUmVxdWVzdENvbnN0cnVjdG9yKCdHRVQnLCBtZXRob2QpLmVuZCh1cmwpO1xuXHQgIH1cblxuXHQgIC8vIHVybCBmaXJzdFxuXHQgIGlmICgyID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcblx0ICAgIHJldHVybiBuZXcgUmVxdWVzdENvbnN0cnVjdG9yKCdHRVQnLCBtZXRob2QpO1xuXHQgIH1cblxuXHQgIHJldHVybiBuZXcgUmVxdWVzdENvbnN0cnVjdG9yKG1ldGhvZCwgdXJsKTtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0gcmVxdWVzdDtcblxuXG4vKioqLyB9LFxuLyogMTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIFBOTmV0d29ya1VwQ2F0ZWdvcnk6ICdQTk5ldHdvcmtVcENhdGVnb3J5JyxcblxuXHQgIFBOTmV0d29ya0Rvd25DYXRlZ29yeTogJ1BOTmV0d29ya0Rvd25DYXRlZ29yeScsXG5cblx0ICBQTk5ldHdvcmtJc3N1ZXNDYXRlZ29yeTogJ1BOTmV0d29ya0lzc3Vlc0NhdGVnb3J5JyxcblxuXHQgIFBOVGltZW91dENhdGVnb3J5OiAnUE5UaW1lb3V0Q2F0ZWdvcnknLFxuXG5cdCAgUE5CYWRSZXF1ZXN0Q2F0ZWdvcnk6ICdQTkJhZFJlcXVlc3RDYXRlZ29yeScsXG5cblx0ICBQTkFjY2Vzc0RlbmllZENhdGVnb3J5OiAnUE5BY2Nlc3NEZW5pZWRDYXRlZ29yeScsXG5cblx0ICBQTlVua25vd25DYXRlZ29yeTogJ1BOVW5rbm93bkNhdGVnb3J5JyxcblxuXHQgIFBOUmVjb25uZWN0ZWRDYXRlZ29yeTogJ1BOUmVjb25uZWN0ZWRDYXRlZ29yeScsXG5cblx0ICBQTkNvbm5lY3RlZENhdGVnb3J5OiAnUE5Db25uZWN0ZWRDYXRlZ29yeScsXG5cblx0ICBQTlJlcXVlc3RNZXNzYWdlQ291bnRFeGNlZWRlZENhdGVnb3J5OiAnUE5SZXF1ZXN0TWVzc2FnZUNvdW50RXhjZWVkZWRDYXRlZ29yeSdcblxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDE4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuXHR2YXIgX2NyeXB0b2dyYXBoeSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cblx0dmFyIF9jcnlwdG9ncmFwaHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3J5cHRvZ3JhcGh5KTtcblxuXHR2YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cblx0dmFyIF9jb25maWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlnKTtcblxuXHR2YXIgX2xpc3RlbmVyX21hbmFnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblxuXHR2YXIgX2xpc3RlbmVyX21hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGlzdGVuZXJfbWFuYWdlcik7XG5cblx0dmFyIF9yZWNvbm5lY3Rpb25fbWFuYWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXG5cdHZhciBfcmVjb25uZWN0aW9uX21hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVjb25uZWN0aW9uX21hbmFnZXIpO1xuXG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxuXHR2YXIgX3V0aWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxzKTtcblxuXHR2YXIgX2Zsb3dfaW50ZXJmYWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cblx0dmFyIF9jYXRlZ29yaWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cblx0dmFyIF9jYXRlZ29yaWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhdGVnb3JpZXMpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXHR2YXIgX2NsYXNzID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIF9jbGFzcyhfcmVmKSB7XG5cdCAgICB2YXIgc3Vic2NyaWJlRW5kcG9pbnQgPSBfcmVmLnN1YnNjcmliZUVuZHBvaW50LFxuXHQgICAgICAgIGxlYXZlRW5kcG9pbnQgPSBfcmVmLmxlYXZlRW5kcG9pbnQsXG5cdCAgICAgICAgaGVhcnRiZWF0RW5kcG9pbnQgPSBfcmVmLmhlYXJ0YmVhdEVuZHBvaW50LFxuXHQgICAgICAgIHNldFN0YXRlRW5kcG9pbnQgPSBfcmVmLnNldFN0YXRlRW5kcG9pbnQsXG5cdCAgICAgICAgdGltZUVuZHBvaW50ID0gX3JlZi50aW1lRW5kcG9pbnQsXG5cdCAgICAgICAgY29uZmlnID0gX3JlZi5jb25maWcsXG5cdCAgICAgICAgY3J5cHRvID0gX3JlZi5jcnlwdG8sXG5cdCAgICAgICAgbGlzdGVuZXJNYW5hZ2VyID0gX3JlZi5saXN0ZW5lck1hbmFnZXI7XG5cblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBfY2xhc3MpO1xuXG5cdCAgICB0aGlzLl9saXN0ZW5lck1hbmFnZXIgPSBsaXN0ZW5lck1hbmFnZXI7XG5cdCAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG5cblx0ICAgIHRoaXMuX2xlYXZlRW5kcG9pbnQgPSBsZWF2ZUVuZHBvaW50O1xuXHQgICAgdGhpcy5faGVhcnRiZWF0RW5kcG9pbnQgPSBoZWFydGJlYXRFbmRwb2ludDtcblx0ICAgIHRoaXMuX3NldFN0YXRlRW5kcG9pbnQgPSBzZXRTdGF0ZUVuZHBvaW50O1xuXHQgICAgdGhpcy5fc3Vic2NyaWJlRW5kcG9pbnQgPSBzdWJzY3JpYmVFbmRwb2ludDtcblxuXHQgICAgdGhpcy5fY3J5cHRvID0gY3J5cHRvO1xuXG5cdCAgICB0aGlzLl9jaGFubmVscyA9IHt9O1xuXHQgICAgdGhpcy5fcHJlc2VuY2VDaGFubmVscyA9IHt9O1xuXG5cdCAgICB0aGlzLl9jaGFubmVsR3JvdXBzID0ge307XG5cdCAgICB0aGlzLl9wcmVzZW5jZUNoYW5uZWxHcm91cHMgPSB7fTtcblxuXHQgICAgdGhpcy5fcGVuZGluZ0NoYW5uZWxTdWJzY3JpcHRpb25zID0gW107XG5cdCAgICB0aGlzLl9wZW5kaW5nQ2hhbm5lbEdyb3VwU3Vic2NyaXB0aW9ucyA9IFtdO1xuXG5cdCAgICB0aGlzLl90aW1ldG9rZW4gPSAwO1xuXHQgICAgdGhpcy5fc3Vic2NyaXB0aW9uU3RhdHVzQW5ub3VuY2VkID0gZmFsc2U7XG5cblx0ICAgIHRoaXMuX3JlY29ubmVjdGlvbk1hbmFnZXIgPSBuZXcgX3JlY29ubmVjdGlvbl9tYW5hZ2VyMi5kZWZhdWx0KHsgdGltZUVuZHBvaW50OiB0aW1lRW5kcG9pbnQgfSk7XG5cdCAgfVxuXG5cdCAgX2NyZWF0ZUNsYXNzKF9jbGFzcywgW3tcblx0ICAgIGtleTogJ2FkYXB0U3RhdGVDaGFuZ2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFkYXB0U3RhdGVDaGFuZ2UoYXJncywgY2FsbGJhY2spIHtcblx0ICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgICAgICB2YXIgc3RhdGUgPSBhcmdzLnN0YXRlLFxuXHQgICAgICAgICAgX2FyZ3MkY2hhbm5lbHMgPSBhcmdzLmNoYW5uZWxzLFxuXHQgICAgICAgICAgY2hhbm5lbHMgPSBfYXJncyRjaGFubmVscyA9PT0gdW5kZWZpbmVkID8gW10gOiBfYXJncyRjaGFubmVscyxcblx0ICAgICAgICAgIF9hcmdzJGNoYW5uZWxHcm91cHMgPSBhcmdzLmNoYW5uZWxHcm91cHMsXG5cdCAgICAgICAgICBjaGFubmVsR3JvdXBzID0gX2FyZ3MkY2hhbm5lbEdyb3VwcyA9PT0gdW5kZWZpbmVkID8gW10gOiBfYXJncyRjaGFubmVsR3JvdXBzO1xuXG5cblx0ICAgICAgY2hhbm5lbHMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbm5lbCkge1xuXHQgICAgICAgIGlmIChjaGFubmVsIGluIF90aGlzLl9jaGFubmVscykgX3RoaXMuX2NoYW5uZWxzW2NoYW5uZWxdLnN0YXRlID0gc3RhdGU7XG5cdCAgICAgIH0pO1xuXG5cdCAgICAgIGNoYW5uZWxHcm91cHMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbm5lbEdyb3VwKSB7XG5cdCAgICAgICAgaWYgKGNoYW5uZWxHcm91cCBpbiBfdGhpcy5fY2hhbm5lbEdyb3VwcykgX3RoaXMuX2NoYW5uZWxHcm91cHNbY2hhbm5lbEdyb3VwXS5zdGF0ZSA9IHN0YXRlO1xuXHQgICAgICB9KTtcblxuXHQgICAgICByZXR1cm4gdGhpcy5fc2V0U3RhdGVFbmRwb2ludCh7IHN0YXRlOiBzdGF0ZSwgY2hhbm5lbHM6IGNoYW5uZWxzLCBjaGFubmVsR3JvdXBzOiBjaGFubmVsR3JvdXBzIH0sIGNhbGxiYWNrKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdhZGFwdFN1YnNjcmliZUNoYW5nZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYWRhcHRTdWJzY3JpYmVDaGFuZ2UoYXJncykge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuXHQgICAgICB2YXIgdGltZXRva2VuID0gYXJncy50aW1ldG9rZW4sXG5cdCAgICAgICAgICBfYXJncyRjaGFubmVsczIgPSBhcmdzLmNoYW5uZWxzLFxuXHQgICAgICAgICAgY2hhbm5lbHMgPSBfYXJncyRjaGFubmVsczIgPT09IHVuZGVmaW5lZCA/IFtdIDogX2FyZ3MkY2hhbm5lbHMyLFxuXHQgICAgICAgICAgX2FyZ3MkY2hhbm5lbEdyb3VwczIgPSBhcmdzLmNoYW5uZWxHcm91cHMsXG5cdCAgICAgICAgICBjaGFubmVsR3JvdXBzID0gX2FyZ3MkY2hhbm5lbEdyb3VwczIgPT09IHVuZGVmaW5lZCA/IFtdIDogX2FyZ3MkY2hhbm5lbEdyb3VwczIsXG5cdCAgICAgICAgICBfYXJncyR3aXRoUHJlc2VuY2UgPSBhcmdzLndpdGhQcmVzZW5jZSxcblx0ICAgICAgICAgIHdpdGhQcmVzZW5jZSA9IF9hcmdzJHdpdGhQcmVzZW5jZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfYXJncyR3aXRoUHJlc2VuY2U7XG5cblxuXHQgICAgICBpZiAoIXRoaXMuX2NvbmZpZy5zdWJzY3JpYmVLZXkgfHwgdGhpcy5fY29uZmlnLnN1YnNjcmliZUtleSA9PT0gJycpIHtcblx0ICAgICAgICBpZiAoY29uc29sZSAmJiBjb25zb2xlLmxvZykgY29uc29sZS5sb2coJ3N1YnNjcmliZSBrZXkgbWlzc2luZzsgYWJvcnRpbmcgc3Vic2NyaWJlJyk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cblx0ICAgICAgaWYgKHRpbWV0b2tlbikgdGhpcy5fdGltZXRva2VuID0gdGltZXRva2VuO1xuXG5cdCAgICAgIGNoYW5uZWxzLmZvckVhY2goZnVuY3Rpb24gKGNoYW5uZWwpIHtcblx0ICAgICAgICBfdGhpczIuX2NoYW5uZWxzW2NoYW5uZWxdID0geyBzdGF0ZToge30gfTtcblx0ICAgICAgICBpZiAod2l0aFByZXNlbmNlKSBfdGhpczIuX3ByZXNlbmNlQ2hhbm5lbHNbY2hhbm5lbF0gPSB7fTtcblxuXHQgICAgICAgIF90aGlzMi5fcGVuZGluZ0NoYW5uZWxTdWJzY3JpcHRpb25zLnB1c2goY2hhbm5lbCk7XG5cdCAgICAgIH0pO1xuXG5cdCAgICAgIGNoYW5uZWxHcm91cHMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbm5lbEdyb3VwKSB7XG5cdCAgICAgICAgX3RoaXMyLl9jaGFubmVsR3JvdXBzW2NoYW5uZWxHcm91cF0gPSB7IHN0YXRlOiB7fSB9O1xuXHQgICAgICAgIGlmICh3aXRoUHJlc2VuY2UpIF90aGlzMi5fcHJlc2VuY2VDaGFubmVsR3JvdXBzW2NoYW5uZWxHcm91cF0gPSB7fTtcblxuXHQgICAgICAgIF90aGlzMi5fcGVuZGluZ0NoYW5uZWxHcm91cFN1YnNjcmlwdGlvbnMucHVzaChjaGFubmVsR3JvdXApO1xuXHQgICAgICB9KTtcblxuXHQgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TdGF0dXNBbm5vdW5jZWQgPSBmYWxzZTtcblx0ICAgICAgdGhpcy5yZWNvbm5lY3QoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdhZGFwdFVuc3Vic2NyaWJlQ2hhbmdlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhZGFwdFVuc3Vic2NyaWJlQ2hhbmdlKGFyZ3MpIHtcblx0ICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cblx0ICAgICAgdmFyIF9hcmdzJGNoYW5uZWxzMyA9IGFyZ3MuY2hhbm5lbHMsXG5cdCAgICAgICAgICBjaGFubmVscyA9IF9hcmdzJGNoYW5uZWxzMyA9PT0gdW5kZWZpbmVkID8gW10gOiBfYXJncyRjaGFubmVsczMsXG5cdCAgICAgICAgICBfYXJncyRjaGFubmVsR3JvdXBzMyA9IGFyZ3MuY2hhbm5lbEdyb3Vwcyxcblx0ICAgICAgICAgIGNoYW5uZWxHcm91cHMgPSBfYXJncyRjaGFubmVsR3JvdXBzMyA9PT0gdW5kZWZpbmVkID8gW10gOiBfYXJncyRjaGFubmVsR3JvdXBzMztcblxuXG5cdCAgICAgIGNoYW5uZWxzLmZvckVhY2goZnVuY3Rpb24gKGNoYW5uZWwpIHtcblx0ICAgICAgICBpZiAoY2hhbm5lbCBpbiBfdGhpczMuX2NoYW5uZWxzKSBkZWxldGUgX3RoaXMzLl9jaGFubmVsc1tjaGFubmVsXTtcblx0ICAgICAgICBpZiAoY2hhbm5lbCBpbiBfdGhpczMuX3ByZXNlbmNlQ2hhbm5lbHMpIGRlbGV0ZSBfdGhpczMuX3ByZXNlbmNlQ2hhbm5lbHNbY2hhbm5lbF07XG5cdCAgICAgIH0pO1xuXG5cdCAgICAgIGNoYW5uZWxHcm91cHMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbm5lbEdyb3VwKSB7XG5cdCAgICAgICAgaWYgKGNoYW5uZWxHcm91cCBpbiBfdGhpczMuX2NoYW5uZWxHcm91cHMpIGRlbGV0ZSBfdGhpczMuX2NoYW5uZWxHcm91cHNbY2hhbm5lbEdyb3VwXTtcblx0ICAgICAgICBpZiAoY2hhbm5lbEdyb3VwIGluIF90aGlzMy5fcHJlc2VuY2VDaGFubmVsR3JvdXBzKSBkZWxldGUgX3RoaXMzLl9jaGFubmVsR3JvdXBzW2NoYW5uZWxHcm91cF07XG5cdCAgICAgIH0pO1xuXG5cdCAgICAgIGlmICh0aGlzLl9jb25maWcuc3VwcHJlc3NMZWF2ZUV2ZW50cyA9PT0gZmFsc2UpIHtcblx0ICAgICAgICB0aGlzLl9sZWF2ZUVuZHBvaW50KHsgY2hhbm5lbHM6IGNoYW5uZWxzLCBjaGFubmVsR3JvdXBzOiBjaGFubmVsR3JvdXBzIH0sIGZ1bmN0aW9uIChzdGF0dXMpIHtcblx0ICAgICAgICAgIHN0YXR1cy5hZmZlY3RlZENoYW5uZWxzID0gY2hhbm5lbHM7XG5cdCAgICAgICAgICBzdGF0dXMuYWZmZWN0ZWRDaGFubmVsR3JvdXBzID0gY2hhbm5lbEdyb3Vwcztcblx0ICAgICAgICAgIF90aGlzMy5fbGlzdGVuZXJNYW5hZ2VyLmFubm91bmNlU3RhdHVzKHN0YXR1cyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblxuXHQgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5fY2hhbm5lbHMpLmxlbmd0aCA9PT0gMCAmJiBPYmplY3Qua2V5cyh0aGlzLl9wcmVzZW5jZUNoYW5uZWxzKS5sZW5ndGggPT09IDAgJiYgT2JqZWN0LmtleXModGhpcy5fY2hhbm5lbEdyb3VwcykubGVuZ3RoID09PSAwICYmIE9iamVjdC5rZXlzKHRoaXMuX3ByZXNlbmNlQ2hhbm5lbEdyb3VwcykubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgdGhpcy5fdGltZXRva2VuID0gMDtcblx0ICAgICAgICB0aGlzLl9yZWdpb24gPSBudWxsO1xuXHQgICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbk1hbmFnZXIuc3RvcFBvbGxpbmcoKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHRoaXMucmVjb25uZWN0KCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAndW5zdWJzY3JpYmVBbGwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlQWxsKCkge1xuXHQgICAgICB0aGlzLmFkYXB0VW5zdWJzY3JpYmVDaGFuZ2UoeyBjaGFubmVsczogdGhpcy5nZXRTdWJzY3JpYmVkQ2hhbm5lbHMoKSwgY2hhbm5lbEdyb3VwczogdGhpcy5nZXRTdWJzY3JpYmVkQ2hhbm5lbEdyb3VwcygpIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFN1YnNjcmliZWRDaGFubmVscycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3Vic2NyaWJlZENoYW5uZWxzKCkge1xuXHQgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fY2hhbm5lbHMpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFN1YnNjcmliZWRDaGFubmVsR3JvdXBzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTdWJzY3JpYmVkQ2hhbm5lbEdyb3VwcygpIHtcblx0ICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2NoYW5uZWxHcm91cHMpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlY29ubmVjdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb25uZWN0KCkge1xuXHQgICAgICB0aGlzLl9zdGFydFN1YnNjcmliZUxvb3AoKTtcblx0ICAgICAgdGhpcy5fcmVnaXN0ZXJIZWFydGJlYXRUaW1lcigpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Rpc2Nvbm5lY3QnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKSB7XG5cdCAgICAgIHRoaXMuX3N0b3BTdWJzY3JpYmVMb29wKCk7XG5cdCAgICAgIHRoaXMuX3N0b3BIZWFydGJlYXRUaW1lcigpO1xuXHQgICAgICB0aGlzLl9yZWNvbm5lY3Rpb25NYW5hZ2VyLnN0b3BQb2xsaW5nKCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX3JlZ2lzdGVySGVhcnRiZWF0VGltZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZWdpc3RlckhlYXJ0YmVhdFRpbWVyKCkge1xuXHQgICAgICB0aGlzLl9zdG9wSGVhcnRiZWF0VGltZXIoKTtcblx0ICAgICAgdGhpcy5fcGVyZm9ybUhlYXJ0YmVhdExvb3AoKTtcblx0ICAgICAgdGhpcy5faGVhcnRiZWF0VGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLl9wZXJmb3JtSGVhcnRiZWF0TG9vcC5iaW5kKHRoaXMpLCB0aGlzLl9jb25maWcuZ2V0SGVhcnRiZWF0SW50ZXJ2YWwoKSAqIDEwMDApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19zdG9wSGVhcnRiZWF0VGltZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9zdG9wSGVhcnRiZWF0VGltZXIoKSB7XG5cdCAgICAgIGlmICh0aGlzLl9oZWFydGJlYXRUaW1lcikge1xuXHQgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faGVhcnRiZWF0VGltZXIpO1xuXHQgICAgICAgIHRoaXMuX2hlYXJ0YmVhdFRpbWVyID0gbnVsbDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19wZXJmb3JtSGVhcnRiZWF0TG9vcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3BlcmZvcm1IZWFydGJlYXRMb29wKCkge1xuXHQgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuXHQgICAgICB2YXIgcHJlc2VuY2VDaGFubmVscyA9IE9iamVjdC5rZXlzKHRoaXMuX2NoYW5uZWxzKTtcblx0ICAgICAgdmFyIHByZXNlbmNlQ2hhbm5lbEdyb3VwcyA9IE9iamVjdC5rZXlzKHRoaXMuX2NoYW5uZWxHcm91cHMpO1xuXHQgICAgICB2YXIgcHJlc2VuY2VTdGF0ZSA9IHt9O1xuXG5cdCAgICAgIGlmIChwcmVzZW5jZUNoYW5uZWxzLmxlbmd0aCA9PT0gMCAmJiBwcmVzZW5jZUNoYW5uZWxHcm91cHMubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cblx0ICAgICAgcHJlc2VuY2VDaGFubmVscy5mb3JFYWNoKGZ1bmN0aW9uIChjaGFubmVsKSB7XG5cdCAgICAgICAgdmFyIGNoYW5uZWxTdGF0ZSA9IF90aGlzNC5fY2hhbm5lbHNbY2hhbm5lbF0uc3RhdGU7XG5cdCAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNoYW5uZWxTdGF0ZSkubGVuZ3RoKSBwcmVzZW5jZVN0YXRlW2NoYW5uZWxdID0gY2hhbm5lbFN0YXRlO1xuXHQgICAgICB9KTtcblxuXHQgICAgICBwcmVzZW5jZUNoYW5uZWxHcm91cHMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbm5lbEdyb3VwKSB7XG5cdCAgICAgICAgdmFyIGNoYW5uZWxHcm91cFN0YXRlID0gX3RoaXM0Ll9jaGFubmVsR3JvdXBzW2NoYW5uZWxHcm91cF0uc3RhdGU7XG5cdCAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNoYW5uZWxHcm91cFN0YXRlKS5sZW5ndGgpIHByZXNlbmNlU3RhdGVbY2hhbm5lbEdyb3VwXSA9IGNoYW5uZWxHcm91cFN0YXRlO1xuXHQgICAgICB9KTtcblxuXHQgICAgICB2YXIgb25IZWFydGJlYXQgPSBmdW5jdGlvbiBvbkhlYXJ0YmVhdChzdGF0dXMpIHtcblx0ICAgICAgICBpZiAoc3RhdHVzLmVycm9yICYmIF90aGlzNC5fY29uZmlnLmFubm91bmNlRmFpbGVkSGVhcnRiZWF0cykge1xuXHQgICAgICAgICAgX3RoaXM0Ll9saXN0ZW5lck1hbmFnZXIuYW5ub3VuY2VTdGF0dXMoc3RhdHVzKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZiAoIXN0YXR1cy5lcnJvciAmJiBfdGhpczQuX2NvbmZpZy5hbm5vdW5jZVN1Y2Nlc3NmdWxIZWFydGJlYXRzKSB7XG5cdCAgICAgICAgICBfdGhpczQuX2xpc3RlbmVyTWFuYWdlci5hbm5vdW5jZVN0YXR1cyhzdGF0dXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfTtcblxuXHQgICAgICB0aGlzLl9oZWFydGJlYXRFbmRwb2ludCh7XG5cdCAgICAgICAgY2hhbm5lbHM6IHByZXNlbmNlQ2hhbm5lbHMsXG5cdCAgICAgICAgY2hhbm5lbEdyb3VwczogcHJlc2VuY2VDaGFubmVsR3JvdXBzLFxuXHQgICAgICAgIHN0YXRlOiBwcmVzZW5jZVN0YXRlIH0sIG9uSGVhcnRiZWF0LmJpbmQodGhpcykpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19zdGFydFN1YnNjcmliZUxvb3AnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9zdGFydFN1YnNjcmliZUxvb3AoKSB7XG5cdCAgICAgIHRoaXMuX3N0b3BTdWJzY3JpYmVMb29wKCk7XG5cdCAgICAgIHZhciBjaGFubmVscyA9IFtdO1xuXHQgICAgICB2YXIgY2hhbm5lbEdyb3VwcyA9IFtdO1xuXG5cdCAgICAgIE9iamVjdC5rZXlzKHRoaXMuX2NoYW5uZWxzKS5mb3JFYWNoKGZ1bmN0aW9uIChjaGFubmVsKSB7XG5cdCAgICAgICAgcmV0dXJuIGNoYW5uZWxzLnB1c2goY2hhbm5lbCk7XG5cdCAgICAgIH0pO1xuXHQgICAgICBPYmplY3Qua2V5cyh0aGlzLl9wcmVzZW5jZUNoYW5uZWxzKS5mb3JFYWNoKGZ1bmN0aW9uIChjaGFubmVsKSB7XG5cdCAgICAgICAgcmV0dXJuIGNoYW5uZWxzLnB1c2goY2hhbm5lbCArICctcG5wcmVzJyk7XG5cdCAgICAgIH0pO1xuXG5cdCAgICAgIE9iamVjdC5rZXlzKHRoaXMuX2NoYW5uZWxHcm91cHMpLmZvckVhY2goZnVuY3Rpb24gKGNoYW5uZWxHcm91cCkge1xuXHQgICAgICAgIHJldHVybiBjaGFubmVsR3JvdXBzLnB1c2goY2hhbm5lbEdyb3VwKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3ByZXNlbmNlQ2hhbm5lbEdyb3VwcykuZm9yRWFjaChmdW5jdGlvbiAoY2hhbm5lbEdyb3VwKSB7XG5cdCAgICAgICAgcmV0dXJuIGNoYW5uZWxHcm91cHMucHVzaChjaGFubmVsR3JvdXAgKyAnLXBucHJlcycpO1xuXHQgICAgICB9KTtcblxuXHQgICAgICBpZiAoY2hhbm5lbHMubGVuZ3RoID09PSAwICYmIGNoYW5uZWxHcm91cHMubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cblx0ICAgICAgdmFyIHN1YnNjcmliZUFyZ3MgPSB7XG5cdCAgICAgICAgY2hhbm5lbHM6IGNoYW5uZWxzLFxuXHQgICAgICAgIGNoYW5uZWxHcm91cHM6IGNoYW5uZWxHcm91cHMsXG5cdCAgICAgICAgdGltZXRva2VuOiB0aGlzLl90aW1ldG9rZW4sXG5cdCAgICAgICAgZmlsdGVyRXhwcmVzc2lvbjogdGhpcy5fY29uZmlnLmZpbHRlckV4cHJlc3Npb24sXG5cdCAgICAgICAgcmVnaW9uOiB0aGlzLl9yZWdpb25cblx0ICAgICAgfTtcblxuXHQgICAgICB0aGlzLl9zdWJzY3JpYmVDYWxsID0gdGhpcy5fc3Vic2NyaWJlRW5kcG9pbnQoc3Vic2NyaWJlQXJncywgdGhpcy5fcHJvY2Vzc1N1YnNjcmliZVJlc3BvbnNlLmJpbmQodGhpcykpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19wcm9jZXNzU3Vic2NyaWJlUmVzcG9uc2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9wcm9jZXNzU3Vic2NyaWJlUmVzcG9uc2Uoc3RhdHVzLCBwYXlsb2FkKSB7XG5cdCAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG5cdCAgICAgIGlmIChzdGF0dXMuZXJyb3IpIHtcblx0ICAgICAgICBpZiAoc3RhdHVzLmNhdGVnb3J5ID09PSBfY2F0ZWdvcmllczIuZGVmYXVsdC5QTlRpbWVvdXRDYXRlZ29yeSkge1xuXHQgICAgICAgICAgdGhpcy5fc3RhcnRTdWJzY3JpYmVMb29wKCk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMuY2F0ZWdvcnkgPT09IF9jYXRlZ29yaWVzMi5kZWZhdWx0LlBOTmV0d29ya0lzc3Vlc0NhdGVnb3J5KSB7XG5cdCAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcblx0ICAgICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbk1hbmFnZXIub25SZWNvbm5lY3Rpb24oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpczUucmVjb25uZWN0KCk7XG5cdCAgICAgICAgICAgIF90aGlzNS5fc3Vic2NyaXB0aW9uU3RhdHVzQW5ub3VuY2VkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgdmFyIHJlY29ubmVjdGVkQW5ub3VuY2UgPSB7XG5cdCAgICAgICAgICAgICAgY2F0ZWdvcnk6IF9jYXRlZ29yaWVzMi5kZWZhdWx0LlBOUmVjb25uZWN0ZWRDYXRlZ29yeSxcblx0ICAgICAgICAgICAgICBvcGVyYXRpb246IHN0YXR1cy5vcGVyYXRpb25cblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgX3RoaXM1Ll9saXN0ZW5lck1hbmFnZXIuYW5ub3VuY2VTdGF0dXMocmVjb25uZWN0ZWRBbm5vdW5jZSk7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbk1hbmFnZXIuc3RhcnRQb2xsaW5nKCk7XG5cdCAgICAgICAgICB0aGlzLl9saXN0ZW5lck1hbmFnZXIuYW5ub3VuY2VTdGF0dXMoc3RhdHVzKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdGhpcy5fbGlzdGVuZXJNYW5hZ2VyLmFubm91bmNlU3RhdHVzKHN0YXR1cyk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cblx0ICAgICAgaWYgKCF0aGlzLl9zdWJzY3JpcHRpb25TdGF0dXNBbm5vdW5jZWQpIHtcblx0ICAgICAgICB2YXIgY29ubmVjdGVkQW5ub3VuY2UgPSB7fTtcblx0ICAgICAgICBjb25uZWN0ZWRBbm5vdW5jZS5jYXRlZ29yeSA9IF9jYXRlZ29yaWVzMi5kZWZhdWx0LlBOQ29ubmVjdGVkQ2F0ZWdvcnk7XG5cdCAgICAgICAgY29ubmVjdGVkQW5ub3VuY2Uub3BlcmF0aW9uID0gc3RhdHVzLm9wZXJhdGlvbjtcblx0ICAgICAgICBjb25uZWN0ZWRBbm5vdW5jZS5hZmZlY3RlZENoYW5uZWxzID0gdGhpcy5fcGVuZGluZ0NoYW5uZWxTdWJzY3JpcHRpb25zO1xuXHQgICAgICAgIGNvbm5lY3RlZEFubm91bmNlLmFmZmVjdGVkQ2hhbm5lbEdyb3VwcyA9IHRoaXMuX3BlbmRpbmdDaGFubmVsR3JvdXBTdWJzY3JpcHRpb25zO1xuXHQgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvblN0YXR1c0Fubm91bmNlZCA9IHRydWU7XG5cdCAgICAgICAgdGhpcy5fbGlzdGVuZXJNYW5hZ2VyLmFubm91bmNlU3RhdHVzKGNvbm5lY3RlZEFubm91bmNlKTtcblxuXHQgICAgICAgIHRoaXMuX3BlbmRpbmdDaGFubmVsU3Vic2NyaXB0aW9ucyA9IFtdO1xuXHQgICAgICAgIHRoaXMuX3BlbmRpbmdDaGFubmVsR3JvdXBTdWJzY3JpcHRpb25zID0gW107XG5cdCAgICAgIH1cblxuXHQgICAgICB2YXIgbWVzc2FnZXMgPSBwYXlsb2FkLm1lc3NhZ2VzIHx8IFtdO1xuXHQgICAgICB2YXIgcmVxdWVzdE1lc3NhZ2VDb3VudFRocmVzaG9sZCA9IHRoaXMuX2NvbmZpZy5yZXF1ZXN0TWVzc2FnZUNvdW50VGhyZXNob2xkO1xuXG5cblx0ICAgICAgaWYgKHJlcXVlc3RNZXNzYWdlQ291bnRUaHJlc2hvbGQgJiYgbWVzc2FnZXMubGVuZ3RoID49IHJlcXVlc3RNZXNzYWdlQ291bnRUaHJlc2hvbGQpIHtcblx0ICAgICAgICB2YXIgY291bnRBbm5vdW5jZW1lbnQgPSB7fTtcblx0ICAgICAgICBjb3VudEFubm91bmNlbWVudC5jYXRlZ29yeSA9IF9jYXRlZ29yaWVzMi5kZWZhdWx0LlBOUmVxdWVzdE1lc3NhZ2VDb3VudEV4Y2VlZGVkQ2F0ZWdvcnk7XG5cdCAgICAgICAgY291bnRBbm5vdW5jZW1lbnQub3BlcmF0aW9uID0gc3RhdHVzLm9wZXJhdGlvbjtcblx0ICAgICAgICB0aGlzLl9saXN0ZW5lck1hbmFnZXIuYW5ub3VuY2VTdGF0dXMoY291bnRBbm5vdW5jZW1lbnQpO1xuXHQgICAgICB9XG5cblx0ICAgICAgbWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbiAobWVzc2FnZSkge1xuXHQgICAgICAgIHZhciBjaGFubmVsID0gbWVzc2FnZS5jaGFubmVsO1xuXHQgICAgICAgIHZhciBzdWJzY3JpcHRpb25NYXRjaCA9IG1lc3NhZ2Uuc3Vic2NyaXB0aW9uTWF0Y2g7XG5cdCAgICAgICAgdmFyIHB1Ymxpc2hNZXRhRGF0YSA9IG1lc3NhZ2UucHVibGlzaE1ldGFEYXRhO1xuXG5cdCAgICAgICAgaWYgKGNoYW5uZWwgPT09IHN1YnNjcmlwdGlvbk1hdGNoKSB7XG5cdCAgICAgICAgICBzdWJzY3JpcHRpb25NYXRjaCA9IG51bGw7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKF91dGlsczIuZGVmYXVsdC5lbmRzV2l0aChtZXNzYWdlLmNoYW5uZWwsICctcG5wcmVzJykpIHtcblx0ICAgICAgICAgIHZhciBhbm5vdW5jZSA9IHt9O1xuXHQgICAgICAgICAgYW5ub3VuY2UuY2hhbm5lbCA9IG51bGw7XG5cdCAgICAgICAgICBhbm5vdW5jZS5zdWJzY3JpcHRpb24gPSBudWxsO1xuXG5cdCAgICAgICAgICBhbm5vdW5jZS5hY3R1YWxDaGFubmVsID0gc3Vic2NyaXB0aW9uTWF0Y2ggIT0gbnVsbCA/IGNoYW5uZWwgOiBudWxsO1xuXHQgICAgICAgICAgYW5ub3VuY2Uuc3Vic2NyaWJlZENoYW5uZWwgPSBzdWJzY3JpcHRpb25NYXRjaCAhPSBudWxsID8gc3Vic2NyaXB0aW9uTWF0Y2ggOiBjaGFubmVsO1xuXG5cblx0ICAgICAgICAgIGlmIChjaGFubmVsKSB7XG5cdCAgICAgICAgICAgIGFubm91bmNlLmNoYW5uZWwgPSBjaGFubmVsLnN1YnN0cmluZygwLCBjaGFubmVsLmxhc3RJbmRleE9mKCctcG5wcmVzJykpO1xuXHQgICAgICAgICAgfVxuXG5cdCAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uTWF0Y2gpIHtcblx0ICAgICAgICAgICAgYW5ub3VuY2Uuc3Vic2NyaXB0aW9uID0gc3Vic2NyaXB0aW9uTWF0Y2guc3Vic3RyaW5nKDAsIHN1YnNjcmlwdGlvbk1hdGNoLmxhc3RJbmRleE9mKCctcG5wcmVzJykpO1xuXHQgICAgICAgICAgfVxuXG5cdCAgICAgICAgICBhbm5vdW5jZS5hY3Rpb24gPSBtZXNzYWdlLnBheWxvYWQuYWN0aW9uO1xuXHQgICAgICAgICAgYW5ub3VuY2Uuc3RhdGUgPSBtZXNzYWdlLnBheWxvYWQuZGF0YTtcblx0ICAgICAgICAgIGFubm91bmNlLnRpbWV0b2tlbiA9IHB1Ymxpc2hNZXRhRGF0YS5wdWJsaXNoVGltZXRva2VuO1xuXHQgICAgICAgICAgYW5ub3VuY2Uub2NjdXBhbmN5ID0gbWVzc2FnZS5wYXlsb2FkLm9jY3VwYW5jeTtcblx0ICAgICAgICAgIGFubm91bmNlLnV1aWQgPSBtZXNzYWdlLnBheWxvYWQudXVpZDtcblx0ICAgICAgICAgIGFubm91bmNlLnRpbWVzdGFtcCA9IG1lc3NhZ2UucGF5bG9hZC50aW1lc3RhbXA7XG5cdCAgICAgICAgICBfdGhpczUuX2xpc3RlbmVyTWFuYWdlci5hbm5vdW5jZVByZXNlbmNlKGFubm91bmNlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdmFyIF9hbm5vdW5jZSA9IHt9O1xuXHQgICAgICAgICAgX2Fubm91bmNlLmNoYW5uZWwgPSBudWxsO1xuXHQgICAgICAgICAgX2Fubm91bmNlLnN1YnNjcmlwdGlvbiA9IG51bGw7XG5cblx0ICAgICAgICAgIF9hbm5vdW5jZS5hY3R1YWxDaGFubmVsID0gc3Vic2NyaXB0aW9uTWF0Y2ggIT0gbnVsbCA/IGNoYW5uZWwgOiBudWxsO1xuXHQgICAgICAgICAgX2Fubm91bmNlLnN1YnNjcmliZWRDaGFubmVsID0gc3Vic2NyaXB0aW9uTWF0Y2ggIT0gbnVsbCA/IHN1YnNjcmlwdGlvbk1hdGNoIDogY2hhbm5lbDtcblxuXG5cdCAgICAgICAgICBfYW5ub3VuY2UuY2hhbm5lbCA9IGNoYW5uZWw7XG5cdCAgICAgICAgICBfYW5ub3VuY2Uuc3Vic2NyaXB0aW9uID0gc3Vic2NyaXB0aW9uTWF0Y2g7XG5cdCAgICAgICAgICBfYW5ub3VuY2UudGltZXRva2VuID0gcHVibGlzaE1ldGFEYXRhLnB1Ymxpc2hUaW1ldG9rZW47XG5cdCAgICAgICAgICBfYW5ub3VuY2UucHVibGlzaGVyID0gbWVzc2FnZS5pc3N1aW5nQ2xpZW50SWQ7XG5cblx0ICAgICAgICAgIGlmIChfdGhpczUuX2NvbmZpZy5jaXBoZXJLZXkpIHtcblx0ICAgICAgICAgICAgX2Fubm91bmNlLm1lc3NhZ2UgPSBfdGhpczUuX2NyeXB0by5kZWNyeXB0KG1lc3NhZ2UucGF5bG9hZCk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBfYW5ub3VuY2UubWVzc2FnZSA9IG1lc3NhZ2UucGF5bG9hZDtcblx0ICAgICAgICAgIH1cblxuXHQgICAgICAgICAgX3RoaXM1Ll9saXN0ZW5lck1hbmFnZXIuYW5ub3VuY2VNZXNzYWdlKF9hbm5vdW5jZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblxuXHQgICAgICB0aGlzLl9yZWdpb24gPSBwYXlsb2FkLm1ldGFkYXRhLnJlZ2lvbjtcblx0ICAgICAgdGhpcy5fdGltZXRva2VuID0gcGF5bG9hZC5tZXRhZGF0YS50aW1ldG9rZW47XG5cdCAgICAgIHRoaXMuX3N0YXJ0U3Vic2NyaWJlTG9vcCgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19zdG9wU3Vic2NyaWJlTG9vcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3N0b3BTdWJzY3JpYmVMb29wKCkge1xuXHQgICAgICBpZiAodGhpcy5fc3Vic2NyaWJlQ2FsbCkge1xuXHQgICAgICAgIHRoaXMuX3N1YnNjcmliZUNhbGwuYWJvcnQoKTtcblx0ICAgICAgICB0aGlzLl9zdWJzY3JpYmVDYWxsID0gbnVsbDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBfY2xhc3M7XG5cdH0oKTtcblxuXHRleHBvcnRzLmRlZmF1bHQgPSBfY2xhc3M7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX2NhdGVnb3JpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblxuXHR2YXIgX2NhdGVnb3JpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2F0ZWdvcmllcyk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cdHZhciBfY2xhc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gX2NsYXNzKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIF9jbGFzcyk7XG5cblx0ICAgIHRoaXMuX2xpc3RlbmVycyA9IFtdO1xuXHQgIH1cblxuXHQgIF9jcmVhdGVDbGFzcyhfY2xhc3MsIFt7XG5cdCAgICBrZXk6ICdhZGRMaXN0ZW5lcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTGlzdGVuZXIobmV3TGlzdGVuZXJzKSB7XG5cdCAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKG5ld0xpc3RlbmVycyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVtb3ZlTGlzdGVuZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGRlcHJlY2F0ZWRMaXN0ZW5lcikge1xuXHQgICAgICB2YXIgbmV3TGlzdGVuZXJzID0gW107XG5cblx0ICAgICAgdGhpcy5fbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG5cdCAgICAgICAgaWYgKGxpc3RlbmVyICE9PSBkZXByZWNhdGVkTGlzdGVuZXIpIG5ld0xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblx0ICAgICAgfSk7XG5cblx0ICAgICAgdGhpcy5fbGlzdGVuZXJzID0gbmV3TGlzdGVuZXJzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbW92ZUFsbExpc3RlbmVycycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKCkge1xuXHQgICAgICB0aGlzLl9saXN0ZW5lcnMgPSBbXTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdhbm5vdW5jZVByZXNlbmNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhbm5vdW5jZVByZXNlbmNlKGFubm91bmNlKSB7XG5cdCAgICAgIHRoaXMuX2xpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuXHQgICAgICAgIGlmIChsaXN0ZW5lci5wcmVzZW5jZSkgbGlzdGVuZXIucHJlc2VuY2UoYW5ub3VuY2UpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdhbm5vdW5jZVN0YXR1cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYW5ub3VuY2VTdGF0dXMoYW5ub3VuY2UpIHtcblx0ICAgICAgdGhpcy5fbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG5cdCAgICAgICAgaWYgKGxpc3RlbmVyLnN0YXR1cykgbGlzdGVuZXIuc3RhdHVzKGFubm91bmNlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnYW5ub3VuY2VNZXNzYWdlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhbm5vdW5jZU1lc3NhZ2UoYW5ub3VuY2UpIHtcblx0ICAgICAgdGhpcy5fbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG5cdCAgICAgICAgaWYgKGxpc3RlbmVyLm1lc3NhZ2UpIGxpc3RlbmVyLm1lc3NhZ2UoYW5ub3VuY2UpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdhbm5vdW5jZU5ldHdvcmtVcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYW5ub3VuY2VOZXR3b3JrVXAoKSB7XG5cdCAgICAgIHZhciBuZXR3b3JrU3RhdHVzID0ge307XG5cdCAgICAgIG5ldHdvcmtTdGF0dXMuY2F0ZWdvcnkgPSBfY2F0ZWdvcmllczIuZGVmYXVsdC5QTk5ldHdvcmtVcENhdGVnb3J5O1xuXHQgICAgICB0aGlzLmFubm91bmNlU3RhdHVzKG5ldHdvcmtTdGF0dXMpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Fubm91bmNlTmV0d29ya0Rvd24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFubm91bmNlTmV0d29ya0Rvd24oKSB7XG5cdCAgICAgIHZhciBuZXR3b3JrU3RhdHVzID0ge307XG5cdCAgICAgIG5ldHdvcmtTdGF0dXMuY2F0ZWdvcnkgPSBfY2F0ZWdvcmllczIuZGVmYXVsdC5QTk5ldHdvcmtEb3duQ2F0ZWdvcnk7XG5cdCAgICAgIHRoaXMuYW5ub3VuY2VTdGF0dXMobmV0d29ya1N0YXR1cyk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIF9jbGFzcztcblx0fSgpO1xuXG5cdGV4cG9ydHMuZGVmYXVsdCA9IF9jbGFzcztcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cblx0dmFyIF90aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cblx0dmFyIF90aW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RpbWUpO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblx0dmFyIF9jbGFzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBfY2xhc3MoX3JlZikge1xuXHQgICAgdmFyIHRpbWVFbmRwb2ludCA9IF9yZWYudGltZUVuZHBvaW50O1xuXG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgX2NsYXNzKTtcblxuXHQgICAgdGhpcy5fdGltZUVuZHBvaW50ID0gdGltZUVuZHBvaW50O1xuXHQgIH1cblxuXHQgIF9jcmVhdGVDbGFzcyhfY2xhc3MsIFt7XG5cdCAgICBrZXk6ICdvblJlY29ubmVjdGlvbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gb25SZWNvbm5lY3Rpb24ocmVjb25uZWN0aW9uQ2FsbGJhY2spIHtcblx0ICAgICAgdGhpcy5fcmVjb25uZWN0aW9uQ2FsbGJhY2sgPSByZWNvbm5lY3Rpb25DYWxsYmFjaztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzdGFydFBvbGxpbmcnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0UG9sbGluZygpIHtcblx0ICAgICAgdGhpcy5fdGltZVRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5fcGVyZm9ybVRpbWVMb29wLmJpbmQodGhpcyksIDMwMDApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3N0b3BQb2xsaW5nJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wUG9sbGluZygpIHtcblx0ICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl90aW1lVGltZXIpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19wZXJmb3JtVGltZUxvb3AnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9wZXJmb3JtVGltZUxvb3AoKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICAgICAgdGhpcy5fdGltZUVuZHBvaW50KGZ1bmN0aW9uIChzdGF0dXMpIHtcblx0ICAgICAgICBpZiAoIXN0YXR1cy5lcnJvcikge1xuXHQgICAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5fdGltZVRpbWVyKTtcblx0ICAgICAgICAgIF90aGlzLl9yZWNvbm5lY3Rpb25DYWxsYmFjaygpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIF9jbGFzcztcblx0fSgpO1xuXG5cdGV4cG9ydHMuZGVmYXVsdCA9IF9jbGFzcztcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldE9wZXJhdGlvbiA9IGdldE9wZXJhdGlvbjtcblx0ZXhwb3J0cy5nZXRVUkwgPSBnZXRVUkw7XG5cdGV4cG9ydHMuZ2V0UmVxdWVzdFRpbWVvdXQgPSBnZXRSZXF1ZXN0VGltZW91dDtcblx0ZXhwb3J0cy5wcmVwYXJlUGFyYW1zID0gcHJlcGFyZVBhcmFtcztcblx0ZXhwb3J0cy5pc0F1dGhTdXBwb3J0ZWQgPSBpc0F1dGhTdXBwb3J0ZWQ7XG5cdGV4cG9ydHMuaGFuZGxlUmVzcG9uc2UgPSBoYW5kbGVSZXNwb25zZTtcblx0ZXhwb3J0cy52YWxpZGF0ZVBhcmFtcyA9IHZhbGlkYXRlUGFyYW1zO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRmdW5jdGlvbiBnZXRPcGVyYXRpb24oKSB7XG5cdCAgcmV0dXJuIF9vcGVyYXRpb25zMi5kZWZhdWx0LlBOVGltZU9wZXJhdGlvbjtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFVSTCgpIHtcblx0ICByZXR1cm4gJy90aW1lLzAnO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0UmVxdWVzdFRpbWVvdXQoX3JlZikge1xuXHQgIHZhciBjb25maWcgPSBfcmVmLmNvbmZpZztcblxuXHQgIHJldHVybiBjb25maWcuZ2V0VHJhbnNhY3Rpb25UaW1lb3V0KCk7XG5cdH1cblxuXHRmdW5jdGlvbiBwcmVwYXJlUGFyYW1zKCkge1xuXHQgIHJldHVybiB7fTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlzQXV0aFN1cHBvcnRlZCgpIHtcblx0ICByZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShtb2R1bGVzLCBzZXJ2ZXJSZXNwb25zZSkge1xuXHQgIHJldHVybiB7XG5cdCAgICB0aW1ldG9rZW46IHNlcnZlclJlc3BvbnNlWzBdXG5cdCAgfTtcblx0fVxuXG5cdGZ1bmN0aW9uIHZhbGlkYXRlUGFyYW1zKCkge31cblxuLyoqKi8gfSxcbi8qIDIyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBQTlRpbWVPcGVyYXRpb246ICdQTlRpbWVPcGVyYXRpb24nLFxuXG5cdCAgUE5IaXN0b3J5T3BlcmF0aW9uOiAnUE5IaXN0b3J5T3BlcmF0aW9uJyxcblx0ICBQTkZldGNoTWVzc2FnZXNPcGVyYXRpb246ICdQTkZldGNoTWVzc2FnZXNPcGVyYXRpb24nLFxuXG5cdCAgUE5TdWJzY3JpYmVPcGVyYXRpb246ICdQTlN1YnNjcmliZU9wZXJhdGlvbicsXG5cdCAgUE5VbnN1YnNjcmliZU9wZXJhdGlvbjogJ1BOVW5zdWJzY3JpYmVPcGVyYXRpb24nLFxuXHQgIFBOUHVibGlzaE9wZXJhdGlvbjogJ1BOUHVibGlzaE9wZXJhdGlvbicsXG5cblx0ICBQTlB1c2hOb3RpZmljYXRpb25FbmFibGVkQ2hhbm5lbHNPcGVyYXRpb246ICdQTlB1c2hOb3RpZmljYXRpb25FbmFibGVkQ2hhbm5lbHNPcGVyYXRpb24nLFxuXHQgIFBOUmVtb3ZlQWxsUHVzaE5vdGlmaWNhdGlvbnNPcGVyYXRpb246ICdQTlJlbW92ZUFsbFB1c2hOb3RpZmljYXRpb25zT3BlcmF0aW9uJyxcblxuXHQgIFBOV2hlcmVOb3dPcGVyYXRpb246ICdQTldoZXJlTm93T3BlcmF0aW9uJyxcblx0ICBQTlNldFN0YXRlT3BlcmF0aW9uOiAnUE5TZXRTdGF0ZU9wZXJhdGlvbicsXG5cdCAgUE5IZXJlTm93T3BlcmF0aW9uOiAnUE5IZXJlTm93T3BlcmF0aW9uJyxcblx0ICBQTkdldFN0YXRlT3BlcmF0aW9uOiAnUE5HZXRTdGF0ZU9wZXJhdGlvbicsXG5cdCAgUE5IZWFydGJlYXRPcGVyYXRpb246ICdQTkhlYXJ0YmVhdE9wZXJhdGlvbicsXG5cblx0ICBQTkNoYW5uZWxHcm91cHNPcGVyYXRpb246ICdQTkNoYW5uZWxHcm91cHNPcGVyYXRpb24nLFxuXHQgIFBOUmVtb3ZlR3JvdXBPcGVyYXRpb246ICdQTlJlbW92ZUdyb3VwT3BlcmF0aW9uJyxcblx0ICBQTkNoYW5uZWxzRm9yR3JvdXBPcGVyYXRpb246ICdQTkNoYW5uZWxzRm9yR3JvdXBPcGVyYXRpb24nLFxuXHQgIFBOQWRkQ2hhbm5lbHNUb0dyb3VwT3BlcmF0aW9uOiAnUE5BZGRDaGFubmVsc1RvR3JvdXBPcGVyYXRpb24nLFxuXHQgIFBOUmVtb3ZlQ2hhbm5lbHNGcm9tR3JvdXBPcGVyYXRpb246ICdQTlJlbW92ZUNoYW5uZWxzRnJvbUdyb3VwT3BlcmF0aW9uJyxcblxuXHQgIFBOQWNjZXNzTWFuYWdlckdyYW50OiAnUE5BY2Nlc3NNYW5hZ2VyR3JhbnQnLFxuXHQgIFBOQWNjZXNzTWFuYWdlckF1ZGl0OiAnUE5BY2Nlc3NNYW5hZ2VyQXVkaXQnXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRmdW5jdGlvbiBvYmplY3RUb0xpc3Qobykge1xuXHQgIHZhciBsID0gW107XG5cdCAgT2JqZWN0LmtleXMobykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICByZXR1cm4gbC5wdXNoKGtleSk7XG5cdCAgfSk7XG5cdCAgcmV0dXJuIGw7XG5cdH1cblxuXHRmdW5jdGlvbiBlbmNvZGVTdHJpbmcoaW5wdXQpIHtcblx0ICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGlucHV0KS5yZXBsYWNlKC9bIX4qJygpXS9nLCBmdW5jdGlvbiAoeCkge1xuXHQgICAgcmV0dXJuICclJyArIHguY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcblx0ICB9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIG9iamVjdFRvTGlzdFNvcnRlZChvKSB7XG5cdCAgcmV0dXJuIG9iamVjdFRvTGlzdChvKS5zb3J0KCk7XG5cdH1cblxuXHRmdW5jdGlvbiBzaWduUGFtRnJvbVBhcmFtcyhwYXJhbXMpIHtcblx0ICB2YXIgbCA9IG9iamVjdFRvTGlzdFNvcnRlZChwYXJhbXMpO1xuXHQgIHJldHVybiBsLm1hcChmdW5jdGlvbiAocGFyYW1LZXkpIHtcblx0ICAgIHJldHVybiBwYXJhbUtleSArICc9JyArIGVuY29kZVN0cmluZyhwYXJhbXNbcGFyYW1LZXldKTtcblx0ICB9KS5qb2luKCcmJyk7XG5cdH1cblxuXHRmdW5jdGlvbiBlbmRzV2l0aChzZWFyY2hTdHJpbmcsIHN1ZmZpeCkge1xuXHQgIHJldHVybiBzZWFyY2hTdHJpbmcuaW5kZXhPZihzdWZmaXgsIHRoaXMubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCkgIT09IC0xO1xuXHR9XG5cblx0ZnVuY3Rpb24gY3JlYXRlUHJvbWlzZSgpIHtcblx0ICB2YXIgc3VjY2Vzc1Jlc29sdmUgPSB2b2lkIDA7XG5cdCAgdmFyIGZhaWx1cmVSZXNvbHZlID0gdm9pZCAwO1xuXHQgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuXHQgICAgc3VjY2Vzc1Jlc29sdmUgPSBmdWxmaWxsO1xuXHQgICAgZmFpbHVyZVJlc29sdmUgPSByZWplY3Q7XG5cdCAgfSk7XG5cblx0ICByZXR1cm4geyBwcm9taXNlOiBwcm9taXNlLCByZWplY3Q6IGZhaWx1cmVSZXNvbHZlLCBmdWxmaWxsOiBzdWNjZXNzUmVzb2x2ZSB9O1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IHNpZ25QYW1Gcm9tUGFyYW1zOiBzaWduUGFtRnJvbVBhcmFtcywgZW5kc1dpdGg6IGVuZHNXaXRoLCBjcmVhdGVQcm9taXNlOiBjcmVhdGVQcm9taXNlLCBlbmNvZGVTdHJpbmc6IGVuY29kZVN0cmluZyB9O1xuXG4vKioqLyB9LFxuLyogMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAobW9kdWxlcywgZW5kcG9pbnQpIHtcblx0ICB2YXIgbmV0d29ya2luZyA9IG1vZHVsZXMubmV0d29ya2luZyxcblx0ICAgICAgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cblx0ICB2YXIgY2FsbGJhY2sgPSBudWxsO1xuXHQgIHZhciBwcm9taXNlQ29tcG9uZW50ID0gbnVsbDtcblx0ICB2YXIgaW5jb21pbmdQYXJhbXMgPSB7fTtcblxuXHQgIGlmIChlbmRwb2ludC5nZXRPcGVyYXRpb24oKSA9PT0gX29wZXJhdGlvbnMyLmRlZmF1bHQuUE5UaW1lT3BlcmF0aW9uIHx8IGVuZHBvaW50LmdldE9wZXJhdGlvbigpID09PSBfb3BlcmF0aW9uczIuZGVmYXVsdC5QTkNoYW5uZWxHcm91cHNPcGVyYXRpb24pIHtcblx0ICAgIGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzJdO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBpbmNvbWluZ1BhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1syXTtcblx0ICAgIGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzNdO1xuXHQgIH1cblxuXHQgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgIWNhbGxiYWNrKSB7XG5cdCAgICBwcm9taXNlQ29tcG9uZW50ID0gX3V0aWxzMi5kZWZhdWx0LmNyZWF0ZVByb21pc2UoKTtcblx0ICB9XG5cblx0ICB2YXIgdmFsaWRhdGlvblJlc3VsdCA9IGVuZHBvaW50LnZhbGlkYXRlUGFyYW1zKG1vZHVsZXMsIGluY29taW5nUGFyYW1zKTtcblxuXHQgIGlmICh2YWxpZGF0aW9uUmVzdWx0KSB7XG5cdCAgICBpZiAoY2FsbGJhY2spIHtcblx0ICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZVZhbGlkYXRpb25FcnJvcih2YWxpZGF0aW9uUmVzdWx0KSk7XG5cdCAgICB9IGVsc2UgaWYgKHByb21pc2VDb21wb25lbnQpIHtcblx0ICAgICAgcHJvbWlzZUNvbXBvbmVudC5yZWplY3QobmV3IFB1Yk51YkVycm9yKCdWYWxpZGF0aW9uIGZhaWxlZCwgY2hlY2sgc3RhdHVzIGZvciBkZXRhaWxzJywgY3JlYXRlVmFsaWRhdGlvbkVycm9yKHZhbGlkYXRpb25SZXN1bHQpKSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlQ29tcG9uZW50LnByb21pc2U7XG5cdCAgICB9XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXG5cdCAgdmFyIG91dGdvaW5nUGFyYW1zID0gZW5kcG9pbnQucHJlcGFyZVBhcmFtcyhtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcyk7XG5cdCAgdmFyIHVybCA9IGRlY2lkZVVSTChlbmRwb2ludCwgbW9kdWxlcywgaW5jb21pbmdQYXJhbXMpO1xuXHQgIHZhciBjYWxsSW5zdGFuY2UgPSB2b2lkIDA7XG5cdCAgdmFyIG5ldHdvcmtpbmdQYXJhbXMgPSB7IHVybDogdXJsLFxuXHQgICAgb3BlcmF0aW9uOiBlbmRwb2ludC5nZXRPcGVyYXRpb24oKSxcblx0ICAgIHRpbWVvdXQ6IGVuZHBvaW50LmdldFJlcXVlc3RUaW1lb3V0KG1vZHVsZXMpXG5cdCAgfTtcblxuXHQgIG91dGdvaW5nUGFyYW1zLnV1aWQgPSBjb25maWcuVVVJRDtcblx0ICBvdXRnb2luZ1BhcmFtcy5wbnNkayA9IGdlbmVyYXRlUE5TREsoY29uZmlnKTtcblxuXHQgIGlmIChjb25maWcudXNlSW5zdGFuY2VJZCkge1xuXHQgICAgb3V0Z29pbmdQYXJhbXMuaW5zdGFuY2VpZCA9IGNvbmZpZy5pbnN0YW5jZUlkO1xuXHQgIH1cblxuXHQgIGlmIChjb25maWcudXNlUmVxdWVzdElkKSB7XG5cdCAgICBvdXRnb2luZ1BhcmFtcy5yZXF1ZXN0aWQgPSBfdXVpZDIuZGVmYXVsdC52NCgpO1xuXHQgIH1cblxuXHQgIGlmIChlbmRwb2ludC5pc0F1dGhTdXBwb3J0ZWQoKSAmJiBjb25maWcuZ2V0QXV0aEtleSgpKSB7XG5cdCAgICBvdXRnb2luZ1BhcmFtcy5hdXRoID0gY29uZmlnLmdldEF1dGhLZXkoKTtcblx0ICB9XG5cblx0ICBpZiAoY29uZmlnLnNlY3JldEtleSkge1xuXHQgICAgc2lnblJlcXVlc3QobW9kdWxlcywgdXJsLCBvdXRnb2luZ1BhcmFtcyk7XG5cdCAgfVxuXG5cdCAgdmFyIG9uUmVzcG9uc2UgPSBmdW5jdGlvbiBvblJlc3BvbnNlKHN0YXR1cywgcGF5bG9hZCkge1xuXHQgICAgaWYgKHN0YXR1cy5lcnJvcikge1xuXHQgICAgICBpZiAoY2FsbGJhY2spIHtcblx0ICAgICAgICBjYWxsYmFjayhzdGF0dXMpO1xuXHQgICAgICB9IGVsc2UgaWYgKHByb21pc2VDb21wb25lbnQpIHtcblx0ICAgICAgICBwcm9taXNlQ29tcG9uZW50LnJlamVjdChuZXcgUHViTnViRXJyb3IoJ1B1Yk51YiBjYWxsIGZhaWxlZCwgY2hlY2sgc3RhdHVzIGZvciBkZXRhaWxzJywgc3RhdHVzKSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgcGFyc2VkUGF5bG9hZCA9IGVuZHBvaW50LmhhbmRsZVJlc3BvbnNlKG1vZHVsZXMsIHBheWxvYWQsIGluY29taW5nUGFyYW1zKTtcblxuXHQgICAgaWYgKGNhbGxiYWNrKSB7XG5cdCAgICAgIGNhbGxiYWNrKHN0YXR1cywgcGFyc2VkUGF5bG9hZCk7XG5cdCAgICB9IGVsc2UgaWYgKHByb21pc2VDb21wb25lbnQpIHtcblx0ICAgICAgcHJvbWlzZUNvbXBvbmVudC5mdWxmaWxsKHBhcnNlZFBheWxvYWQpO1xuXHQgICAgfVxuXHQgIH07XG5cblx0ICBpZiAoZW5kcG9pbnQudXNlUG9zdCAmJiBlbmRwb2ludC51c2VQb3N0KG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSkge1xuXHQgICAgdmFyIHBheWxvYWQgPSBlbmRwb2ludC5wb3N0UGF5bG9hZChtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcyk7XG5cdCAgICBjYWxsSW5zdGFuY2UgPSBuZXR3b3JraW5nLlBPU1Qob3V0Z29pbmdQYXJhbXMsIHBheWxvYWQsIG5ldHdvcmtpbmdQYXJhbXMsIG9uUmVzcG9uc2UpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBjYWxsSW5zdGFuY2UgPSBuZXR3b3JraW5nLkdFVChvdXRnb2luZ1BhcmFtcywgbmV0d29ya2luZ1BhcmFtcywgb25SZXNwb25zZSk7XG5cdCAgfVxuXG5cdCAgaWYgKGVuZHBvaW50LmdldE9wZXJhdGlvbigpID09PSBfb3BlcmF0aW9uczIuZGVmYXVsdC5QTlN1YnNjcmliZU9wZXJhdGlvbikge1xuXHQgICAgcmV0dXJuIGNhbGxJbnN0YW5jZTtcblx0ICB9XG5cblx0ICBpZiAocHJvbWlzZUNvbXBvbmVudCkge1xuXHQgICAgcmV0dXJuIHByb21pc2VDb21wb25lbnQucHJvbWlzZTtcblx0ICB9XG5cdH07XG5cblx0dmFyIF91dWlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgX3V1aWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXVpZCk7XG5cblx0dmFyIF9mbG93X2ludGVyZmFjZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxuXHR2YXIgX3V0aWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxzKTtcblxuXHR2YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cblx0dmFyIF9jb25maWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlnKTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5cdHZhciBQdWJOdWJFcnJvciA9IGZ1bmN0aW9uIChfRXJyb3IpIHtcblx0ICBfaW5oZXJpdHMoUHViTnViRXJyb3IsIF9FcnJvcik7XG5cblx0ICBmdW5jdGlvbiBQdWJOdWJFcnJvcihtZXNzYWdlLCBzdGF0dXMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQdWJOdWJFcnJvcik7XG5cblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQdWJOdWJFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFB1Yk51YkVycm9yKSkuY2FsbCh0aGlzLCBtZXNzYWdlKSk7XG5cblx0ICAgIF90aGlzLm5hbWUgPSBfdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuXHQgICAgX3RoaXMuc3RhdHVzID0gc3RhdHVzO1xuXHQgICAgX3RoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIFB1Yk51YkVycm9yO1xuXHR9KEVycm9yKTtcblxuXHRmdW5jdGlvbiBjcmVhdGVFcnJvcihlcnJvclBheWxvYWQsIHR5cGUpIHtcblx0ICBlcnJvclBheWxvYWQudHlwZSA9IHR5cGU7XG5cdCAgZXJyb3JQYXlsb2FkLmVycm9yID0gdHJ1ZTtcblx0ICByZXR1cm4gZXJyb3JQYXlsb2FkO1xuXHR9XG5cblx0ZnVuY3Rpb24gY3JlYXRlVmFsaWRhdGlvbkVycm9yKG1lc3NhZ2UpIHtcblx0ICByZXR1cm4gY3JlYXRlRXJyb3IoeyBtZXNzYWdlOiBtZXNzYWdlIH0sICd2YWxpZGF0aW9uRXJyb3InKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGRlY2lkZVVSTChlbmRwb2ludCwgbW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICBpZiAoZW5kcG9pbnQudXNlUG9zdCAmJiBlbmRwb2ludC51c2VQb3N0KG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSkge1xuXHQgICAgcmV0dXJuIGVuZHBvaW50LnBvc3RVUkwobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gZW5kcG9pbnQuZ2V0VVJMKG1vZHVsZXMsIGluY29taW5nUGFyYW1zKTtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiBnZW5lcmF0ZVBOU0RLKGNvbmZpZykge1xuXHQgIHZhciBiYXNlID0gJ1B1Yk51Yi1KUy0nICsgY29uZmlnLnNka0ZhbWlseTtcblxuXHQgIGlmIChjb25maWcucGFydG5lcklkKSB7XG5cdCAgICBiYXNlICs9ICctJyArIGNvbmZpZy5wYXJ0bmVySWQ7XG5cdCAgfVxuXG5cdCAgYmFzZSArPSAnLycgKyBjb25maWcuZ2V0VmVyc2lvbigpO1xuXG5cdCAgcmV0dXJuIGJhc2U7XG5cdH1cblxuXHRmdW5jdGlvbiBzaWduUmVxdWVzdChtb2R1bGVzLCB1cmwsIG91dGdvaW5nUGFyYW1zKSB7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnLFxuXHQgICAgICBjcnlwdG8gPSBtb2R1bGVzLmNyeXB0bztcblxuXG5cdCAgb3V0Z29pbmdQYXJhbXMudGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApO1xuXHQgIHZhciBzaWduSW5wdXQgPSBjb25maWcuc3Vic2NyaWJlS2V5ICsgJ1xcbicgKyBjb25maWcucHVibGlzaEtleSArICdcXG4nICsgdXJsICsgJ1xcbic7XG5cdCAgc2lnbklucHV0ICs9IF91dGlsczIuZGVmYXVsdC5zaWduUGFtRnJvbVBhcmFtcyhvdXRnb2luZ1BhcmFtcyk7XG5cblx0ICB2YXIgc2lnbmF0dXJlID0gY3J5cHRvLkhNQUNTSEEyNTYoc2lnbklucHV0KTtcblx0ICBzaWduYXR1cmUgPSBzaWduYXR1cmUucmVwbGFjZSgvXFwrL2csICctJyk7XG5cdCAgc2lnbmF0dXJlID0gc2lnbmF0dXJlLnJlcGxhY2UoL1xcLy9nLCAnXycpO1xuXG5cdCAgb3V0Z29pbmdQYXJhbXMuc2lnbmF0dXJlID0gc2lnbmF0dXJlO1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldE9wZXJhdGlvbiA9IGdldE9wZXJhdGlvbjtcblx0ZXhwb3J0cy52YWxpZGF0ZVBhcmFtcyA9IHZhbGlkYXRlUGFyYW1zO1xuXHRleHBvcnRzLmdldFVSTCA9IGdldFVSTDtcblx0ZXhwb3J0cy5nZXRSZXF1ZXN0VGltZW91dCA9IGdldFJlcXVlc3RUaW1lb3V0O1xuXHRleHBvcnRzLmlzQXV0aFN1cHBvcnRlZCA9IGlzQXV0aFN1cHBvcnRlZDtcblx0ZXhwb3J0cy5wcmVwYXJlUGFyYW1zID0gcHJlcGFyZVBhcmFtcztcblx0ZXhwb3J0cy5oYW5kbGVSZXNwb25zZSA9IGhhbmRsZVJlc3BvbnNlO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG5cdHZhciBfdXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHMpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gZ2V0T3BlcmF0aW9uKCkge1xuXHQgIHJldHVybiBfb3BlcmF0aW9uczIuZGVmYXVsdC5QTkFkZENoYW5uZWxzVG9Hcm91cE9wZXJhdGlvbjtcblx0fVxuXG5cdGZ1bmN0aW9uIHZhbGlkYXRlUGFyYW1zKG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSB7XG5cdCAgdmFyIGNoYW5uZWxzID0gaW5jb21pbmdQYXJhbXMuY2hhbm5lbHMsXG5cdCAgICAgIGNoYW5uZWxHcm91cCA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxHcm91cDtcblx0ICB2YXIgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cblxuXHQgIGlmICghY2hhbm5lbEdyb3VwKSByZXR1cm4gJ01pc3NpbmcgQ2hhbm5lbCBHcm91cCc7XG5cdCAgaWYgKCFjaGFubmVscyB8fCBjaGFubmVscy5sZW5ndGggPT09IDApIHJldHVybiAnTWlzc2luZyBDaGFubmVscyc7XG5cdCAgaWYgKCFjb25maWcuc3Vic2NyaWJlS2V5KSByZXR1cm4gJ01pc3NpbmcgU3Vic2NyaWJlIEtleSc7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRVUkwobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgY2hhbm5lbEdyb3VwID0gaW5jb21pbmdQYXJhbXMuY2hhbm5lbEdyb3VwO1xuXHQgIHZhciBjb25maWcgPSBtb2R1bGVzLmNvbmZpZztcblxuXHQgIHJldHVybiAnL3YxL2NoYW5uZWwtcmVnaXN0cmF0aW9uL3N1Yi1rZXkvJyArIGNvbmZpZy5zdWJzY3JpYmVLZXkgKyAnL2NoYW5uZWwtZ3JvdXAvJyArIF91dGlsczIuZGVmYXVsdC5lbmNvZGVTdHJpbmcoY2hhbm5lbEdyb3VwKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFJlcXVlc3RUaW1lb3V0KF9yZWYpIHtcblx0ICB2YXIgY29uZmlnID0gX3JlZi5jb25maWc7XG5cblx0ICByZXR1cm4gY29uZmlnLmdldFRyYW5zYWN0aW9uVGltZW91dCgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNBdXRoU3VwcG9ydGVkKCkge1xuXHQgIHJldHVybiB0cnVlO1xuXHR9XG5cblx0ZnVuY3Rpb24gcHJlcGFyZVBhcmFtcyhtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBfaW5jb21pbmdQYXJhbXMkY2hhbm4gPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVscyxcblx0ICAgICAgY2hhbm5lbHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm4gPT09IHVuZGVmaW5lZCA/IFtdIDogX2luY29taW5nUGFyYW1zJGNoYW5uO1xuXG5cblx0ICByZXR1cm4ge1xuXHQgICAgYWRkOiBjaGFubmVscy5qb2luKCcsJylcblx0ICB9O1xuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2UoKSB7XG5cdCAgcmV0dXJuIHt9O1xuXHR9XG5cbi8qKiovIH0sXG4vKiAyNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldE9wZXJhdGlvbiA9IGdldE9wZXJhdGlvbjtcblx0ZXhwb3J0cy52YWxpZGF0ZVBhcmFtcyA9IHZhbGlkYXRlUGFyYW1zO1xuXHRleHBvcnRzLmdldFVSTCA9IGdldFVSTDtcblx0ZXhwb3J0cy5nZXRSZXF1ZXN0VGltZW91dCA9IGdldFJlcXVlc3RUaW1lb3V0O1xuXHRleHBvcnRzLmlzQXV0aFN1cHBvcnRlZCA9IGlzQXV0aFN1cHBvcnRlZDtcblx0ZXhwb3J0cy5wcmVwYXJlUGFyYW1zID0gcHJlcGFyZVBhcmFtcztcblx0ZXhwb3J0cy5oYW5kbGVSZXNwb25zZSA9IGhhbmRsZVJlc3BvbnNlO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG5cdHZhciBfdXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHMpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gZ2V0T3BlcmF0aW9uKCkge1xuXHQgIHJldHVybiBfb3BlcmF0aW9uczIuZGVmYXVsdC5QTlJlbW92ZUNoYW5uZWxzRnJvbUdyb3VwT3BlcmF0aW9uO1xuXHR9XG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVQYXJhbXMobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgY2hhbm5lbHMgPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVscyxcblx0ICAgICAgY2hhbm5lbEdyb3VwID0gaW5jb21pbmdQYXJhbXMuY2hhbm5lbEdyb3VwO1xuXHQgIHZhciBjb25maWcgPSBtb2R1bGVzLmNvbmZpZztcblxuXG5cdCAgaWYgKCFjaGFubmVsR3JvdXApIHJldHVybiAnTWlzc2luZyBDaGFubmVsIEdyb3VwJztcblx0ICBpZiAoIWNoYW5uZWxzIHx8IGNoYW5uZWxzLmxlbmd0aCA9PT0gMCkgcmV0dXJuICdNaXNzaW5nIENoYW5uZWxzJztcblx0ICBpZiAoIWNvbmZpZy5zdWJzY3JpYmVLZXkpIHJldHVybiAnTWlzc2luZyBTdWJzY3JpYmUgS2V5Jztcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFVSTChtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBjaGFubmVsR3JvdXAgPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVsR3JvdXA7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXG5cdCAgcmV0dXJuICcvdjEvY2hhbm5lbC1yZWdpc3RyYXRpb24vc3ViLWtleS8nICsgY29uZmlnLnN1YnNjcmliZUtleSArICcvY2hhbm5lbC1ncm91cC8nICsgX3V0aWxzMi5kZWZhdWx0LmVuY29kZVN0cmluZyhjaGFubmVsR3JvdXApO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0UmVxdWVzdFRpbWVvdXQoX3JlZikge1xuXHQgIHZhciBjb25maWcgPSBfcmVmLmNvbmZpZztcblxuXHQgIHJldHVybiBjb25maWcuZ2V0VHJhbnNhY3Rpb25UaW1lb3V0KCk7XG5cdH1cblxuXHRmdW5jdGlvbiBpc0F1dGhTdXBwb3J0ZWQoKSB7XG5cdCAgcmV0dXJuIHRydWU7XG5cdH1cblxuXHRmdW5jdGlvbiBwcmVwYXJlUGFyYW1zKG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSB7XG5cdCAgdmFyIF9pbmNvbWluZ1BhcmFtcyRjaGFubiA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxzLFxuXHQgICAgICBjaGFubmVscyA9IF9pbmNvbWluZ1BhcmFtcyRjaGFubiA9PT0gdW5kZWZpbmVkID8gW10gOiBfaW5jb21pbmdQYXJhbXMkY2hhbm47XG5cblxuXHQgIHJldHVybiB7XG5cdCAgICByZW1vdmU6IGNoYW5uZWxzLmpvaW4oJywnKVxuXHQgIH07XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVSZXNwb25zZSgpIHtcblx0ICByZXR1cm4ge307XG5cdH1cblxuLyoqKi8gfSxcbi8qIDI3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZ2V0T3BlcmF0aW9uID0gZ2V0T3BlcmF0aW9uO1xuXHRleHBvcnRzLnZhbGlkYXRlUGFyYW1zID0gdmFsaWRhdGVQYXJhbXM7XG5cdGV4cG9ydHMuZ2V0VVJMID0gZ2V0VVJMO1xuXHRleHBvcnRzLmlzQXV0aFN1cHBvcnRlZCA9IGlzQXV0aFN1cHBvcnRlZDtcblx0ZXhwb3J0cy5nZXRSZXF1ZXN0VGltZW91dCA9IGdldFJlcXVlc3RUaW1lb3V0O1xuXHRleHBvcnRzLnByZXBhcmVQYXJhbXMgPSBwcmVwYXJlUGFyYW1zO1xuXHRleHBvcnRzLmhhbmRsZVJlc3BvbnNlID0gaGFuZGxlUmVzcG9uc2U7XG5cblx0dmFyIF9mbG93X2ludGVyZmFjZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5cdHZhciBfb3BlcmF0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXG5cdHZhciBfb3BlcmF0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vcGVyYXRpb25zKTtcblxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cblx0dmFyIF91dGlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlscyk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRmdW5jdGlvbiBnZXRPcGVyYXRpb24oKSB7XG5cdCAgcmV0dXJuIF9vcGVyYXRpb25zMi5kZWZhdWx0LlBOUmVtb3ZlR3JvdXBPcGVyYXRpb247XG5cdH1cblxuXHRmdW5jdGlvbiB2YWxpZGF0ZVBhcmFtcyhtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBjaGFubmVsR3JvdXAgPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVsR3JvdXA7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXG5cblx0ICBpZiAoIWNoYW5uZWxHcm91cCkgcmV0dXJuICdNaXNzaW5nIENoYW5uZWwgR3JvdXAnO1xuXHQgIGlmICghY29uZmlnLnN1YnNjcmliZUtleSkgcmV0dXJuICdNaXNzaW5nIFN1YnNjcmliZSBLZXknO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0VVJMKG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSB7XG5cdCAgdmFyIGNoYW5uZWxHcm91cCA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxHcm91cDtcblx0ICB2YXIgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cblx0ICByZXR1cm4gJy92MS9jaGFubmVsLXJlZ2lzdHJhdGlvbi9zdWIta2V5LycgKyBjb25maWcuc3Vic2NyaWJlS2V5ICsgJy9jaGFubmVsLWdyb3VwLycgKyBfdXRpbHMyLmRlZmF1bHQuZW5jb2RlU3RyaW5nKGNoYW5uZWxHcm91cCkgKyAnL3JlbW92ZSc7XG5cdH1cblxuXHRmdW5jdGlvbiBpc0F1dGhTdXBwb3J0ZWQoKSB7XG5cdCAgcmV0dXJuIHRydWU7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRSZXF1ZXN0VGltZW91dChfcmVmKSB7XG5cdCAgdmFyIGNvbmZpZyA9IF9yZWYuY29uZmlnO1xuXG5cdCAgcmV0dXJuIGNvbmZpZy5nZXRUcmFuc2FjdGlvblRpbWVvdXQoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHByZXBhcmVQYXJhbXMoKSB7XG5cdCAgcmV0dXJuIHt9O1xuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2UoKSB7XG5cdCAgcmV0dXJuIHt9O1xuXHR9XG5cbi8qKiovIH0sXG4vKiAyOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldE9wZXJhdGlvbiA9IGdldE9wZXJhdGlvbjtcblx0ZXhwb3J0cy52YWxpZGF0ZVBhcmFtcyA9IHZhbGlkYXRlUGFyYW1zO1xuXHRleHBvcnRzLmdldFVSTCA9IGdldFVSTDtcblx0ZXhwb3J0cy5nZXRSZXF1ZXN0VGltZW91dCA9IGdldFJlcXVlc3RUaW1lb3V0O1xuXHRleHBvcnRzLmlzQXV0aFN1cHBvcnRlZCA9IGlzQXV0aFN1cHBvcnRlZDtcblx0ZXhwb3J0cy5wcmVwYXJlUGFyYW1zID0gcHJlcGFyZVBhcmFtcztcblx0ZXhwb3J0cy5oYW5kbGVSZXNwb25zZSA9IGhhbmRsZVJlc3BvbnNlO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRmdW5jdGlvbiBnZXRPcGVyYXRpb24oKSB7XG5cdCAgcmV0dXJuIF9vcGVyYXRpb25zMi5kZWZhdWx0LlBOQ2hhbm5lbEdyb3Vwc09wZXJhdGlvbjtcblx0fVxuXG5cdGZ1bmN0aW9uIHZhbGlkYXRlUGFyYW1zKG1vZHVsZXMpIHtcblx0ICB2YXIgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cblxuXHQgIGlmICghY29uZmlnLnN1YnNjcmliZUtleSkgcmV0dXJuICdNaXNzaW5nIFN1YnNjcmliZSBLZXknO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0VVJMKG1vZHVsZXMpIHtcblx0ICB2YXIgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cblx0ICByZXR1cm4gJy92MS9jaGFubmVsLXJlZ2lzdHJhdGlvbi9zdWIta2V5LycgKyBjb25maWcuc3Vic2NyaWJlS2V5ICsgJy9jaGFubmVsLWdyb3VwJztcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFJlcXVlc3RUaW1lb3V0KF9yZWYpIHtcblx0ICB2YXIgY29uZmlnID0gX3JlZi5jb25maWc7XG5cblx0ICByZXR1cm4gY29uZmlnLmdldFRyYW5zYWN0aW9uVGltZW91dCgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNBdXRoU3VwcG9ydGVkKCkge1xuXHQgIHJldHVybiB0cnVlO1xuXHR9XG5cblx0ZnVuY3Rpb24gcHJlcGFyZVBhcmFtcygpIHtcblx0ICByZXR1cm4ge307XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShtb2R1bGVzLCBzZXJ2ZXJSZXNwb25zZSkge1xuXHQgIHJldHVybiB7XG5cdCAgICBncm91cHM6IHNlcnZlclJlc3BvbnNlLnBheWxvYWQuZ3JvdXBzXG5cdCAgfTtcblx0fVxuXG4vKioqLyB9LFxuLyogMjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5nZXRPcGVyYXRpb24gPSBnZXRPcGVyYXRpb247XG5cdGV4cG9ydHMudmFsaWRhdGVQYXJhbXMgPSB2YWxpZGF0ZVBhcmFtcztcblx0ZXhwb3J0cy5nZXRVUkwgPSBnZXRVUkw7XG5cdGV4cG9ydHMuZ2V0UmVxdWVzdFRpbWVvdXQgPSBnZXRSZXF1ZXN0VGltZW91dDtcblx0ZXhwb3J0cy5pc0F1dGhTdXBwb3J0ZWQgPSBpc0F1dGhTdXBwb3J0ZWQ7XG5cdGV4cG9ydHMucHJlcGFyZVBhcmFtcyA9IHByZXBhcmVQYXJhbXM7XG5cdGV4cG9ydHMuaGFuZGxlUmVzcG9uc2UgPSBoYW5kbGVSZXNwb25zZTtcblxuXHR2YXIgX2Zsb3dfaW50ZXJmYWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cblx0dmFyIF9vcGVyYXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cblx0dmFyIF9vcGVyYXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29wZXJhdGlvbnMpO1xuXG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxuXHR2YXIgX3V0aWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxzKTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5cdGZ1bmN0aW9uIGdldE9wZXJhdGlvbigpIHtcblx0ICByZXR1cm4gX29wZXJhdGlvbnMyLmRlZmF1bHQuUE5DaGFubmVsc0Zvckdyb3VwT3BlcmF0aW9uO1xuXHR9XG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVQYXJhbXMobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgY2hhbm5lbEdyb3VwID0gaW5jb21pbmdQYXJhbXMuY2hhbm5lbEdyb3VwO1xuXHQgIHZhciBjb25maWcgPSBtb2R1bGVzLmNvbmZpZztcblxuXG5cdCAgaWYgKCFjaGFubmVsR3JvdXApIHJldHVybiAnTWlzc2luZyBDaGFubmVsIEdyb3VwJztcblx0ICBpZiAoIWNvbmZpZy5zdWJzY3JpYmVLZXkpIHJldHVybiAnTWlzc2luZyBTdWJzY3JpYmUgS2V5Jztcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFVSTChtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBjaGFubmVsR3JvdXAgPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVsR3JvdXA7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXG5cdCAgcmV0dXJuICcvdjEvY2hhbm5lbC1yZWdpc3RyYXRpb24vc3ViLWtleS8nICsgY29uZmlnLnN1YnNjcmliZUtleSArICcvY2hhbm5lbC1ncm91cC8nICsgX3V0aWxzMi5kZWZhdWx0LmVuY29kZVN0cmluZyhjaGFubmVsR3JvdXApO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0UmVxdWVzdFRpbWVvdXQoX3JlZikge1xuXHQgIHZhciBjb25maWcgPSBfcmVmLmNvbmZpZztcblxuXHQgIHJldHVybiBjb25maWcuZ2V0VHJhbnNhY3Rpb25UaW1lb3V0KCk7XG5cdH1cblxuXHRmdW5jdGlvbiBpc0F1dGhTdXBwb3J0ZWQoKSB7XG5cdCAgcmV0dXJuIHRydWU7XG5cdH1cblxuXHRmdW5jdGlvbiBwcmVwYXJlUGFyYW1zKCkge1xuXHQgIHJldHVybiB7fTtcblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKG1vZHVsZXMsIHNlcnZlclJlc3BvbnNlKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIGNoYW5uZWxzOiBzZXJ2ZXJSZXNwb25zZS5wYXlsb2FkLmNoYW5uZWxzXG5cdCAgfTtcblx0fVxuXG4vKioqLyB9LFxuLyogMzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5nZXRPcGVyYXRpb24gPSBnZXRPcGVyYXRpb247XG5cdGV4cG9ydHMudmFsaWRhdGVQYXJhbXMgPSB2YWxpZGF0ZVBhcmFtcztcblx0ZXhwb3J0cy5nZXRVUkwgPSBnZXRVUkw7XG5cdGV4cG9ydHMuZ2V0UmVxdWVzdFRpbWVvdXQgPSBnZXRSZXF1ZXN0VGltZW91dDtcblx0ZXhwb3J0cy5pc0F1dGhTdXBwb3J0ZWQgPSBpc0F1dGhTdXBwb3J0ZWQ7XG5cdGV4cG9ydHMucHJlcGFyZVBhcmFtcyA9IHByZXBhcmVQYXJhbXM7XG5cdGV4cG9ydHMuaGFuZGxlUmVzcG9uc2UgPSBoYW5kbGVSZXNwb25zZTtcblxuXHR2YXIgX2Zsb3dfaW50ZXJmYWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cblx0dmFyIF9vcGVyYXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cblx0dmFyIF9vcGVyYXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29wZXJhdGlvbnMpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gZ2V0T3BlcmF0aW9uKCkge1xuXHQgIHJldHVybiBfb3BlcmF0aW9uczIuZGVmYXVsdC5QTlB1c2hOb3RpZmljYXRpb25FbmFibGVkQ2hhbm5lbHNPcGVyYXRpb247XG5cdH1cblxuXHRmdW5jdGlvbiB2YWxpZGF0ZVBhcmFtcyhtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBkZXZpY2UgPSBpbmNvbWluZ1BhcmFtcy5kZXZpY2UsXG5cdCAgICAgIHB1c2hHYXRld2F5ID0gaW5jb21pbmdQYXJhbXMucHVzaEdhdGV3YXksXG5cdCAgICAgIGNoYW5uZWxzID0gaW5jb21pbmdQYXJhbXMuY2hhbm5lbHM7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXG5cblx0ICBpZiAoIWRldmljZSkgcmV0dXJuICdNaXNzaW5nIERldmljZSBJRCAoZGV2aWNlKSc7XG5cdCAgaWYgKCFwdXNoR2F0ZXdheSkgcmV0dXJuICdNaXNzaW5nIEdXIFR5cGUgKHB1c2hHYXRld2F5OiBnY20gb3IgYXBucyknO1xuXHQgIGlmICghY2hhbm5lbHMgfHwgY2hhbm5lbHMubGVuZ3RoID09PSAwKSByZXR1cm4gJ01pc3NpbmcgQ2hhbm5lbHMnO1xuXHQgIGlmICghY29uZmlnLnN1YnNjcmliZUtleSkgcmV0dXJuICdNaXNzaW5nIFN1YnNjcmliZSBLZXknO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0VVJMKG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSB7XG5cdCAgdmFyIGRldmljZSA9IGluY29taW5nUGFyYW1zLmRldmljZTtcblx0ICB2YXIgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cblx0ICByZXR1cm4gJy92MS9wdXNoL3N1Yi1rZXkvJyArIGNvbmZpZy5zdWJzY3JpYmVLZXkgKyAnL2RldmljZXMvJyArIGRldmljZTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFJlcXVlc3RUaW1lb3V0KF9yZWYpIHtcblx0ICB2YXIgY29uZmlnID0gX3JlZi5jb25maWc7XG5cblx0ICByZXR1cm4gY29uZmlnLmdldFRyYW5zYWN0aW9uVGltZW91dCgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNBdXRoU3VwcG9ydGVkKCkge1xuXHQgIHJldHVybiB0cnVlO1xuXHR9XG5cblx0ZnVuY3Rpb24gcHJlcGFyZVBhcmFtcyhtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBwdXNoR2F0ZXdheSA9IGluY29taW5nUGFyYW1zLnB1c2hHYXRld2F5LFxuXHQgICAgICBfaW5jb21pbmdQYXJhbXMkY2hhbm4gPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVscyxcblx0ICAgICAgY2hhbm5lbHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm4gPT09IHVuZGVmaW5lZCA/IFtdIDogX2luY29taW5nUGFyYW1zJGNoYW5uO1xuXG5cdCAgcmV0dXJuIHsgdHlwZTogcHVzaEdhdGV3YXksIGFkZDogY2hhbm5lbHMuam9pbignLCcpIH07XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVSZXNwb25zZSgpIHtcblx0ICByZXR1cm4ge307XG5cdH1cblxuLyoqKi8gfSxcbi8qIDMxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZ2V0T3BlcmF0aW9uID0gZ2V0T3BlcmF0aW9uO1xuXHRleHBvcnRzLnZhbGlkYXRlUGFyYW1zID0gdmFsaWRhdGVQYXJhbXM7XG5cdGV4cG9ydHMuZ2V0VVJMID0gZ2V0VVJMO1xuXHRleHBvcnRzLmdldFJlcXVlc3RUaW1lb3V0ID0gZ2V0UmVxdWVzdFRpbWVvdXQ7XG5cdGV4cG9ydHMuaXNBdXRoU3VwcG9ydGVkID0gaXNBdXRoU3VwcG9ydGVkO1xuXHRleHBvcnRzLnByZXBhcmVQYXJhbXMgPSBwcmVwYXJlUGFyYW1zO1xuXHRleHBvcnRzLmhhbmRsZVJlc3BvbnNlID0gaGFuZGxlUmVzcG9uc2U7XG5cblx0dmFyIF9mbG93X2ludGVyZmFjZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5cdHZhciBfb3BlcmF0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXG5cdHZhciBfb3BlcmF0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vcGVyYXRpb25zKTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5cdGZ1bmN0aW9uIGdldE9wZXJhdGlvbigpIHtcblx0ICByZXR1cm4gX29wZXJhdGlvbnMyLmRlZmF1bHQuUE5QdXNoTm90aWZpY2F0aW9uRW5hYmxlZENoYW5uZWxzT3BlcmF0aW9uO1xuXHR9XG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVQYXJhbXMobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgZGV2aWNlID0gaW5jb21pbmdQYXJhbXMuZGV2aWNlLFxuXHQgICAgICBwdXNoR2F0ZXdheSA9IGluY29taW5nUGFyYW1zLnB1c2hHYXRld2F5LFxuXHQgICAgICBjaGFubmVscyA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxzO1xuXHQgIHZhciBjb25maWcgPSBtb2R1bGVzLmNvbmZpZztcblxuXG5cdCAgaWYgKCFkZXZpY2UpIHJldHVybiAnTWlzc2luZyBEZXZpY2UgSUQgKGRldmljZSknO1xuXHQgIGlmICghcHVzaEdhdGV3YXkpIHJldHVybiAnTWlzc2luZyBHVyBUeXBlIChwdXNoR2F0ZXdheTogZ2NtIG9yIGFwbnMpJztcblx0ICBpZiAoIWNoYW5uZWxzIHx8IGNoYW5uZWxzLmxlbmd0aCA9PT0gMCkgcmV0dXJuICdNaXNzaW5nIENoYW5uZWxzJztcblx0ICBpZiAoIWNvbmZpZy5zdWJzY3JpYmVLZXkpIHJldHVybiAnTWlzc2luZyBTdWJzY3JpYmUgS2V5Jztcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFVSTChtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBkZXZpY2UgPSBpbmNvbWluZ1BhcmFtcy5kZXZpY2U7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXG5cdCAgcmV0dXJuICcvdjEvcHVzaC9zdWIta2V5LycgKyBjb25maWcuc3Vic2NyaWJlS2V5ICsgJy9kZXZpY2VzLycgKyBkZXZpY2U7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRSZXF1ZXN0VGltZW91dChfcmVmKSB7XG5cdCAgdmFyIGNvbmZpZyA9IF9yZWYuY29uZmlnO1xuXG5cdCAgcmV0dXJuIGNvbmZpZy5nZXRUcmFuc2FjdGlvblRpbWVvdXQoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlzQXV0aFN1cHBvcnRlZCgpIHtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGZ1bmN0aW9uIHByZXBhcmVQYXJhbXMobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgcHVzaEdhdGV3YXkgPSBpbmNvbWluZ1BhcmFtcy5wdXNoR2F0ZXdheSxcblx0ICAgICAgX2luY29taW5nUGFyYW1zJGNoYW5uID0gaW5jb21pbmdQYXJhbXMuY2hhbm5lbHMsXG5cdCAgICAgIGNoYW5uZWxzID0gX2luY29taW5nUGFyYW1zJGNoYW5uID09PSB1bmRlZmluZWQgPyBbXSA6IF9pbmNvbWluZ1BhcmFtcyRjaGFubjtcblxuXHQgIHJldHVybiB7IHR5cGU6IHB1c2hHYXRld2F5LCByZW1vdmU6IGNoYW5uZWxzLmpvaW4oJywnKSB9O1xuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2UoKSB7XG5cdCAgcmV0dXJuIHt9O1xuXHR9XG5cbi8qKiovIH0sXG4vKiAzMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldE9wZXJhdGlvbiA9IGdldE9wZXJhdGlvbjtcblx0ZXhwb3J0cy52YWxpZGF0ZVBhcmFtcyA9IHZhbGlkYXRlUGFyYW1zO1xuXHRleHBvcnRzLmdldFVSTCA9IGdldFVSTDtcblx0ZXhwb3J0cy5nZXRSZXF1ZXN0VGltZW91dCA9IGdldFJlcXVlc3RUaW1lb3V0O1xuXHRleHBvcnRzLmlzQXV0aFN1cHBvcnRlZCA9IGlzQXV0aFN1cHBvcnRlZDtcblx0ZXhwb3J0cy5wcmVwYXJlUGFyYW1zID0gcHJlcGFyZVBhcmFtcztcblx0ZXhwb3J0cy5oYW5kbGVSZXNwb25zZSA9IGhhbmRsZVJlc3BvbnNlO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRmdW5jdGlvbiBnZXRPcGVyYXRpb24oKSB7XG5cdCAgcmV0dXJuIF9vcGVyYXRpb25zMi5kZWZhdWx0LlBOUHVzaE5vdGlmaWNhdGlvbkVuYWJsZWRDaGFubmVsc09wZXJhdGlvbjtcblx0fVxuXG5cdGZ1bmN0aW9uIHZhbGlkYXRlUGFyYW1zKG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSB7XG5cdCAgdmFyIGRldmljZSA9IGluY29taW5nUGFyYW1zLmRldmljZSxcblx0ICAgICAgcHVzaEdhdGV3YXkgPSBpbmNvbWluZ1BhcmFtcy5wdXNoR2F0ZXdheTtcblx0ICB2YXIgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cblxuXHQgIGlmICghZGV2aWNlKSByZXR1cm4gJ01pc3NpbmcgRGV2aWNlIElEIChkZXZpY2UpJztcblx0ICBpZiAoIXB1c2hHYXRld2F5KSByZXR1cm4gJ01pc3NpbmcgR1cgVHlwZSAocHVzaEdhdGV3YXk6IGdjbSBvciBhcG5zKSc7XG5cdCAgaWYgKCFjb25maWcuc3Vic2NyaWJlS2V5KSByZXR1cm4gJ01pc3NpbmcgU3Vic2NyaWJlIEtleSc7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRVUkwobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgZGV2aWNlID0gaW5jb21pbmdQYXJhbXMuZGV2aWNlO1xuXHQgIHZhciBjb25maWcgPSBtb2R1bGVzLmNvbmZpZztcblxuXHQgIHJldHVybiAnL3YxL3B1c2gvc3ViLWtleS8nICsgY29uZmlnLnN1YnNjcmliZUtleSArICcvZGV2aWNlcy8nICsgZGV2aWNlO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0UmVxdWVzdFRpbWVvdXQoX3JlZikge1xuXHQgIHZhciBjb25maWcgPSBfcmVmLmNvbmZpZztcblxuXHQgIHJldHVybiBjb25maWcuZ2V0VHJhbnNhY3Rpb25UaW1lb3V0KCk7XG5cdH1cblxuXHRmdW5jdGlvbiBpc0F1dGhTdXBwb3J0ZWQoKSB7XG5cdCAgcmV0dXJuIHRydWU7XG5cdH1cblxuXHRmdW5jdGlvbiBwcmVwYXJlUGFyYW1zKG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSB7XG5cdCAgdmFyIHB1c2hHYXRld2F5ID0gaW5jb21pbmdQYXJhbXMucHVzaEdhdGV3YXk7XG5cblx0ICByZXR1cm4geyB0eXBlOiBwdXNoR2F0ZXdheSB9O1xuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2UobW9kdWxlcywgc2VydmVyUmVzcG9uc2UpIHtcblx0ICByZXR1cm4geyBjaGFubmVsczogc2VydmVyUmVzcG9uc2UgfTtcblx0fVxuXG4vKioqLyB9LFxuLyogMzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5nZXRPcGVyYXRpb24gPSBnZXRPcGVyYXRpb247XG5cdGV4cG9ydHMudmFsaWRhdGVQYXJhbXMgPSB2YWxpZGF0ZVBhcmFtcztcblx0ZXhwb3J0cy5nZXRVUkwgPSBnZXRVUkw7XG5cdGV4cG9ydHMuZ2V0UmVxdWVzdFRpbWVvdXQgPSBnZXRSZXF1ZXN0VGltZW91dDtcblx0ZXhwb3J0cy5pc0F1dGhTdXBwb3J0ZWQgPSBpc0F1dGhTdXBwb3J0ZWQ7XG5cdGV4cG9ydHMucHJlcGFyZVBhcmFtcyA9IHByZXBhcmVQYXJhbXM7XG5cdGV4cG9ydHMuaGFuZGxlUmVzcG9uc2UgPSBoYW5kbGVSZXNwb25zZTtcblxuXHR2YXIgX2Zsb3dfaW50ZXJmYWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cblx0dmFyIF9vcGVyYXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cblx0dmFyIF9vcGVyYXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29wZXJhdGlvbnMpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gZ2V0T3BlcmF0aW9uKCkge1xuXHQgIHJldHVybiBfb3BlcmF0aW9uczIuZGVmYXVsdC5QTlJlbW92ZUFsbFB1c2hOb3RpZmljYXRpb25zT3BlcmF0aW9uO1xuXHR9XG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVQYXJhbXMobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgZGV2aWNlID0gaW5jb21pbmdQYXJhbXMuZGV2aWNlLFxuXHQgICAgICBwdXNoR2F0ZXdheSA9IGluY29taW5nUGFyYW1zLnB1c2hHYXRld2F5O1xuXHQgIHZhciBjb25maWcgPSBtb2R1bGVzLmNvbmZpZztcblxuXG5cdCAgaWYgKCFkZXZpY2UpIHJldHVybiAnTWlzc2luZyBEZXZpY2UgSUQgKGRldmljZSknO1xuXHQgIGlmICghcHVzaEdhdGV3YXkpIHJldHVybiAnTWlzc2luZyBHVyBUeXBlIChwdXNoR2F0ZXdheTogZ2NtIG9yIGFwbnMpJztcblx0ICBpZiAoIWNvbmZpZy5zdWJzY3JpYmVLZXkpIHJldHVybiAnTWlzc2luZyBTdWJzY3JpYmUgS2V5Jztcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFVSTChtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBkZXZpY2UgPSBpbmNvbWluZ1BhcmFtcy5kZXZpY2U7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXG5cdCAgcmV0dXJuICcvdjEvcHVzaC9zdWIta2V5LycgKyBjb25maWcuc3Vic2NyaWJlS2V5ICsgJy9kZXZpY2VzLycgKyBkZXZpY2UgKyAnL3JlbW92ZSc7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRSZXF1ZXN0VGltZW91dChfcmVmKSB7XG5cdCAgdmFyIGNvbmZpZyA9IF9yZWYuY29uZmlnO1xuXG5cdCAgcmV0dXJuIGNvbmZpZy5nZXRUcmFuc2FjdGlvblRpbWVvdXQoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlzQXV0aFN1cHBvcnRlZCgpIHtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGZ1bmN0aW9uIHByZXBhcmVQYXJhbXMobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgcHVzaEdhdGV3YXkgPSBpbmNvbWluZ1BhcmFtcy5wdXNoR2F0ZXdheTtcblxuXHQgIHJldHVybiB7IHR5cGU6IHB1c2hHYXRld2F5IH07XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVSZXNwb25zZSgpIHtcblx0ICByZXR1cm4ge307XG5cdH1cblxuLyoqKi8gfSxcbi8qIDM0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZ2V0T3BlcmF0aW9uID0gZ2V0T3BlcmF0aW9uO1xuXHRleHBvcnRzLnZhbGlkYXRlUGFyYW1zID0gdmFsaWRhdGVQYXJhbXM7XG5cdGV4cG9ydHMuZ2V0VVJMID0gZ2V0VVJMO1xuXHRleHBvcnRzLmdldFJlcXVlc3RUaW1lb3V0ID0gZ2V0UmVxdWVzdFRpbWVvdXQ7XG5cdGV4cG9ydHMuaXNBdXRoU3VwcG9ydGVkID0gaXNBdXRoU3VwcG9ydGVkO1xuXHRleHBvcnRzLnByZXBhcmVQYXJhbXMgPSBwcmVwYXJlUGFyYW1zO1xuXHRleHBvcnRzLmhhbmRsZVJlc3BvbnNlID0gaGFuZGxlUmVzcG9uc2U7XG5cblx0dmFyIF9mbG93X2ludGVyZmFjZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5cdHZhciBfb3BlcmF0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXG5cdHZhciBfb3BlcmF0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vcGVyYXRpb25zKTtcblxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cblx0dmFyIF91dGlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlscyk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRmdW5jdGlvbiBnZXRPcGVyYXRpb24oKSB7XG5cdCAgcmV0dXJuIF9vcGVyYXRpb25zMi5kZWZhdWx0LlBOVW5zdWJzY3JpYmVPcGVyYXRpb247XG5cdH1cblxuXHRmdW5jdGlvbiB2YWxpZGF0ZVBhcmFtcyhtb2R1bGVzKSB7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXG5cblx0ICBpZiAoIWNvbmZpZy5zdWJzY3JpYmVLZXkpIHJldHVybiAnTWlzc2luZyBTdWJzY3JpYmUgS2V5Jztcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFVSTChtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBjb25maWcgPSBtb2R1bGVzLmNvbmZpZztcblx0ICB2YXIgX2luY29taW5nUGFyYW1zJGNoYW5uID0gaW5jb21pbmdQYXJhbXMuY2hhbm5lbHMsXG5cdCAgICAgIGNoYW5uZWxzID0gX2luY29taW5nUGFyYW1zJGNoYW5uID09PSB1bmRlZmluZWQgPyBbXSA6IF9pbmNvbWluZ1BhcmFtcyRjaGFubjtcblxuXHQgIHZhciBzdHJpbmdpZmllZENoYW5uZWxzID0gY2hhbm5lbHMubGVuZ3RoID4gMCA/IGNoYW5uZWxzLmpvaW4oJywnKSA6ICcsJztcblx0ICByZXR1cm4gJy92Mi9wcmVzZW5jZS9zdWIta2V5LycgKyBjb25maWcuc3Vic2NyaWJlS2V5ICsgJy9jaGFubmVsLycgKyBfdXRpbHMyLmRlZmF1bHQuZW5jb2RlU3RyaW5nKHN0cmluZ2lmaWVkQ2hhbm5lbHMpICsgJy9sZWF2ZSc7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRSZXF1ZXN0VGltZW91dChfcmVmKSB7XG5cdCAgdmFyIGNvbmZpZyA9IF9yZWYuY29uZmlnO1xuXG5cdCAgcmV0dXJuIGNvbmZpZy5nZXRUcmFuc2FjdGlvblRpbWVvdXQoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlzQXV0aFN1cHBvcnRlZCgpIHtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGZ1bmN0aW9uIHByZXBhcmVQYXJhbXMobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgX2luY29taW5nUGFyYW1zJGNoYW5uMiA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxHcm91cHMsXG5cdCAgICAgIGNoYW5uZWxHcm91cHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm4yID09PSB1bmRlZmluZWQgPyBbXSA6IF9pbmNvbWluZ1BhcmFtcyRjaGFubjI7XG5cblx0ICB2YXIgcGFyYW1zID0ge307XG5cblx0ICBpZiAoY2hhbm5lbEdyb3Vwcy5sZW5ndGggPiAwKSB7XG5cdCAgICBwYXJhbXNbJ2NoYW5uZWwtZ3JvdXAnXSA9IGNoYW5uZWxHcm91cHMuam9pbignLCcpO1xuXHQgIH1cblxuXHQgIHJldHVybiBwYXJhbXM7XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVSZXNwb25zZSgpIHtcblx0ICByZXR1cm4ge307XG5cdH1cblxuLyoqKi8gfSxcbi8qIDM1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZ2V0T3BlcmF0aW9uID0gZ2V0T3BlcmF0aW9uO1xuXHRleHBvcnRzLnZhbGlkYXRlUGFyYW1zID0gdmFsaWRhdGVQYXJhbXM7XG5cdGV4cG9ydHMuZ2V0VVJMID0gZ2V0VVJMO1xuXHRleHBvcnRzLmdldFJlcXVlc3RUaW1lb3V0ID0gZ2V0UmVxdWVzdFRpbWVvdXQ7XG5cdGV4cG9ydHMuaXNBdXRoU3VwcG9ydGVkID0gaXNBdXRoU3VwcG9ydGVkO1xuXHRleHBvcnRzLnByZXBhcmVQYXJhbXMgPSBwcmVwYXJlUGFyYW1zO1xuXHRleHBvcnRzLmhhbmRsZVJlc3BvbnNlID0gaGFuZGxlUmVzcG9uc2U7XG5cblx0dmFyIF9mbG93X2ludGVyZmFjZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5cdHZhciBfb3BlcmF0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXG5cdHZhciBfb3BlcmF0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vcGVyYXRpb25zKTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5cdGZ1bmN0aW9uIGdldE9wZXJhdGlvbigpIHtcblx0ICByZXR1cm4gX29wZXJhdGlvbnMyLmRlZmF1bHQuUE5XaGVyZU5vd09wZXJhdGlvbjtcblx0fVxuXG5cdGZ1bmN0aW9uIHZhbGlkYXRlUGFyYW1zKG1vZHVsZXMpIHtcblx0ICB2YXIgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cblxuXHQgIGlmICghY29uZmlnLnN1YnNjcmliZUtleSkgcmV0dXJuICdNaXNzaW5nIFN1YnNjcmliZSBLZXknO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0VVJMKG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSB7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXHQgIHZhciBfaW5jb21pbmdQYXJhbXMkdXVpZCA9IGluY29taW5nUGFyYW1zLnV1aWQsXG5cdCAgICAgIHV1aWQgPSBfaW5jb21pbmdQYXJhbXMkdXVpZCA9PT0gdW5kZWZpbmVkID8gY29uZmlnLlVVSUQgOiBfaW5jb21pbmdQYXJhbXMkdXVpZDtcblxuXHQgIHJldHVybiAnL3YyL3ByZXNlbmNlL3N1Yi1rZXkvJyArIGNvbmZpZy5zdWJzY3JpYmVLZXkgKyAnL3V1aWQvJyArIHV1aWQ7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRSZXF1ZXN0VGltZW91dChfcmVmKSB7XG5cdCAgdmFyIGNvbmZpZyA9IF9yZWYuY29uZmlnO1xuXG5cdCAgcmV0dXJuIGNvbmZpZy5nZXRUcmFuc2FjdGlvblRpbWVvdXQoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlzQXV0aFN1cHBvcnRlZCgpIHtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGZ1bmN0aW9uIHByZXBhcmVQYXJhbXMoKSB7XG5cdCAgcmV0dXJuIHt9O1xuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2UobW9kdWxlcywgc2VydmVyUmVzcG9uc2UpIHtcblx0ICByZXR1cm4geyBjaGFubmVsczogc2VydmVyUmVzcG9uc2UucGF5bG9hZC5jaGFubmVscyB9O1xuXHR9XG5cbi8qKiovIH0sXG4vKiAzNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldE9wZXJhdGlvbiA9IGdldE9wZXJhdGlvbjtcblx0ZXhwb3J0cy52YWxpZGF0ZVBhcmFtcyA9IHZhbGlkYXRlUGFyYW1zO1xuXHRleHBvcnRzLmdldFVSTCA9IGdldFVSTDtcblx0ZXhwb3J0cy5pc0F1dGhTdXBwb3J0ZWQgPSBpc0F1dGhTdXBwb3J0ZWQ7XG5cdGV4cG9ydHMuZ2V0UmVxdWVzdFRpbWVvdXQgPSBnZXRSZXF1ZXN0VGltZW91dDtcblx0ZXhwb3J0cy5wcmVwYXJlUGFyYW1zID0gcHJlcGFyZVBhcmFtcztcblx0ZXhwb3J0cy5oYW5kbGVSZXNwb25zZSA9IGhhbmRsZVJlc3BvbnNlO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG5cdHZhciBfdXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHMpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gZ2V0T3BlcmF0aW9uKCkge1xuXHQgIHJldHVybiBfb3BlcmF0aW9uczIuZGVmYXVsdC5QTkhlYXJ0YmVhdE9wZXJhdGlvbjtcblx0fVxuXG5cdGZ1bmN0aW9uIHZhbGlkYXRlUGFyYW1zKG1vZHVsZXMpIHtcblx0ICB2YXIgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cblxuXHQgIGlmICghY29uZmlnLnN1YnNjcmliZUtleSkgcmV0dXJuICdNaXNzaW5nIFN1YnNjcmliZSBLZXknO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0VVJMKG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSB7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXHQgIHZhciBfaW5jb21pbmdQYXJhbXMkY2hhbm4gPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVscyxcblx0ICAgICAgY2hhbm5lbHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm4gPT09IHVuZGVmaW5lZCA/IFtdIDogX2luY29taW5nUGFyYW1zJGNoYW5uO1xuXG5cdCAgdmFyIHN0cmluZ2lmaWVkQ2hhbm5lbHMgPSBjaGFubmVscy5sZW5ndGggPiAwID8gY2hhbm5lbHMuam9pbignLCcpIDogJywnO1xuXHQgIHJldHVybiAnL3YyL3ByZXNlbmNlL3N1Yi1rZXkvJyArIGNvbmZpZy5zdWJzY3JpYmVLZXkgKyAnL2NoYW5uZWwvJyArIF91dGlsczIuZGVmYXVsdC5lbmNvZGVTdHJpbmcoc3RyaW5naWZpZWRDaGFubmVscykgKyAnL2hlYXJ0YmVhdCc7XG5cdH1cblxuXHRmdW5jdGlvbiBpc0F1dGhTdXBwb3J0ZWQoKSB7XG5cdCAgcmV0dXJuIHRydWU7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRSZXF1ZXN0VGltZW91dChfcmVmKSB7XG5cdCAgdmFyIGNvbmZpZyA9IF9yZWYuY29uZmlnO1xuXG5cdCAgcmV0dXJuIGNvbmZpZy5nZXRUcmFuc2FjdGlvblRpbWVvdXQoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHByZXBhcmVQYXJhbXMobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgX2luY29taW5nUGFyYW1zJGNoYW5uMiA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxHcm91cHMsXG5cdCAgICAgIGNoYW5uZWxHcm91cHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm4yID09PSB1bmRlZmluZWQgPyBbXSA6IF9pbmNvbWluZ1BhcmFtcyRjaGFubjIsXG5cdCAgICAgIF9pbmNvbWluZ1BhcmFtcyRzdGF0ZSA9IGluY29taW5nUGFyYW1zLnN0YXRlLFxuXHQgICAgICBzdGF0ZSA9IF9pbmNvbWluZ1BhcmFtcyRzdGF0ZSA9PT0gdW5kZWZpbmVkID8ge30gOiBfaW5jb21pbmdQYXJhbXMkc3RhdGU7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXG5cdCAgdmFyIHBhcmFtcyA9IHt9O1xuXG5cdCAgaWYgKGNoYW5uZWxHcm91cHMubGVuZ3RoID4gMCkge1xuXHQgICAgcGFyYW1zWydjaGFubmVsLWdyb3VwJ10gPSBjaGFubmVsR3JvdXBzLmpvaW4oJywnKTtcblx0ICB9XG5cblx0ICBwYXJhbXMuc3RhdGUgPSBKU09OLnN0cmluZ2lmeShzdGF0ZSk7XG5cdCAgcGFyYW1zLmhlYXJ0YmVhdCA9IGNvbmZpZy5nZXRQcmVzZW5jZVRpbWVvdXQoKTtcblx0ICByZXR1cm4gcGFyYW1zO1xuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2UoKSB7XG5cdCAgcmV0dXJuIHt9O1xuXHR9XG5cbi8qKiovIH0sXG4vKiAzNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldE9wZXJhdGlvbiA9IGdldE9wZXJhdGlvbjtcblx0ZXhwb3J0cy52YWxpZGF0ZVBhcmFtcyA9IHZhbGlkYXRlUGFyYW1zO1xuXHRleHBvcnRzLmdldFVSTCA9IGdldFVSTDtcblx0ZXhwb3J0cy5nZXRSZXF1ZXN0VGltZW91dCA9IGdldFJlcXVlc3RUaW1lb3V0O1xuXHRleHBvcnRzLmlzQXV0aFN1cHBvcnRlZCA9IGlzQXV0aFN1cHBvcnRlZDtcblx0ZXhwb3J0cy5wcmVwYXJlUGFyYW1zID0gcHJlcGFyZVBhcmFtcztcblx0ZXhwb3J0cy5oYW5kbGVSZXNwb25zZSA9IGhhbmRsZVJlc3BvbnNlO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG5cdHZhciBfdXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHMpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gZ2V0T3BlcmF0aW9uKCkge1xuXHQgIHJldHVybiBfb3BlcmF0aW9uczIuZGVmYXVsdC5QTkdldFN0YXRlT3BlcmF0aW9uO1xuXHR9XG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVQYXJhbXMobW9kdWxlcykge1xuXHQgIHZhciBjb25maWcgPSBtb2R1bGVzLmNvbmZpZztcblxuXG5cdCAgaWYgKCFjb25maWcuc3Vic2NyaWJlS2V5KSByZXR1cm4gJ01pc3NpbmcgU3Vic2NyaWJlIEtleSc7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRVUkwobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cdCAgdmFyIF9pbmNvbWluZ1BhcmFtcyR1dWlkID0gaW5jb21pbmdQYXJhbXMudXVpZCxcblx0ICAgICAgdXVpZCA9IF9pbmNvbWluZ1BhcmFtcyR1dWlkID09PSB1bmRlZmluZWQgPyBjb25maWcuVVVJRCA6IF9pbmNvbWluZ1BhcmFtcyR1dWlkLFxuXHQgICAgICBfaW5jb21pbmdQYXJhbXMkY2hhbm4gPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVscyxcblx0ICAgICAgY2hhbm5lbHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm4gPT09IHVuZGVmaW5lZCA/IFtdIDogX2luY29taW5nUGFyYW1zJGNoYW5uO1xuXG5cdCAgdmFyIHN0cmluZ2lmaWVkQ2hhbm5lbHMgPSBjaGFubmVscy5sZW5ndGggPiAwID8gY2hhbm5lbHMuam9pbignLCcpIDogJywnO1xuXHQgIHJldHVybiAnL3YyL3ByZXNlbmNlL3N1Yi1rZXkvJyArIGNvbmZpZy5zdWJzY3JpYmVLZXkgKyAnL2NoYW5uZWwvJyArIF91dGlsczIuZGVmYXVsdC5lbmNvZGVTdHJpbmcoc3RyaW5naWZpZWRDaGFubmVscykgKyAnL3V1aWQvJyArIHV1aWQ7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRSZXF1ZXN0VGltZW91dChfcmVmKSB7XG5cdCAgdmFyIGNvbmZpZyA9IF9yZWYuY29uZmlnO1xuXG5cdCAgcmV0dXJuIGNvbmZpZy5nZXRUcmFuc2FjdGlvblRpbWVvdXQoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlzQXV0aFN1cHBvcnRlZCgpIHtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGZ1bmN0aW9uIHByZXBhcmVQYXJhbXMobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgX2luY29taW5nUGFyYW1zJGNoYW5uMiA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxHcm91cHMsXG5cdCAgICAgIGNoYW5uZWxHcm91cHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm4yID09PSB1bmRlZmluZWQgPyBbXSA6IF9pbmNvbWluZ1BhcmFtcyRjaGFubjI7XG5cblx0ICB2YXIgcGFyYW1zID0ge307XG5cblx0ICBpZiAoY2hhbm5lbEdyb3Vwcy5sZW5ndGggPiAwKSB7XG5cdCAgICBwYXJhbXNbJ2NoYW5uZWwtZ3JvdXAnXSA9IGNoYW5uZWxHcm91cHMuam9pbignLCcpO1xuXHQgIH1cblxuXHQgIHJldHVybiBwYXJhbXM7XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShtb2R1bGVzLCBzZXJ2ZXJSZXNwb25zZSwgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgX2luY29taW5nUGFyYW1zJGNoYW5uMyA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxzLFxuXHQgICAgICBjaGFubmVscyA9IF9pbmNvbWluZ1BhcmFtcyRjaGFubjMgPT09IHVuZGVmaW5lZCA/IFtdIDogX2luY29taW5nUGFyYW1zJGNoYW5uMyxcblx0ICAgICAgX2luY29taW5nUGFyYW1zJGNoYW5uNCA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxHcm91cHMsXG5cdCAgICAgIGNoYW5uZWxHcm91cHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm40ID09PSB1bmRlZmluZWQgPyBbXSA6IF9pbmNvbWluZ1BhcmFtcyRjaGFubjQ7XG5cblx0ICB2YXIgY2hhbm5lbHNSZXNwb25zZSA9IHt9O1xuXG5cdCAgaWYgKGNoYW5uZWxzLmxlbmd0aCA9PT0gMSAmJiBjaGFubmVsR3JvdXBzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgY2hhbm5lbHNSZXNwb25zZVtjaGFubmVsc1swXV0gPSBzZXJ2ZXJSZXNwb25zZS5wYXlsb2FkO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBjaGFubmVsc1Jlc3BvbnNlID0gc2VydmVyUmVzcG9uc2UucGF5bG9hZDtcblx0ICB9XG5cblx0ICByZXR1cm4geyBjaGFubmVsczogY2hhbm5lbHNSZXNwb25zZSB9O1xuXHR9XG5cbi8qKiovIH0sXG4vKiAzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldE9wZXJhdGlvbiA9IGdldE9wZXJhdGlvbjtcblx0ZXhwb3J0cy52YWxpZGF0ZVBhcmFtcyA9IHZhbGlkYXRlUGFyYW1zO1xuXHRleHBvcnRzLmdldFVSTCA9IGdldFVSTDtcblx0ZXhwb3J0cy5nZXRSZXF1ZXN0VGltZW91dCA9IGdldFJlcXVlc3RUaW1lb3V0O1xuXHRleHBvcnRzLmlzQXV0aFN1cHBvcnRlZCA9IGlzQXV0aFN1cHBvcnRlZDtcblx0ZXhwb3J0cy5wcmVwYXJlUGFyYW1zID0gcHJlcGFyZVBhcmFtcztcblx0ZXhwb3J0cy5oYW5kbGVSZXNwb25zZSA9IGhhbmRsZVJlc3BvbnNlO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG5cdHZhciBfdXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHMpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gZ2V0T3BlcmF0aW9uKCkge1xuXHQgIHJldHVybiBfb3BlcmF0aW9uczIuZGVmYXVsdC5QTlNldFN0YXRlT3BlcmF0aW9uO1xuXHR9XG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVQYXJhbXMobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cdCAgdmFyIHN0YXRlID0gaW5jb21pbmdQYXJhbXMuc3RhdGUsXG5cdCAgICAgIF9pbmNvbWluZ1BhcmFtcyRjaGFubiA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxzLFxuXHQgICAgICBjaGFubmVscyA9IF9pbmNvbWluZ1BhcmFtcyRjaGFubiA9PT0gdW5kZWZpbmVkID8gW10gOiBfaW5jb21pbmdQYXJhbXMkY2hhbm4sXG5cdCAgICAgIF9pbmNvbWluZ1BhcmFtcyRjaGFubjIgPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVsR3JvdXBzLFxuXHQgICAgICBjaGFubmVsR3JvdXBzID0gX2luY29taW5nUGFyYW1zJGNoYW5uMiA9PT0gdW5kZWZpbmVkID8gW10gOiBfaW5jb21pbmdQYXJhbXMkY2hhbm4yO1xuXG5cblx0ICBpZiAoIXN0YXRlKSByZXR1cm4gJ01pc3NpbmcgU3RhdGUnO1xuXHQgIGlmICghY29uZmlnLnN1YnNjcmliZUtleSkgcmV0dXJuICdNaXNzaW5nIFN1YnNjcmliZSBLZXknO1xuXHQgIGlmIChjaGFubmVscy5sZW5ndGggPT09IDAgJiYgY2hhbm5lbEdyb3Vwcy5sZW5ndGggPT09IDApIHJldHVybiAnUGxlYXNlIHByb3ZpZGUgYSBsaXN0IG9mIGNoYW5uZWxzIGFuZC9vciBjaGFubmVsLWdyb3Vwcyc7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRVUkwobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cdCAgdmFyIF9pbmNvbWluZ1BhcmFtcyRjaGFubjMgPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVscyxcblx0ICAgICAgY2hhbm5lbHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm4zID09PSB1bmRlZmluZWQgPyBbXSA6IF9pbmNvbWluZ1BhcmFtcyRjaGFubjM7XG5cblx0ICB2YXIgc3RyaW5naWZpZWRDaGFubmVscyA9IGNoYW5uZWxzLmxlbmd0aCA+IDAgPyBjaGFubmVscy5qb2luKCcsJykgOiAnLCc7XG5cdCAgcmV0dXJuICcvdjIvcHJlc2VuY2Uvc3ViLWtleS8nICsgY29uZmlnLnN1YnNjcmliZUtleSArICcvY2hhbm5lbC8nICsgX3V0aWxzMi5kZWZhdWx0LmVuY29kZVN0cmluZyhzdHJpbmdpZmllZENoYW5uZWxzKSArICcvdXVpZC8nICsgY29uZmlnLlVVSUQgKyAnL2RhdGEnO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0UmVxdWVzdFRpbWVvdXQoX3JlZikge1xuXHQgIHZhciBjb25maWcgPSBfcmVmLmNvbmZpZztcblxuXHQgIHJldHVybiBjb25maWcuZ2V0VHJhbnNhY3Rpb25UaW1lb3V0KCk7XG5cdH1cblxuXHRmdW5jdGlvbiBpc0F1dGhTdXBwb3J0ZWQoKSB7XG5cdCAgcmV0dXJuIHRydWU7XG5cdH1cblxuXHRmdW5jdGlvbiBwcmVwYXJlUGFyYW1zKG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSB7XG5cdCAgdmFyIHN0YXRlID0gaW5jb21pbmdQYXJhbXMuc3RhdGUsXG5cdCAgICAgIF9pbmNvbWluZ1BhcmFtcyRjaGFubjQgPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVsR3JvdXBzLFxuXHQgICAgICBjaGFubmVsR3JvdXBzID0gX2luY29taW5nUGFyYW1zJGNoYW5uNCA9PT0gdW5kZWZpbmVkID8gW10gOiBfaW5jb21pbmdQYXJhbXMkY2hhbm40O1xuXG5cdCAgdmFyIHBhcmFtcyA9IHt9O1xuXG5cdCAgcGFyYW1zLnN0YXRlID0gSlNPTi5zdHJpbmdpZnkoc3RhdGUpO1xuXG5cdCAgaWYgKGNoYW5uZWxHcm91cHMubGVuZ3RoID4gMCkge1xuXHQgICAgcGFyYW1zWydjaGFubmVsLWdyb3VwJ10gPSBjaGFubmVsR3JvdXBzLmpvaW4oJywnKTtcblx0ICB9XG5cblx0ICByZXR1cm4gcGFyYW1zO1xuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2UobW9kdWxlcywgc2VydmVyUmVzcG9uc2UpIHtcblx0ICByZXR1cm4geyBzdGF0ZTogc2VydmVyUmVzcG9uc2UucGF5bG9hZCB9O1xuXHR9XG5cbi8qKiovIH0sXG4vKiAzOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldE9wZXJhdGlvbiA9IGdldE9wZXJhdGlvbjtcblx0ZXhwb3J0cy52YWxpZGF0ZVBhcmFtcyA9IHZhbGlkYXRlUGFyYW1zO1xuXHRleHBvcnRzLmdldFVSTCA9IGdldFVSTDtcblx0ZXhwb3J0cy5nZXRSZXF1ZXN0VGltZW91dCA9IGdldFJlcXVlc3RUaW1lb3V0O1xuXHRleHBvcnRzLmlzQXV0aFN1cHBvcnRlZCA9IGlzQXV0aFN1cHBvcnRlZDtcblx0ZXhwb3J0cy5wcmVwYXJlUGFyYW1zID0gcHJlcGFyZVBhcmFtcztcblx0ZXhwb3J0cy5oYW5kbGVSZXNwb25zZSA9IGhhbmRsZVJlc3BvbnNlO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG5cdHZhciBfdXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHMpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gZ2V0T3BlcmF0aW9uKCkge1xuXHQgIHJldHVybiBfb3BlcmF0aW9uczIuZGVmYXVsdC5QTkhlcmVOb3dPcGVyYXRpb247XG5cdH1cblxuXHRmdW5jdGlvbiB2YWxpZGF0ZVBhcmFtcyhtb2R1bGVzKSB7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXG5cblx0ICBpZiAoIWNvbmZpZy5zdWJzY3JpYmVLZXkpIHJldHVybiAnTWlzc2luZyBTdWJzY3JpYmUgS2V5Jztcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFVSTChtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBjb25maWcgPSBtb2R1bGVzLmNvbmZpZztcblx0ICB2YXIgX2luY29taW5nUGFyYW1zJGNoYW5uID0gaW5jb21pbmdQYXJhbXMuY2hhbm5lbHMsXG5cdCAgICAgIGNoYW5uZWxzID0gX2luY29taW5nUGFyYW1zJGNoYW5uID09PSB1bmRlZmluZWQgPyBbXSA6IF9pbmNvbWluZ1BhcmFtcyRjaGFubixcblx0ICAgICAgX2luY29taW5nUGFyYW1zJGNoYW5uMiA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxHcm91cHMsXG5cdCAgICAgIGNoYW5uZWxHcm91cHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm4yID09PSB1bmRlZmluZWQgPyBbXSA6IF9pbmNvbWluZ1BhcmFtcyRjaGFubjI7XG5cblx0ICB2YXIgYmFzZVVSTCA9ICcvdjIvcHJlc2VuY2Uvc3ViLWtleS8nICsgY29uZmlnLnN1YnNjcmliZUtleTtcblxuXHQgIGlmIChjaGFubmVscy5sZW5ndGggPiAwIHx8IGNoYW5uZWxHcm91cHMubGVuZ3RoID4gMCkge1xuXHQgICAgdmFyIHN0cmluZ2lmaWVkQ2hhbm5lbHMgPSBjaGFubmVscy5sZW5ndGggPiAwID8gY2hhbm5lbHMuam9pbignLCcpIDogJywnO1xuXHQgICAgYmFzZVVSTCArPSAnL2NoYW5uZWwvJyArIF91dGlsczIuZGVmYXVsdC5lbmNvZGVTdHJpbmcoc3RyaW5naWZpZWRDaGFubmVscyk7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIGJhc2VVUkw7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRSZXF1ZXN0VGltZW91dChfcmVmKSB7XG5cdCAgdmFyIGNvbmZpZyA9IF9yZWYuY29uZmlnO1xuXG5cdCAgcmV0dXJuIGNvbmZpZy5nZXRUcmFuc2FjdGlvblRpbWVvdXQoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlzQXV0aFN1cHBvcnRlZCgpIHtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGZ1bmN0aW9uIHByZXBhcmVQYXJhbXMobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgX2luY29taW5nUGFyYW1zJGNoYW5uMyA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxHcm91cHMsXG5cdCAgICAgIGNoYW5uZWxHcm91cHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm4zID09PSB1bmRlZmluZWQgPyBbXSA6IF9pbmNvbWluZ1BhcmFtcyRjaGFubjMsXG5cdCAgICAgIF9pbmNvbWluZ1BhcmFtcyRpbmNsdSA9IGluY29taW5nUGFyYW1zLmluY2x1ZGVVVUlEcyxcblx0ICAgICAgaW5jbHVkZVVVSURzID0gX2luY29taW5nUGFyYW1zJGluY2x1ID09PSB1bmRlZmluZWQgPyB0cnVlIDogX2luY29taW5nUGFyYW1zJGluY2x1LFxuXHQgICAgICBfaW5jb21pbmdQYXJhbXMkaW5jbHUyID0gaW5jb21pbmdQYXJhbXMuaW5jbHVkZVN0YXRlLFxuXHQgICAgICBpbmNsdWRlU3RhdGUgPSBfaW5jb21pbmdQYXJhbXMkaW5jbHUyID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9pbmNvbWluZ1BhcmFtcyRpbmNsdTI7XG5cblx0ICB2YXIgcGFyYW1zID0ge307XG5cblx0ICBpZiAoIWluY2x1ZGVVVUlEcykgcGFyYW1zLmRpc2FibGVfdXVpZHMgPSAxO1xuXHQgIGlmIChpbmNsdWRlU3RhdGUpIHBhcmFtcy5zdGF0ZSA9IDE7XG5cblx0ICBpZiAoY2hhbm5lbEdyb3Vwcy5sZW5ndGggPiAwKSB7XG5cdCAgICBwYXJhbXNbJ2NoYW5uZWwtZ3JvdXAnXSA9IGNoYW5uZWxHcm91cHMuam9pbignLCcpO1xuXHQgIH1cblxuXHQgIHJldHVybiBwYXJhbXM7XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShtb2R1bGVzLCBzZXJ2ZXJSZXNwb25zZSwgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgX2luY29taW5nUGFyYW1zJGNoYW5uNCA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxzLFxuXHQgICAgICBjaGFubmVscyA9IF9pbmNvbWluZ1BhcmFtcyRjaGFubjQgPT09IHVuZGVmaW5lZCA/IFtdIDogX2luY29taW5nUGFyYW1zJGNoYW5uNCxcblx0ICAgICAgX2luY29taW5nUGFyYW1zJGNoYW5uNSA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxHcm91cHMsXG5cdCAgICAgIGNoYW5uZWxHcm91cHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm41ID09PSB1bmRlZmluZWQgPyBbXSA6IF9pbmNvbWluZ1BhcmFtcyRjaGFubjUsXG5cdCAgICAgIF9pbmNvbWluZ1BhcmFtcyRpbmNsdTMgPSBpbmNvbWluZ1BhcmFtcy5pbmNsdWRlVVVJRHMsXG5cdCAgICAgIGluY2x1ZGVVVUlEcyA9IF9pbmNvbWluZ1BhcmFtcyRpbmNsdTMgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfaW5jb21pbmdQYXJhbXMkaW5jbHUzLFxuXHQgICAgICBfaW5jb21pbmdQYXJhbXMkaW5jbHU0ID0gaW5jb21pbmdQYXJhbXMuaW5jbHVkZVN0YXRlLFxuXHQgICAgICBpbmNsdWRlU3RhdGUgPSBfaW5jb21pbmdQYXJhbXMkaW5jbHU0ID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9pbmNvbWluZ1BhcmFtcyRpbmNsdTQ7XG5cblxuXHQgIHZhciBwcmVwYXJlU2luZ3VsYXJDaGFubmVsID0gZnVuY3Rpb24gcHJlcGFyZVNpbmd1bGFyQ2hhbm5lbCgpIHtcblx0ICAgIHZhciByZXNwb25zZSA9IHt9O1xuXHQgICAgdmFyIG9jY3VwYW50c0xpc3QgPSBbXTtcblx0ICAgIHJlc3BvbnNlLnRvdGFsQ2hhbm5lbHMgPSAxO1xuXHQgICAgcmVzcG9uc2UudG90YWxPY2N1cGFuY3kgPSBzZXJ2ZXJSZXNwb25zZS5vY2N1cGFuY3k7XG5cdCAgICByZXNwb25zZS5jaGFubmVscyA9IHt9O1xuXHQgICAgcmVzcG9uc2UuY2hhbm5lbHNbY2hhbm5lbHNbMF1dID0ge1xuXHQgICAgICBvY2N1cGFudHM6IG9jY3VwYW50c0xpc3QsXG5cdCAgICAgIG5hbWU6IGNoYW5uZWxzWzBdLFxuXHQgICAgICBvY2N1cGFuY3k6IHNlcnZlclJlc3BvbnNlLm9jY3VwYW5jeVxuXHQgICAgfTtcblxuXHQgICAgaWYgKGluY2x1ZGVVVUlEcykge1xuXHQgICAgICBzZXJ2ZXJSZXNwb25zZS51dWlkcy5mb3JFYWNoKGZ1bmN0aW9uICh1dWlkRW50cnkpIHtcblx0ICAgICAgICBpZiAoaW5jbHVkZVN0YXRlKSB7XG5cdCAgICAgICAgICBvY2N1cGFudHNMaXN0LnB1c2goeyBzdGF0ZTogdXVpZEVudHJ5LnN0YXRlLCB1dWlkOiB1dWlkRW50cnkudXVpZCB9KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgb2NjdXBhbnRzTGlzdC5wdXNoKHsgc3RhdGU6IG51bGwsIHV1aWQ6IHV1aWRFbnRyeSB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gcmVzcG9uc2U7XG5cdCAgfTtcblxuXHQgIHZhciBwcmVwYXJlTXVsdGlwbGVDaGFubmVsID0gZnVuY3Rpb24gcHJlcGFyZU11bHRpcGxlQ2hhbm5lbCgpIHtcblx0ICAgIHZhciByZXNwb25zZSA9IHt9O1xuXHQgICAgcmVzcG9uc2UudG90YWxDaGFubmVscyA9IHNlcnZlclJlc3BvbnNlLnBheWxvYWQudG90YWxfY2hhbm5lbHM7XG5cdCAgICByZXNwb25zZS50b3RhbE9jY3VwYW5jeSA9IHNlcnZlclJlc3BvbnNlLnBheWxvYWQudG90YWxfb2NjdXBhbmN5O1xuXHQgICAgcmVzcG9uc2UuY2hhbm5lbHMgPSB7fTtcblxuXHQgICAgT2JqZWN0LmtleXMoc2VydmVyUmVzcG9uc2UucGF5bG9hZC5jaGFubmVscykuZm9yRWFjaChmdW5jdGlvbiAoY2hhbm5lbE5hbWUpIHtcblx0ICAgICAgdmFyIGNoYW5uZWxFbnRyeSA9IHNlcnZlclJlc3BvbnNlLnBheWxvYWQuY2hhbm5lbHNbY2hhbm5lbE5hbWVdO1xuXHQgICAgICB2YXIgb2NjdXBhbnRzTGlzdCA9IFtdO1xuXHQgICAgICByZXNwb25zZS5jaGFubmVsc1tjaGFubmVsTmFtZV0gPSB7XG5cdCAgICAgICAgb2NjdXBhbnRzOiBvY2N1cGFudHNMaXN0LFxuXHQgICAgICAgIG5hbWU6IGNoYW5uZWxOYW1lLFxuXHQgICAgICAgIG9jY3VwYW5jeTogY2hhbm5lbEVudHJ5Lm9jY3VwYW5jeVxuXHQgICAgICB9O1xuXG5cdCAgICAgIGlmIChpbmNsdWRlVVVJRHMpIHtcblx0ICAgICAgICBjaGFubmVsRW50cnkudXVpZHMuZm9yRWFjaChmdW5jdGlvbiAodXVpZEVudHJ5KSB7XG5cdCAgICAgICAgICBpZiAoaW5jbHVkZVN0YXRlKSB7XG5cdCAgICAgICAgICAgIG9jY3VwYW50c0xpc3QucHVzaCh7IHN0YXRlOiB1dWlkRW50cnkuc3RhdGUsIHV1aWQ6IHV1aWRFbnRyeS51dWlkIH0pO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgb2NjdXBhbnRzTGlzdC5wdXNoKHsgc3RhdGU6IG51bGwsIHV1aWQ6IHV1aWRFbnRyeSB9KTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHJldHVybiByZXNwb25zZTtcblx0ICAgIH0pO1xuXG5cdCAgICByZXR1cm4gcmVzcG9uc2U7XG5cdCAgfTtcblxuXHQgIHZhciByZXNwb25zZSA9IHZvaWQgMDtcblx0ICBpZiAoY2hhbm5lbHMubGVuZ3RoID4gMSB8fCBjaGFubmVsR3JvdXBzLmxlbmd0aCA+IDAgfHwgY2hhbm5lbEdyb3Vwcy5sZW5ndGggPT09IDAgJiYgY2hhbm5lbHMubGVuZ3RoID09PSAwKSB7XG5cdCAgICByZXNwb25zZSA9IHByZXBhcmVNdWx0aXBsZUNoYW5uZWwoKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmVzcG9uc2UgPSBwcmVwYXJlU2luZ3VsYXJDaGFubmVsKCk7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIHJlc3BvbnNlO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA0MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldE9wZXJhdGlvbiA9IGdldE9wZXJhdGlvbjtcblx0ZXhwb3J0cy52YWxpZGF0ZVBhcmFtcyA9IHZhbGlkYXRlUGFyYW1zO1xuXHRleHBvcnRzLmdldFVSTCA9IGdldFVSTDtcblx0ZXhwb3J0cy5nZXRSZXF1ZXN0VGltZW91dCA9IGdldFJlcXVlc3RUaW1lb3V0O1xuXHRleHBvcnRzLmlzQXV0aFN1cHBvcnRlZCA9IGlzQXV0aFN1cHBvcnRlZDtcblx0ZXhwb3J0cy5wcmVwYXJlUGFyYW1zID0gcHJlcGFyZVBhcmFtcztcblx0ZXhwb3J0cy5oYW5kbGVSZXNwb25zZSA9IGhhbmRsZVJlc3BvbnNlO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRmdW5jdGlvbiBnZXRPcGVyYXRpb24oKSB7XG5cdCAgcmV0dXJuIF9vcGVyYXRpb25zMi5kZWZhdWx0LlBOQWNjZXNzTWFuYWdlckF1ZGl0O1xuXHR9XG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVQYXJhbXMobW9kdWxlcykge1xuXHQgIHZhciBjb25maWcgPSBtb2R1bGVzLmNvbmZpZztcblxuXG5cdCAgaWYgKCFjb25maWcuc3Vic2NyaWJlS2V5KSByZXR1cm4gJ01pc3NpbmcgU3Vic2NyaWJlIEtleSc7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRVUkwobW9kdWxlcykge1xuXHQgIHZhciBjb25maWcgPSBtb2R1bGVzLmNvbmZpZztcblxuXHQgIHJldHVybiAnL3YyL2F1dGgvYXVkaXQvc3ViLWtleS8nICsgY29uZmlnLnN1YnNjcmliZUtleTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFJlcXVlc3RUaW1lb3V0KF9yZWYpIHtcblx0ICB2YXIgY29uZmlnID0gX3JlZi5jb25maWc7XG5cblx0ICByZXR1cm4gY29uZmlnLmdldFRyYW5zYWN0aW9uVGltZW91dCgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNBdXRoU3VwcG9ydGVkKCkge1xuXHQgIHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGZ1bmN0aW9uIHByZXBhcmVQYXJhbXMobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgY2hhbm5lbCA9IGluY29taW5nUGFyYW1zLmNoYW5uZWwsXG5cdCAgICAgIGNoYW5uZWxHcm91cCA9IGluY29taW5nUGFyYW1zLmNoYW5uZWxHcm91cCxcblx0ICAgICAgX2luY29taW5nUGFyYW1zJGF1dGhLID0gaW5jb21pbmdQYXJhbXMuYXV0aEtleXMsXG5cdCAgICAgIGF1dGhLZXlzID0gX2luY29taW5nUGFyYW1zJGF1dGhLID09PSB1bmRlZmluZWQgPyBbXSA6IF9pbmNvbWluZ1BhcmFtcyRhdXRoSztcblxuXHQgIHZhciBwYXJhbXMgPSB7fTtcblxuXHQgIGlmIChjaGFubmVsKSB7XG5cdCAgICBwYXJhbXMuY2hhbm5lbCA9IGNoYW5uZWw7XG5cdCAgfVxuXG5cdCAgaWYgKGNoYW5uZWxHcm91cCkge1xuXHQgICAgcGFyYW1zWydjaGFubmVsLWdyb3VwJ10gPSBjaGFubmVsR3JvdXA7XG5cdCAgfVxuXG5cdCAgaWYgKGF1dGhLZXlzLmxlbmd0aCA+IDApIHtcblx0ICAgIHBhcmFtcy5hdXRoID0gYXV0aEtleXMuam9pbignLCcpO1xuXHQgIH1cblxuXHQgIHJldHVybiBwYXJhbXM7XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShtb2R1bGVzLCBzZXJ2ZXJSZXNwb25zZSkge1xuXHQgIHJldHVybiBzZXJ2ZXJSZXNwb25zZS5wYXlsb2FkO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA0MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldE9wZXJhdGlvbiA9IGdldE9wZXJhdGlvbjtcblx0ZXhwb3J0cy52YWxpZGF0ZVBhcmFtcyA9IHZhbGlkYXRlUGFyYW1zO1xuXHRleHBvcnRzLmdldFVSTCA9IGdldFVSTDtcblx0ZXhwb3J0cy5nZXRSZXF1ZXN0VGltZW91dCA9IGdldFJlcXVlc3RUaW1lb3V0O1xuXHRleHBvcnRzLmlzQXV0aFN1cHBvcnRlZCA9IGlzQXV0aFN1cHBvcnRlZDtcblx0ZXhwb3J0cy5wcmVwYXJlUGFyYW1zID0gcHJlcGFyZVBhcmFtcztcblx0ZXhwb3J0cy5oYW5kbGVSZXNwb25zZSA9IGhhbmRsZVJlc3BvbnNlO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRmdW5jdGlvbiBnZXRPcGVyYXRpb24oKSB7XG5cdCAgcmV0dXJuIF9vcGVyYXRpb25zMi5kZWZhdWx0LlBOQWNjZXNzTWFuYWdlckdyYW50O1xuXHR9XG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVQYXJhbXMobW9kdWxlcykge1xuXHQgIHZhciBjb25maWcgPSBtb2R1bGVzLmNvbmZpZztcblxuXG5cdCAgaWYgKCFjb25maWcuc3Vic2NyaWJlS2V5KSByZXR1cm4gJ01pc3NpbmcgU3Vic2NyaWJlIEtleSc7XG5cdCAgaWYgKCFjb25maWcucHVibGlzaEtleSkgcmV0dXJuICdNaXNzaW5nIFB1Ymxpc2ggS2V5Jztcblx0ICBpZiAoIWNvbmZpZy5zZWNyZXRLZXkpIHJldHVybiAnTWlzc2luZyBTZWNyZXQgS2V5Jztcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFVSTChtb2R1bGVzKSB7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXG5cdCAgcmV0dXJuICcvdjIvYXV0aC9ncmFudC9zdWIta2V5LycgKyBjb25maWcuc3Vic2NyaWJlS2V5O1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0UmVxdWVzdFRpbWVvdXQoX3JlZikge1xuXHQgIHZhciBjb25maWcgPSBfcmVmLmNvbmZpZztcblxuXHQgIHJldHVybiBjb25maWcuZ2V0VHJhbnNhY3Rpb25UaW1lb3V0KCk7XG5cdH1cblxuXHRmdW5jdGlvbiBpc0F1dGhTdXBwb3J0ZWQoKSB7XG5cdCAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0ZnVuY3Rpb24gcHJlcGFyZVBhcmFtcyhtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBfaW5jb21pbmdQYXJhbXMkY2hhbm4gPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVscyxcblx0ICAgICAgY2hhbm5lbHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm4gPT09IHVuZGVmaW5lZCA/IFtdIDogX2luY29taW5nUGFyYW1zJGNoYW5uLFxuXHQgICAgICBfaW5jb21pbmdQYXJhbXMkY2hhbm4yID0gaW5jb21pbmdQYXJhbXMuY2hhbm5lbEdyb3Vwcyxcblx0ICAgICAgY2hhbm5lbEdyb3VwcyA9IF9pbmNvbWluZ1BhcmFtcyRjaGFubjIgPT09IHVuZGVmaW5lZCA/IFtdIDogX2luY29taW5nUGFyYW1zJGNoYW5uMixcblx0ICAgICAgdHRsID0gaW5jb21pbmdQYXJhbXMudHRsLFxuXHQgICAgICBfaW5jb21pbmdQYXJhbXMkcmVhZCA9IGluY29taW5nUGFyYW1zLnJlYWQsXG5cdCAgICAgIHJlYWQgPSBfaW5jb21pbmdQYXJhbXMkcmVhZCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfaW5jb21pbmdQYXJhbXMkcmVhZCxcblx0ICAgICAgX2luY29taW5nUGFyYW1zJHdyaXRlID0gaW5jb21pbmdQYXJhbXMud3JpdGUsXG5cdCAgICAgIHdyaXRlID0gX2luY29taW5nUGFyYW1zJHdyaXRlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9pbmNvbWluZ1BhcmFtcyR3cml0ZSxcblx0ICAgICAgX2luY29taW5nUGFyYW1zJG1hbmFnID0gaW5jb21pbmdQYXJhbXMubWFuYWdlLFxuXHQgICAgICBtYW5hZ2UgPSBfaW5jb21pbmdQYXJhbXMkbWFuYWcgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX2luY29taW5nUGFyYW1zJG1hbmFnLFxuXHQgICAgICBfaW5jb21pbmdQYXJhbXMkYXV0aEsgPSBpbmNvbWluZ1BhcmFtcy5hdXRoS2V5cyxcblx0ICAgICAgYXV0aEtleXMgPSBfaW5jb21pbmdQYXJhbXMkYXV0aEsgPT09IHVuZGVmaW5lZCA/IFtdIDogX2luY29taW5nUGFyYW1zJGF1dGhLO1xuXG5cdCAgdmFyIHBhcmFtcyA9IHt9O1xuXG5cdCAgcGFyYW1zLnIgPSByZWFkID8gJzEnIDogJzAnO1xuXHQgIHBhcmFtcy53ID0gd3JpdGUgPyAnMScgOiAnMCc7XG5cdCAgcGFyYW1zLm0gPSBtYW5hZ2UgPyAnMScgOiAnMCc7XG5cblx0ICBpZiAoY2hhbm5lbHMubGVuZ3RoID4gMCkge1xuXHQgICAgcGFyYW1zLmNoYW5uZWwgPSBjaGFubmVscy5qb2luKCcsJyk7XG5cdCAgfVxuXG5cdCAgaWYgKGNoYW5uZWxHcm91cHMubGVuZ3RoID4gMCkge1xuXHQgICAgcGFyYW1zWydjaGFubmVsLWdyb3VwJ10gPSBjaGFubmVsR3JvdXBzLmpvaW4oJywnKTtcblx0ICB9XG5cblx0ICBpZiAoYXV0aEtleXMubGVuZ3RoID4gMCkge1xuXHQgICAgcGFyYW1zLmF1dGggPSBhdXRoS2V5cy5qb2luKCcsJyk7XG5cdCAgfVxuXG5cdCAgaWYgKHR0bCB8fCB0dGwgPT09IDApIHtcblx0ICAgIHBhcmFtcy50dGwgPSB0dGw7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIHBhcmFtcztcblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKCkge1xuXHQgIHJldHVybiB7fTtcblx0fVxuXG4vKioqLyB9LFxuLyogNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cblx0ZXhwb3J0cy5nZXRPcGVyYXRpb24gPSBnZXRPcGVyYXRpb247XG5cdGV4cG9ydHMudmFsaWRhdGVQYXJhbXMgPSB2YWxpZGF0ZVBhcmFtcztcblx0ZXhwb3J0cy51c2VQb3N0ID0gdXNlUG9zdDtcblx0ZXhwb3J0cy5nZXRVUkwgPSBnZXRVUkw7XG5cdGV4cG9ydHMucG9zdFVSTCA9IHBvc3RVUkw7XG5cdGV4cG9ydHMuZ2V0UmVxdWVzdFRpbWVvdXQgPSBnZXRSZXF1ZXN0VGltZW91dDtcblx0ZXhwb3J0cy5pc0F1dGhTdXBwb3J0ZWQgPSBpc0F1dGhTdXBwb3J0ZWQ7XG5cdGV4cG9ydHMucG9zdFBheWxvYWQgPSBwb3N0UGF5bG9hZDtcblx0ZXhwb3J0cy5wcmVwYXJlUGFyYW1zID0gcHJlcGFyZVBhcmFtcztcblx0ZXhwb3J0cy5oYW5kbGVSZXNwb25zZSA9IGhhbmRsZVJlc3BvbnNlO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG5cdHZhciBfdXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHMpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gcHJlcGFyZU1lc3NhZ2VQYXlsb2FkKG1vZHVsZXMsIG1lc3NhZ2VQYXlsb2FkKSB7XG5cdCAgdmFyIGNyeXB0byA9IG1vZHVsZXMuY3J5cHRvLFxuXHQgICAgICBjb25maWcgPSBtb2R1bGVzLmNvbmZpZztcblxuXHQgIHZhciBzdHJpbmdpZmllZFBheWxvYWQgPSBKU09OLnN0cmluZ2lmeShtZXNzYWdlUGF5bG9hZCk7XG5cblx0ICBpZiAoY29uZmlnLmNpcGhlcktleSkge1xuXHQgICAgc3RyaW5naWZpZWRQYXlsb2FkID0gY3J5cHRvLmVuY3J5cHQoc3RyaW5naWZpZWRQYXlsb2FkKTtcblx0ICAgIHN0cmluZ2lmaWVkUGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KHN0cmluZ2lmaWVkUGF5bG9hZCk7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIHN0cmluZ2lmaWVkUGF5bG9hZDtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldE9wZXJhdGlvbigpIHtcblx0ICByZXR1cm4gX29wZXJhdGlvbnMyLmRlZmF1bHQuUE5QdWJsaXNoT3BlcmF0aW9uO1xuXHR9XG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVQYXJhbXMoX3JlZiwgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgY29uZmlnID0gX3JlZi5jb25maWc7XG5cdCAgdmFyIG1lc3NhZ2UgPSBpbmNvbWluZ1BhcmFtcy5tZXNzYWdlLFxuXHQgICAgICBjaGFubmVsID0gaW5jb21pbmdQYXJhbXMuY2hhbm5lbDtcblxuXG5cdCAgaWYgKCFjaGFubmVsKSByZXR1cm4gJ01pc3NpbmcgQ2hhbm5lbCc7XG5cdCAgaWYgKCFtZXNzYWdlKSByZXR1cm4gJ01pc3NpbmcgTWVzc2FnZSc7XG5cdCAgaWYgKCFjb25maWcuc3Vic2NyaWJlS2V5KSByZXR1cm4gJ01pc3NpbmcgU3Vic2NyaWJlIEtleSc7XG5cdH1cblxuXHRmdW5jdGlvbiB1c2VQb3N0KG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSB7XG5cdCAgdmFyIF9pbmNvbWluZ1BhcmFtcyRzZW5kQiA9IGluY29taW5nUGFyYW1zLnNlbmRCeVBvc3QsXG5cdCAgICAgIHNlbmRCeVBvc3QgPSBfaW5jb21pbmdQYXJhbXMkc2VuZEIgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX2luY29taW5nUGFyYW1zJHNlbmRCO1xuXG5cdCAgcmV0dXJuIHNlbmRCeVBvc3Q7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRVUkwobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cdCAgdmFyIGNoYW5uZWwgPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVsLFxuXHQgICAgICBtZXNzYWdlID0gaW5jb21pbmdQYXJhbXMubWVzc2FnZTtcblxuXHQgIHZhciBzdHJpbmdpZmllZFBheWxvYWQgPSBwcmVwYXJlTWVzc2FnZVBheWxvYWQobW9kdWxlcywgbWVzc2FnZSk7XG5cdCAgcmV0dXJuICcvcHVibGlzaC8nICsgY29uZmlnLnB1Ymxpc2hLZXkgKyAnLycgKyBjb25maWcuc3Vic2NyaWJlS2V5ICsgJy8wLycgKyBfdXRpbHMyLmRlZmF1bHQuZW5jb2RlU3RyaW5nKGNoYW5uZWwpICsgJy8wLycgKyBfdXRpbHMyLmRlZmF1bHQuZW5jb2RlU3RyaW5nKHN0cmluZ2lmaWVkUGF5bG9hZCk7XG5cdH1cblxuXHRmdW5jdGlvbiBwb3N0VVJMKG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSB7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXHQgIHZhciBjaGFubmVsID0gaW5jb21pbmdQYXJhbXMuY2hhbm5lbDtcblxuXHQgIHJldHVybiAnL3B1Ymxpc2gvJyArIGNvbmZpZy5wdWJsaXNoS2V5ICsgJy8nICsgY29uZmlnLnN1YnNjcmliZUtleSArICcvMC8nICsgX3V0aWxzMi5kZWZhdWx0LmVuY29kZVN0cmluZyhjaGFubmVsKSArICcvMCc7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRSZXF1ZXN0VGltZW91dChfcmVmMikge1xuXHQgIHZhciBjb25maWcgPSBfcmVmMi5jb25maWc7XG5cblx0ICByZXR1cm4gY29uZmlnLmdldFRyYW5zYWN0aW9uVGltZW91dCgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNBdXRoU3VwcG9ydGVkKCkge1xuXHQgIHJldHVybiB0cnVlO1xuXHR9XG5cblx0ZnVuY3Rpb24gcG9zdFBheWxvYWQobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgbWVzc2FnZSA9IGluY29taW5nUGFyYW1zLm1lc3NhZ2U7XG5cblx0ICByZXR1cm4gcHJlcGFyZU1lc3NhZ2VQYXlsb2FkKG1vZHVsZXMsIG1lc3NhZ2UpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcHJlcGFyZVBhcmFtcyhtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBtZXRhID0gaW5jb21pbmdQYXJhbXMubWV0YSxcblx0ICAgICAgX2luY29taW5nUGFyYW1zJHJlcGxpID0gaW5jb21pbmdQYXJhbXMucmVwbGljYXRlLFxuXHQgICAgICByZXBsaWNhdGUgPSBfaW5jb21pbmdQYXJhbXMkcmVwbGkgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfaW5jb21pbmdQYXJhbXMkcmVwbGksXG5cdCAgICAgIHN0b3JlSW5IaXN0b3J5ID0gaW5jb21pbmdQYXJhbXMuc3RvcmVJbkhpc3RvcnksXG5cdCAgICAgIHR0bCA9IGluY29taW5nUGFyYW1zLnR0bDtcblxuXHQgIHZhciBwYXJhbXMgPSB7fTtcblxuXHQgIGlmIChzdG9yZUluSGlzdG9yeSAhPSBudWxsKSB7XG5cdCAgICBpZiAoc3RvcmVJbkhpc3RvcnkpIHtcblx0ICAgICAgcGFyYW1zLnN0b3JlID0gJzEnO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcGFyYW1zLnN0b3JlID0gJzAnO1xuXHQgICAgfVxuXHQgIH1cblxuXHQgIGlmICh0dGwpIHtcblx0ICAgIHBhcmFtcy50dGwgPSB0dGw7XG5cdCAgfVxuXG5cdCAgaWYgKHJlcGxpY2F0ZSA9PT0gZmFsc2UpIHtcblx0ICAgIHBhcmFtcy5ub3JlcCA9ICd0cnVlJztcblx0ICB9XG5cblx0ICBpZiAobWV0YSAmJiAodHlwZW9mIG1ldGEgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG1ldGEpKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgIHBhcmFtcy5tZXRhID0gSlNPTi5zdHJpbmdpZnkobWV0YSk7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIHBhcmFtcztcblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKG1vZHVsZXMsIHNlcnZlclJlc3BvbnNlKSB7XG5cdCAgcmV0dXJuIHsgdGltZXRva2VuOiBzZXJ2ZXJSZXNwb25zZVsyXSB9O1xuXHR9XG5cbi8qKiovIH0sXG4vKiA0MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldE9wZXJhdGlvbiA9IGdldE9wZXJhdGlvbjtcblx0ZXhwb3J0cy52YWxpZGF0ZVBhcmFtcyA9IHZhbGlkYXRlUGFyYW1zO1xuXHRleHBvcnRzLmdldFVSTCA9IGdldFVSTDtcblx0ZXhwb3J0cy5nZXRSZXF1ZXN0VGltZW91dCA9IGdldFJlcXVlc3RUaW1lb3V0O1xuXHRleHBvcnRzLmlzQXV0aFN1cHBvcnRlZCA9IGlzQXV0aFN1cHBvcnRlZDtcblx0ZXhwb3J0cy5wcmVwYXJlUGFyYW1zID0gcHJlcGFyZVBhcmFtcztcblx0ZXhwb3J0cy5oYW5kbGVSZXNwb25zZSA9IGhhbmRsZVJlc3BvbnNlO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG5cdHZhciBfdXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHMpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gX19wcm9jZXNzTWVzc2FnZShtb2R1bGVzLCBtZXNzYWdlKSB7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnLFxuXHQgICAgICBjcnlwdG8gPSBtb2R1bGVzLmNyeXB0bztcblxuXHQgIGlmICghY29uZmlnLmNpcGhlcktleSkgcmV0dXJuIG1lc3NhZ2U7XG5cblx0ICB0cnkge1xuXHQgICAgcmV0dXJuIGNyeXB0by5kZWNyeXB0KG1lc3NhZ2UpO1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIHJldHVybiBtZXNzYWdlO1xuXHQgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIGdldE9wZXJhdGlvbigpIHtcblx0ICByZXR1cm4gX29wZXJhdGlvbnMyLmRlZmF1bHQuUE5IaXN0b3J5T3BlcmF0aW9uO1xuXHR9XG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVQYXJhbXMobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgY2hhbm5lbCA9IGluY29taW5nUGFyYW1zLmNoYW5uZWw7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXG5cblx0ICBpZiAoIWNoYW5uZWwpIHJldHVybiAnTWlzc2luZyBjaGFubmVsJztcblx0ICBpZiAoIWNvbmZpZy5zdWJzY3JpYmVLZXkpIHJldHVybiAnTWlzc2luZyBTdWJzY3JpYmUgS2V5Jztcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFVSTChtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBjaGFubmVsID0gaW5jb21pbmdQYXJhbXMuY2hhbm5lbDtcblx0ICB2YXIgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cblx0ICByZXR1cm4gJy92Mi9oaXN0b3J5L3N1Yi1rZXkvJyArIGNvbmZpZy5zdWJzY3JpYmVLZXkgKyAnL2NoYW5uZWwvJyArIF91dGlsczIuZGVmYXVsdC5lbmNvZGVTdHJpbmcoY2hhbm5lbCk7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRSZXF1ZXN0VGltZW91dChfcmVmKSB7XG5cdCAgdmFyIGNvbmZpZyA9IF9yZWYuY29uZmlnO1xuXG5cdCAgcmV0dXJuIGNvbmZpZy5nZXRUcmFuc2FjdGlvblRpbWVvdXQoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlzQXV0aFN1cHBvcnRlZCgpIHtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGZ1bmN0aW9uIHByZXBhcmVQYXJhbXMobW9kdWxlcywgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgc3RhcnQgPSBpbmNvbWluZ1BhcmFtcy5zdGFydCxcblx0ICAgICAgZW5kID0gaW5jb21pbmdQYXJhbXMuZW5kLFxuXHQgICAgICByZXZlcnNlID0gaW5jb21pbmdQYXJhbXMucmV2ZXJzZSxcblx0ICAgICAgX2luY29taW5nUGFyYW1zJGNvdW50ID0gaW5jb21pbmdQYXJhbXMuY291bnQsXG5cdCAgICAgIGNvdW50ID0gX2luY29taW5nUGFyYW1zJGNvdW50ID09PSB1bmRlZmluZWQgPyAxMDAgOiBfaW5jb21pbmdQYXJhbXMkY291bnQsXG5cdCAgICAgIF9pbmNvbWluZ1BhcmFtcyRzdHJpbiA9IGluY29taW5nUGFyYW1zLnN0cmluZ2lmaWVkVGltZVRva2VuLFxuXHQgICAgICBzdHJpbmdpZmllZFRpbWVUb2tlbiA9IF9pbmNvbWluZ1BhcmFtcyRzdHJpbiA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfaW5jb21pbmdQYXJhbXMkc3RyaW47XG5cblx0ICB2YXIgb3V0Z29pbmdQYXJhbXMgPSB7XG5cdCAgICBpbmNsdWRlX3Rva2VuOiAndHJ1ZSdcblx0ICB9O1xuXG5cdCAgb3V0Z29pbmdQYXJhbXMuY291bnQgPSBjb3VudDtcblx0ICBpZiAoc3RhcnQpIG91dGdvaW5nUGFyYW1zLnN0YXJ0ID0gc3RhcnQ7XG5cdCAgaWYgKGVuZCkgb3V0Z29pbmdQYXJhbXMuZW5kID0gZW5kO1xuXHQgIGlmIChzdHJpbmdpZmllZFRpbWVUb2tlbikgb3V0Z29pbmdQYXJhbXMuc3RyaW5nX21lc3NhZ2VfdG9rZW4gPSAndHJ1ZSc7XG5cdCAgaWYgKHJldmVyc2UgIT0gbnVsbCkgb3V0Z29pbmdQYXJhbXMucmV2ZXJzZSA9IHJldmVyc2UudG9TdHJpbmcoKTtcblxuXHQgIHJldHVybiBvdXRnb2luZ1BhcmFtcztcblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKG1vZHVsZXMsIHNlcnZlclJlc3BvbnNlKSB7XG5cdCAgdmFyIHJlc3BvbnNlID0ge1xuXHQgICAgbWVzc2FnZXM6IFtdLFxuXHQgICAgc3RhcnRUaW1lVG9rZW46IHNlcnZlclJlc3BvbnNlWzFdLFxuXHQgICAgZW5kVGltZVRva2VuOiBzZXJ2ZXJSZXNwb25zZVsyXVxuXHQgIH07XG5cblx0ICBzZXJ2ZXJSZXNwb25zZVswXS5mb3JFYWNoKGZ1bmN0aW9uIChzZXJ2ZXJIaXN0b3J5SXRlbSkge1xuXHQgICAgdmFyIGl0ZW0gPSB7XG5cdCAgICAgIHRpbWV0b2tlbjogc2VydmVySGlzdG9yeUl0ZW0udGltZXRva2VuLFxuXHQgICAgICBlbnRyeTogX19wcm9jZXNzTWVzc2FnZShtb2R1bGVzLCBzZXJ2ZXJIaXN0b3J5SXRlbS5tZXNzYWdlKVxuXHQgICAgfTtcblxuXHQgICAgcmVzcG9uc2UubWVzc2FnZXMucHVzaChpdGVtKTtcblx0ICB9KTtcblxuXHQgIHJldHVybiByZXNwb25zZTtcblx0fVxuXG4vKioqLyB9LFxuLyogNDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5nZXRPcGVyYXRpb24gPSBnZXRPcGVyYXRpb247XG5cdGV4cG9ydHMudmFsaWRhdGVQYXJhbXMgPSB2YWxpZGF0ZVBhcmFtcztcblx0ZXhwb3J0cy5nZXRVUkwgPSBnZXRVUkw7XG5cdGV4cG9ydHMuZ2V0UmVxdWVzdFRpbWVvdXQgPSBnZXRSZXF1ZXN0VGltZW91dDtcblx0ZXhwb3J0cy5pc0F1dGhTdXBwb3J0ZWQgPSBpc0F1dGhTdXBwb3J0ZWQ7XG5cdGV4cG9ydHMucHJlcGFyZVBhcmFtcyA9IHByZXBhcmVQYXJhbXM7XG5cdGV4cG9ydHMuaGFuZGxlUmVzcG9uc2UgPSBoYW5kbGVSZXNwb25zZTtcblxuXHR2YXIgX2Zsb3dfaW50ZXJmYWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cblx0dmFyIF9vcGVyYXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cblx0dmFyIF9vcGVyYXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29wZXJhdGlvbnMpO1xuXG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxuXHR2YXIgX3V0aWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxzKTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5cdGZ1bmN0aW9uIF9fcHJvY2Vzc01lc3NhZ2UobW9kdWxlcywgbWVzc2FnZSkge1xuXHQgIHZhciBjb25maWcgPSBtb2R1bGVzLmNvbmZpZyxcblx0ICAgICAgY3J5cHRvID0gbW9kdWxlcy5jcnlwdG87XG5cblx0ICBpZiAoIWNvbmZpZy5jaXBoZXJLZXkpIHJldHVybiBtZXNzYWdlO1xuXG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiBjcnlwdG8uZGVjcnlwdChtZXNzYWdlKTtcblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICByZXR1cm4gbWVzc2FnZTtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRPcGVyYXRpb24oKSB7XG5cdCAgcmV0dXJuIF9vcGVyYXRpb25zMi5kZWZhdWx0LlBORmV0Y2hNZXNzYWdlc09wZXJhdGlvbjtcblx0fVxuXG5cdGZ1bmN0aW9uIHZhbGlkYXRlUGFyYW1zKG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSB7XG5cdCAgdmFyIGNoYW5uZWxzID0gaW5jb21pbmdQYXJhbXMuY2hhbm5lbHM7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXG5cblx0ICBpZiAoIWNoYW5uZWxzIHx8IGNoYW5uZWxzLmxlbmd0aCA9PT0gMCkgcmV0dXJuICdNaXNzaW5nIGNoYW5uZWxzJztcblx0ICBpZiAoIWNvbmZpZy5zdWJzY3JpYmVLZXkpIHJldHVybiAnTWlzc2luZyBTdWJzY3JpYmUgS2V5Jztcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFVSTChtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBfaW5jb21pbmdQYXJhbXMkY2hhbm4gPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVscyxcblx0ICAgICAgY2hhbm5lbHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm4gPT09IHVuZGVmaW5lZCA/IFtdIDogX2luY29taW5nUGFyYW1zJGNoYW5uO1xuXHQgIHZhciBjb25maWcgPSBtb2R1bGVzLmNvbmZpZztcblxuXG5cdCAgdmFyIHN0cmluZ2lmaWVkQ2hhbm5lbHMgPSBjaGFubmVscy5sZW5ndGggPiAwID8gY2hhbm5lbHMuam9pbignLCcpIDogJywnO1xuXHQgIHJldHVybiAnL3YzL2hpc3Rvcnkvc3ViLWtleS8nICsgY29uZmlnLnN1YnNjcmliZUtleSArICcvY2hhbm5lbC8nICsgX3V0aWxzMi5kZWZhdWx0LmVuY29kZVN0cmluZyhzdHJpbmdpZmllZENoYW5uZWxzKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFJlcXVlc3RUaW1lb3V0KF9yZWYpIHtcblx0ICB2YXIgY29uZmlnID0gX3JlZi5jb25maWc7XG5cblx0ICByZXR1cm4gY29uZmlnLmdldFRyYW5zYWN0aW9uVGltZW91dCgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNBdXRoU3VwcG9ydGVkKCkge1xuXHQgIHJldHVybiB0cnVlO1xuXHR9XG5cblx0ZnVuY3Rpb24gcHJlcGFyZVBhcmFtcyhtb2R1bGVzLCBpbmNvbWluZ1BhcmFtcykge1xuXHQgIHZhciBzdGFydCA9IGluY29taW5nUGFyYW1zLnN0YXJ0LFxuXHQgICAgICBlbmQgPSBpbmNvbWluZ1BhcmFtcy5lbmQsXG5cdCAgICAgIGNvdW50ID0gaW5jb21pbmdQYXJhbXMuY291bnQ7XG5cblx0ICB2YXIgb3V0Z29pbmdQYXJhbXMgPSB7fTtcblxuXHQgIGlmIChjb3VudCkgb3V0Z29pbmdQYXJhbXMubWF4ID0gY291bnQ7XG5cdCAgaWYgKHN0YXJ0KSBvdXRnb2luZ1BhcmFtcy5zdGFydCA9IHN0YXJ0O1xuXHQgIGlmIChlbmQpIG91dGdvaW5nUGFyYW1zLmVuZCA9IGVuZDtcblxuXHQgIHJldHVybiBvdXRnb2luZ1BhcmFtcztcblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKG1vZHVsZXMsIHNlcnZlclJlc3BvbnNlKSB7XG5cdCAgdmFyIHJlc3BvbnNlID0ge1xuXHQgICAgY2hhbm5lbHM6IHt9XG5cdCAgfTtcblxuXHQgIE9iamVjdC5rZXlzKHNlcnZlclJlc3BvbnNlLmNoYW5uZWxzIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uIChjaGFubmVsTmFtZSkge1xuXHQgICAgcmVzcG9uc2UuY2hhbm5lbHNbY2hhbm5lbE5hbWVdID0gW107XG5cblx0ICAgIChzZXJ2ZXJSZXNwb25zZS5jaGFubmVsc1tjaGFubmVsTmFtZV0gfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKG1lc3NhZ2VFbnZlbG9wZSkge1xuXHQgICAgICB2YXIgYW5ub3VuY2UgPSB7fTtcblx0ICAgICAgYW5ub3VuY2UuY2hhbm5lbCA9IGNoYW5uZWxOYW1lO1xuXHQgICAgICBhbm5vdW5jZS5zdWJzY3JpcHRpb24gPSBudWxsO1xuXHQgICAgICBhbm5vdW5jZS50aW1ldG9rZW4gPSBtZXNzYWdlRW52ZWxvcGUudGltZXRva2VuO1xuXHQgICAgICBhbm5vdW5jZS5tZXNzYWdlID0gX19wcm9jZXNzTWVzc2FnZShtb2R1bGVzLCBtZXNzYWdlRW52ZWxvcGUubWVzc2FnZSk7XG5cdCAgICAgIHJlc3BvbnNlLmNoYW5uZWxzW2NoYW5uZWxOYW1lXS5wdXNoKGFubm91bmNlKTtcblx0ICAgIH0pO1xuXHQgIH0pO1xuXG5cdCAgcmV0dXJuIHJlc3BvbnNlO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldE9wZXJhdGlvbiA9IGdldE9wZXJhdGlvbjtcblx0ZXhwb3J0cy52YWxpZGF0ZVBhcmFtcyA9IHZhbGlkYXRlUGFyYW1zO1xuXHRleHBvcnRzLmdldFVSTCA9IGdldFVSTDtcblx0ZXhwb3J0cy5nZXRSZXF1ZXN0VGltZW91dCA9IGdldFJlcXVlc3RUaW1lb3V0O1xuXHRleHBvcnRzLmlzQXV0aFN1cHBvcnRlZCA9IGlzQXV0aFN1cHBvcnRlZDtcblx0ZXhwb3J0cy5wcmVwYXJlUGFyYW1zID0gcHJlcGFyZVBhcmFtcztcblx0ZXhwb3J0cy5oYW5kbGVSZXNwb25zZSA9IGhhbmRsZVJlc3BvbnNlO1xuXG5cdHZhciBfZmxvd19pbnRlcmZhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgX29wZXJhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHR2YXIgX29wZXJhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb3BlcmF0aW9ucyk7XG5cblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG5cdHZhciBfdXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHMpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZnVuY3Rpb24gZ2V0T3BlcmF0aW9uKCkge1xuXHQgIHJldHVybiBfb3BlcmF0aW9uczIuZGVmYXVsdC5QTlN1YnNjcmliZU9wZXJhdGlvbjtcblx0fVxuXG5cdGZ1bmN0aW9uIHZhbGlkYXRlUGFyYW1zKG1vZHVsZXMpIHtcblx0ICB2YXIgY29uZmlnID0gbW9kdWxlcy5jb25maWc7XG5cblxuXHQgIGlmICghY29uZmlnLnN1YnNjcmliZUtleSkgcmV0dXJuICdNaXNzaW5nIFN1YnNjcmliZSBLZXknO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0VVJMKG1vZHVsZXMsIGluY29taW5nUGFyYW1zKSB7XG5cdCAgdmFyIGNvbmZpZyA9IG1vZHVsZXMuY29uZmlnO1xuXHQgIHZhciBfaW5jb21pbmdQYXJhbXMkY2hhbm4gPSBpbmNvbWluZ1BhcmFtcy5jaGFubmVscyxcblx0ICAgICAgY2hhbm5lbHMgPSBfaW5jb21pbmdQYXJhbXMkY2hhbm4gPT09IHVuZGVmaW5lZCA/IFtdIDogX2luY29taW5nUGFyYW1zJGNoYW5uO1xuXG5cdCAgdmFyIHN0cmluZ2lmaWVkQ2hhbm5lbHMgPSBjaGFubmVscy5sZW5ndGggPiAwID8gY2hhbm5lbHMuam9pbignLCcpIDogJywnO1xuXHQgIHJldHVybiAnL3YyL3N1YnNjcmliZS8nICsgY29uZmlnLnN1YnNjcmliZUtleSArICcvJyArIF91dGlsczIuZGVmYXVsdC5lbmNvZGVTdHJpbmcoc3RyaW5naWZpZWRDaGFubmVscykgKyAnLzAnO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0UmVxdWVzdFRpbWVvdXQoX3JlZikge1xuXHQgIHZhciBjb25maWcgPSBfcmVmLmNvbmZpZztcblxuXHQgIHJldHVybiBjb25maWcuZ2V0U3Vic2NyaWJlVGltZW91dCgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNBdXRoU3VwcG9ydGVkKCkge1xuXHQgIHJldHVybiB0cnVlO1xuXHR9XG5cblx0ZnVuY3Rpb24gcHJlcGFyZVBhcmFtcyhfcmVmMiwgaW5jb21pbmdQYXJhbXMpIHtcblx0ICB2YXIgY29uZmlnID0gX3JlZjIuY29uZmlnO1xuXHQgIHZhciBfaW5jb21pbmdQYXJhbXMkY2hhbm4yID0gaW5jb21pbmdQYXJhbXMuY2hhbm5lbEdyb3Vwcyxcblx0ICAgICAgY2hhbm5lbEdyb3VwcyA9IF9pbmNvbWluZ1BhcmFtcyRjaGFubjIgPT09IHVuZGVmaW5lZCA/IFtdIDogX2luY29taW5nUGFyYW1zJGNoYW5uMixcblx0ICAgICAgdGltZXRva2VuID0gaW5jb21pbmdQYXJhbXMudGltZXRva2VuLFxuXHQgICAgICBmaWx0ZXJFeHByZXNzaW9uID0gaW5jb21pbmdQYXJhbXMuZmlsdGVyRXhwcmVzc2lvbixcblx0ICAgICAgcmVnaW9uID0gaW5jb21pbmdQYXJhbXMucmVnaW9uO1xuXG5cdCAgdmFyIHBhcmFtcyA9IHtcblx0ICAgIGhlYXJ0YmVhdDogY29uZmlnLmdldFByZXNlbmNlVGltZW91dCgpXG5cdCAgfTtcblxuXHQgIGlmIChjaGFubmVsR3JvdXBzLmxlbmd0aCA+IDApIHtcblx0ICAgIHBhcmFtc1snY2hhbm5lbC1ncm91cCddID0gY2hhbm5lbEdyb3Vwcy5qb2luKCcsJyk7XG5cdCAgfVxuXG5cdCAgaWYgKGZpbHRlckV4cHJlc3Npb24gJiYgZmlsdGVyRXhwcmVzc2lvbi5sZW5ndGggPiAwKSB7XG5cdCAgICBwYXJhbXNbJ2ZpbHRlci1leHByJ10gPSBmaWx0ZXJFeHByZXNzaW9uO1xuXHQgIH1cblxuXHQgIGlmICh0aW1ldG9rZW4pIHtcblx0ICAgIHBhcmFtcy50dCA9IHRpbWV0b2tlbjtcblx0ICB9XG5cblx0ICBpZiAocmVnaW9uKSB7XG5cdCAgICBwYXJhbXMudHIgPSByZWdpb247XG5cdCAgfVxuXG5cdCAgcmV0dXJuIHBhcmFtcztcblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKG1vZHVsZXMsIHNlcnZlclJlc3BvbnNlKSB7XG5cdCAgdmFyIG1lc3NhZ2VzID0gW107XG5cblx0ICBzZXJ2ZXJSZXNwb25zZS5tLmZvckVhY2goZnVuY3Rpb24gKHJhd01lc3NhZ2UpIHtcblx0ICAgIHZhciBwdWJsaXNoTWV0YURhdGEgPSB7XG5cdCAgICAgIHB1Ymxpc2hUaW1ldG9rZW46IHJhd01lc3NhZ2UucC50LFxuXHQgICAgICByZWdpb246IHJhd01lc3NhZ2UucC5yXG5cdCAgICB9O1xuXHQgICAgdmFyIHBhcnNlZE1lc3NhZ2UgPSB7XG5cdCAgICAgIHNoYXJkOiBwYXJzZUludChyYXdNZXNzYWdlLmEsIDEwKSxcblx0ICAgICAgc3Vic2NyaXB0aW9uTWF0Y2g6IHJhd01lc3NhZ2UuYixcblx0ICAgICAgY2hhbm5lbDogcmF3TWVzc2FnZS5jLFxuXHQgICAgICBwYXlsb2FkOiByYXdNZXNzYWdlLmQsXG5cdCAgICAgIGZsYWdzOiByYXdNZXNzYWdlLmYsXG5cdCAgICAgIGlzc3VpbmdDbGllbnRJZDogcmF3TWVzc2FnZS5pLFxuXHQgICAgICBzdWJzY3JpYmVLZXk6IHJhd01lc3NhZ2Uuayxcblx0ICAgICAgb3JpZ2luYXRpb25UaW1ldG9rZW46IHJhd01lc3NhZ2Uubyxcblx0ICAgICAgcHVibGlzaE1ldGFEYXRhOiBwdWJsaXNoTWV0YURhdGFcblx0ICAgIH07XG5cdCAgICBtZXNzYWdlcy5wdXNoKHBhcnNlZE1lc3NhZ2UpO1xuXHQgIH0pO1xuXG5cdCAgdmFyIG1ldGFkYXRhID0ge1xuXHQgICAgdGltZXRva2VuOiBzZXJ2ZXJSZXNwb25zZS50LnQsXG5cdCAgICByZWdpb246IHNlcnZlclJlc3BvbnNlLnQuclxuXHQgIH07XG5cblx0ICByZXR1cm4geyBtZXNzYWdlczogbWVzc2FnZXMsIG1ldGFkYXRhOiBtZXRhZGF0YSB9O1xuXHR9XG5cbi8qKiovIH0sXG4vKiA0NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXG5cdHZhciBfYmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5cdHZhciBfYmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNlKTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cblx0ZnVuY3Rpb24gc2VuZEJlYWNvbih1cmwpIHtcblx0ICBpZiAobmF2aWdhdG9yICYmIG5hdmlnYXRvci5zZW5kQmVhY29uKSB7XG5cdCAgICBuYXZpZ2F0b3Iuc2VuZEJlYWNvbih1cmwpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHR9XG5cblx0dmFyIF9jbGFzcyA9IGZ1bmN0aW9uIChfTmV0d29ya2luZykge1xuXHQgIF9pbmhlcml0cyhfY2xhc3MsIF9OZXR3b3JraW5nKTtcblxuXHQgIGZ1bmN0aW9uIF9jbGFzcygpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBfY2xhc3MpO1xuXG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9jbGFzcy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKF9jbGFzcykpLmNhbGwodGhpcywgeyBzZW5kQmVhY29uTW9kdWxlOiBzZW5kQmVhY29uIH0pKTtcblx0ICB9XG5cblx0ICByZXR1cm4gX2NsYXNzO1xuXHR9KF9iYXNlMi5kZWZhdWx0KTtcblxuXHRleHBvcnRzLmRlZmF1bHQgPSBfY2xhc3M7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9XG4vKioqKioqLyBdKVxufSk7XG47XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3B1Ym51Yi9kaXN0L3dlYi9wdWJudWIuanNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 33 */
/* unknown exports provided */
/* all exports used */
/*!***********************!*\
  !*** ./src/index.tsx ***!
  \***********************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(/*! react */ 1);\r\nvar ReactDOM = __webpack_require__(/*! react-dom */ 11);\r\nvar SearchContainer_1 = __webpack_require__(/*! ./components/SearchContainer */ 10);\r\nReactDOM.render(React.createElement(SearchContainer_1.SearchContainer, null), document.getElementById(\"example\"));\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2luZGV4LnRzeD8zODY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuXG5pbXBvcnQgeyBTZWFyY2hDb250YWluZXIgfSBmcm9tIFwiLi9jb21wb25lbnRzL1NlYXJjaENvbnRhaW5lclwiO1xuXG5SZWFjdERPTS5yZW5kZXIoXG4gICAgPFNlYXJjaENvbnRhaW5lciAvPixcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4YW1wbGVcIilcbik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2luZGV4LnRzeCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBRUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ })
/******/ ]);